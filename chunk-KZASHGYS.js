import{a as st,b as at}from"./chunk-MI5GPO5K.js";import{E as tt,Pc as rt,S as ye,Sb as nt,T as ae,Uc as it}from"./chunk-FEC2V4R3.js";import{I as Pe,Jb as ze,Kb as Ge,Qb as ge,Rb as Ke,Sb as Xe,T as Be,Zc as et,ba as te,d as Le,db as He,dc as Ye,ec as Je,ma as Ue,mb as $e,na as We,o as Ie,qc as Qe,rc as Ze,ta as Ne,va as qe}from"./chunk-EG5ORV3B.js";import{e as Ft,g as Lt}from"./chunk-VB56BUGO.js";var ot=Ft((Yt,ue)=>{"use strict";(function(){function r(e,n,u){return e.call.apply(e.bind,arguments)}function i(e,n,u){if(!e)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,l),e.apply(n,p)}}return function(){return e.apply(n,arguments)}}function t(e,n,u){return t=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?r:i,t.apply(null,arguments)}var a=Date.now||function(){return+new Date};function d(e,n){this.a=e,this.o=n||e,this.c=this.o.document}var v=!!window.FontFace;function s(e,n,u,l){if(n=e.c.createElement(n),u)for(var p in u)u.hasOwnProperty(p)&&(p=="style"?n.style.cssText=u[p]:n.setAttribute(p,u[p]));return l&&n.appendChild(e.c.createTextNode(l)),n}function C(e,n,u){e=e.c.getElementsByTagName(n)[0],e||(e=document.documentElement),e.insertBefore(u,e.lastChild)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e,n,u){n=n||[],u=u||[];for(var l=e.className.split(/\s+/),p=0;p<n.length;p+=1){for(var y=!1,b=0;b<l.length;b+=1)if(n[p]===l[b]){y=!0;break}y||l.push(n[p])}for(n=[],p=0;p<l.length;p+=1){for(y=!1,b=0;b<u.length;b+=1)if(l[p]===u[b]){y=!0;break}y||n.push(l[p])}e.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(e,n){for(var u=e.className.split(/\s+/),l=0,p=u.length;l<p;l++)if(u[l]==n)return!0;return!1}function f(e){return e.o.location.hostname||e.a.location.hostname}function g(e,n,u){function l(){A&&p&&y&&(A(b),A=null)}n=s(e,"link",{rel:"stylesheet",href:n,media:"all"});var p=!1,y=!0,b=null,A=u||null;v?(n.onload=function(){p=!0,l()},n.onerror=function(){p=!0,b=Error("Stylesheet failed to load"),l()}):setTimeout(function(){p=!0,l()},0),C(e,"head",n)}function E(e,n,u,l){var p=e.c.getElementsByTagName("head")[0];if(p){var y=s(e,"script",{src:n}),b=!1;return y.onload=y.onreadystatechange=function(){b||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(b=!0,u&&u(null),y.onload=y.onreadystatechange=null,y.parentNode.tagName=="HEAD"&&p.removeChild(y))},p.appendChild(y),setTimeout(function(){b||(b=!0,u&&u(Error("Script load timeout")))},l||5e3),y}return null}function S(){this.a=0,this.c=null}function O(e){return e.a++,function(){e.a--,x(e)}}function T(e,n){e.c=n,x(e)}function x(e){e.a==0&&e.c&&(e.c(),e.c=null)}function I(e){this.a=e||"-"}I.prototype.c=function(e){for(var n=[],u=0;u<arguments.length;u++)n.push(arguments[u].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)};function k(e,n){this.c=e,this.f=4,this.a="n";var u=(n||"n4").match(/^([nio])([1-9])$/i);u&&(this.a=u[1],this.f=parseInt(u[2],10))}function U(e){return _(e)+" "+(e.f+"00")+" 300px "+P(e.c)}function P(e){var n=[];e=e.split(/,\s*/);for(var u=0;u<e.length;u++){var l=e[u].replace(/['"]/g,"");l.indexOf(" ")!=-1||/^\d/.test(l)?n.push("'"+l+"'"):n.push(l)}return n.join(",")}function F(e){return e.a+e.f}function _(e){var n="normal";return e.a==="o"?n="oblique":e.a==="i"&&(n="italic"),n}function Z(e){var n=4,u="n",l=null;return e&&((l=e.match(/(normal|oblique|italic)/i))&&l[1]&&(u=l[1].substr(0,1).toLowerCase()),(l=e.match(/([1-9]00|normal|bold)/i))&&l[1]&&(/bold/i.test(l[1])?n=7:/[1-9]00/.test(l[1])&&(n=parseInt(l[1].substr(0,1),10)))),u+n}function G(e,n){this.c=e,this.f=e.o.document.documentElement,this.h=n,this.a=new I("-"),this.j=n.events!==!1,this.g=n.classes!==!1}function W(e){e.g&&c(e.f,[e.a.c("wf","loading")]),q(e,"loading")}function Y(e){if(e.g){var n=o(e.f,e.a.c("wf","active")),u=[],l=[e.a.c("wf","loading")];n||u.push(e.a.c("wf","inactive")),c(e.f,u,l)}q(e,"inactive")}function q(e,n,u){e.j&&e.h[n]&&(u?e.h[n](u.c,F(u)):e.h[n]())}function m(){this.c={}}function w(e,n,u){var l=[],p;for(p in n)if(n.hasOwnProperty(p)){var y=e.c[p];y&&l.push(y(n[p],u))}return l}function j(e,n){this.c=e,this.f=n,this.a=s(this.c,"span",{"aria-hidden":"true"},this.f)}function R(e){C(e.c,"body",e.a)}function B(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+P(e.c)+";"+("font-style:"+_(e)+";font-weight:"+(e.f+"00")+";")}function ee(e,n,u,l,p,y){this.g=e,this.j=n,this.a=l,this.c=u,this.f=p||3e3,this.h=y||void 0}ee.prototype.start=function(){var e=this.c.o.document,n=this,u=a(),l=new Promise(function(b,A){function V(){a()-u>=n.f?A():e.fonts.load(U(n.a),n.h).then(function(D){1<=D.length?b():setTimeout(V,25)},function(){A()})}V()}),p=null,y=new Promise(function(b,A){p=setTimeout(A,n.f)});Promise.race([y,l]).then(function(){p&&(clearTimeout(p),p=null),n.g(n.a)},function(){n.j(n.a)})};function J(e,n,u,l,p,y,b){this.v=e,this.B=n,this.c=u,this.a=l,this.s=b||"BESbswy",this.f={},this.w=p||3e3,this.u=y||null,this.m=this.j=this.h=this.g=null,this.g=new j(this.c,this.s),this.h=new j(this.c,this.s),this.j=new j(this.c,this.s),this.m=new j(this.c,this.s),e=new k(this.a.c+",serif",F(this.a)),e=B(e),this.g.a.style.cssText=e,e=new k(this.a.c+",sans-serif",F(this.a)),e=B(e),this.h.a.style.cssText=e,e=new k("serif",F(this.a)),e=B(e),this.j.a.style.cssText=e,e=new k("sans-serif",F(this.a)),e=B(e),this.m.a.style.cssText=e,R(this.g),R(this.h),R(this.j),R(this.m)}var re={D:"serif",C:"sans-serif"},se=null;function je(){if(se===null){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);se=!!e&&(536>parseInt(e[1],10)||parseInt(e[1],10)===536&&11>=parseInt(e[2],10))}return se}J.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),Te(this)};function Oe(e,n,u){for(var l in re)if(re.hasOwnProperty(l)&&n===e.f[re[l]]&&u===e.f[re[l]])return!0;return!1}function Te(e){var n=e.g.a.offsetWidth,u=e.h.a.offsetWidth,l;(l=n===e.f.serif&&u===e.f["sans-serif"])||(l=je()&&Oe(e,n,u)),l?a()-e.A>=e.w?je()&&Oe(e,n,u)&&(e.u===null||e.u.hasOwnProperty(e.a.c))?pe(e,e.v):pe(e,e.B):bt(e):pe(e,e.v)}function bt(e){setTimeout(t(function(){Te(this)},e),50)}function pe(e,n){setTimeout(t(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),n(this.a)},e),0)}function de(e,n,u){this.c=e,this.a=n,this.f=0,this.m=this.j=!1,this.s=u}var ce=null;de.prototype.g=function(e){var n=this.a;n.g&&c(n.f,[n.a.c("wf",e.c,F(e).toString(),"active")],[n.a.c("wf",e.c,F(e).toString(),"loading"),n.a.c("wf",e.c,F(e).toString(),"inactive")]),q(n,"fontactive",e),this.m=!0,Ae(this)},de.prototype.h=function(e){var n=this.a;if(n.g){var u=o(n.f,n.a.c("wf",e.c,F(e).toString(),"active")),l=[],p=[n.a.c("wf",e.c,F(e).toString(),"loading")];u||l.push(n.a.c("wf",e.c,F(e).toString(),"inactive")),c(n.f,l,p)}q(n,"fontinactive",e),Ae(this)};function Ae(e){--e.f==0&&e.j&&(e.m?(e=e.a,e.g&&c(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),q(e,"active")):Y(e.a))}function xe(e){this.j=e,this.a=new m,this.h=0,this.f=this.g=!0}xe.prototype.load=function(e){this.c=new d(this.j,e.context||this.j),this.g=e.events!==!1,this.f=e.classes!==!1,Et(this,new G(this.c,e),e)};function Ct(e,n,u,l,p){var y=--e.h==0;(e.f||e.g)&&setTimeout(function(){var b=p||null,A=l||null||{};if(u.length===0&&y)Y(n.a);else{n.f+=u.length,y&&(n.j=y);var V,D=[];for(V=0;V<u.length;V++){var M=u[V],N=A[M.c],z=n.a,ie=M;if(z.g&&c(z.f,[z.a.c("wf",ie.c,F(ie).toString(),"loading")]),q(z,"fontloading",ie),z=null,ce===null)if(window.FontFace){var ie=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Mt=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ce=ie?42<parseInt(ie[1],10):!Mt}else ce=!1;ce?z=new ee(t(n.g,n),t(n.h,n),n.c,M,n.s,N):z=new J(t(n.g,n),t(n.h,n),n.c,M,n.s,b,N),D.push(z)}for(V=0;V<D.length;V++)D[V].start()}},0)}function Et(e,n,u){var p=[],l=u.timeout;W(n);var p=w(e.a,u,e.c),y=new de(e.c,n,l);for(e.h=p.length,n=0,u=p.length;n<u;n++)p[n].load(function(b,A,V){Ct(e,y,b,A,V)})}function Ve(e,n){this.c=e,this.a=n}Ve.prototype.load=function(e){function n(){if(y["__mti_fntLst"+l]){var b=y["__mti_fntLst"+l](),A=[],V;if(b)for(var D=0;D<b.length;D++){var M=b[D].fontfamily;b[D].fontStyle!=null&&b[D].fontWeight!=null?(V=b[D].fontStyle+b[D].fontWeight,A.push(new k(M,V))):A.push(new k(M))}e(A)}else setTimeout(function(){n()},50)}var u=this,l=u.a.projectId,p=u.a.version;if(l){var y=u.c.o;E(this.c,(u.a.api||"https://fast.fonts.net/jsapi")+"/"+l+".js"+(p?"?v="+p:""),function(b){b?e([]):(y["__MonotypeConfiguration__"+l]=function(){return u.a},n())}).id="__MonotypeAPIScript__"+l}else e([])};function ke(e,n){this.c=e,this.a=n}ke.prototype.load=function(e){var n,u,l=this.a.urls||[],p=this.a.families||[],y=this.a.testStrings||{},b=new S;for(n=0,u=l.length;n<u;n++)g(this.c,l[n],O(b));var A=[];for(n=0,u=p.length;n<u;n++)if(l=p[n].split(":"),l[1])for(var V=l[1].split(","),D=0;D<V.length;D+=1)A.push(new k(l[0],V[D]));else A.push(new k(l[0]));T(b,function(){e(A,y)})};function _t(e,n){e?this.c=e:this.c=jt,this.a=[],this.f=[],this.g=n||""}var jt="https://fonts.googleapis.com/css";function Ot(e,n){for(var u=n.length,l=0;l<u;l++){var p=n[l].split(":");p.length==3&&e.f.push(p.pop());var y="";p.length==2&&p[1]!=""&&(y=":"),e.a.push(p.join(y))}}function Tt(e){if(e.a.length==0)throw Error("No fonts to load!");if(e.c.indexOf("kit=")!=-1)return e.c;for(var n=e.a.length,u=[],l=0;l<n;l++)u.push(e.a[l].replace(/ /g,"+"));return n=e.c+"?family="+u.join("%7C"),0<e.f.length&&(n+="&subset="+e.f.join(",")),0<e.g.length&&(n+="&text="+encodeURIComponent(e.g)),n}function At(e){this.f=e,this.a=[],this.c={}}var Re={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},xt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Vt={i:"i",italic:"i",n:"n",normal:"n"},kt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Rt(e){for(var n=e.f.length,u=0;u<n;u++){var l=e.f[u].split(":"),p=l[0].replace(/\+/g," "),y=["n4"];if(2<=l.length){var b,A=l[1];if(b=[],A)for(var A=A.split(","),V=A.length,D=0;D<V;D++){var M;if(M=A[D],M.match(/^[\w-]+$/)){var N=kt.exec(M.toLowerCase());if(N==null)M="";else{if(M=N[2],M=M==null||M==""?"n":Vt[M],N=N[1],N==null||N=="")N="4";else var z=xt[N],N=z||(isNaN(N)?"4":N.substr(0,1));M=[M,N].join("")}}else M="";M&&b.push(M)}0<b.length&&(y=b),l.length==3&&(l=l[2],b=[],l=l?l.split(","):b,0<l.length&&(l=Re[l[0]])&&(e.c[p]=l))}for(e.c[p]||(l=Re[p])&&(e.c[p]=l),l=0;l<y.length;l+=1)e.a.push(new k(p,y[l]))}}function De(e,n){this.c=e,this.a=n}var Dt={Arimo:!0,Cousine:!0,Tinos:!0};De.prototype.load=function(e){var n=new S,u=this.c,l=new _t(this.a.api,this.a.text),p=this.a.families;Ot(l,p);var y=new At(p);Rt(y),g(u,Tt(l),O(n)),T(n,function(){e(y.a,y.c,Dt)})};function Me(e,n){this.c=e,this.a=n}Me.prototype.load=function(e){var n=this.a.id,u=this.c.o;n?E(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(l){if(l)e([]);else if(u.Typekit&&u.Typekit.config&&u.Typekit.config.fn){l=u.Typekit.config.fn;for(var p=[],y=0;y<l.length;y+=2)for(var b=l[y],A=l[y+1],V=0;V<A.length;V++)p.push(new k(b,A[V]));try{u.Typekit.load({events:!1,classes:!1,async:!0})}catch{}e(p)}},2e3):e([])};function Fe(e,n){this.c=e,this.f=n,this.a=[]}Fe.prototype.load=function(e){var n=this.f.id,u=this.c.o,l=this;n?(u.__webfontfontdeckmodule__||(u.__webfontfontdeckmodule__={}),u.__webfontfontdeckmodule__[n]=function(p,y){for(var b=0,A=y.fonts.length;b<A;++b){var V=y.fonts[b];l.a.push(new k(V.name,Z("font-weight:"+V.weight+";font-style:"+V.style)))}e(l.a)},E(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+f(this.c)+"/"+n+".js",function(p){p&&e([])})):e([])};var Q=new xe(window);Q.a.c.custom=function(e,n){return new ke(n,e)},Q.a.c.fontdeck=function(e,n){return new Fe(n,e)},Q.a.c.monotype=function(e,n){return new Ve(n,e)},Q.a.c.typekit=function(e,n){return new Me(n,e)},Q.a.c.google=function(e,n){return new De(n,e)};var ve={load:t(Q.load,Q)};typeof define=="function"&&define.amd?define(function(){return ve}):typeof ue<"u"&&ue.exports?ue.exports=ve:(window.WebFont=ve,window.WebFontConfig&&Q.load(window.WebFontConfig))})()});var St=Lt(ot());function H(){return H=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},H.apply(this,arguments)}function lt(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={mimeType:i.mimeType||null,onBeforeSend:i.onBeforeSend||Function.prototype,onSuccess:i.onSuccess||Function.prototype,onError:i.onError||Function.prototype,onComplete:i.onComplete||Function.prototype},a=Array.isArray(r)?r:[r],d=Array.apply(null,Array(a.length)).map(function(c){return null});function v(c){var o=typeof c=="string",f=o&&c.trim().charAt(0)==="<";return o&&!f}function s(c,o){t.onError(c,a[o],o)}function C(c,o){var f=t.onSuccess(c,a[o],o);c=f===!1?"":f||c,d[o]=c,d.indexOf(null)===-1&&t.onComplete(d)}var h=document.createElement("a");a.forEach(function(c,o){h.setAttribute("href",c),h.href=String(h.href);var f=!!(document.all&&!window.atob),g=f&&h.host.split(":")[0]!==location.host.split(":")[0];if(g){var E=h.protocol===location.protocol;if(E){var S=new XDomainRequest;S.open("GET",c),S.timeout=0,S.onprogress=Function.prototype,S.ontimeout=Function.prototype,S.onload=function(){var T=S.responseText;v(T)?C(T,o):s(S,o)},S.onerror=function(T){s(S,o)},setTimeout(function(){S.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(c,")")),s(null,o)}else{var O=new XMLHttpRequest;O.open("GET",c),t.mimeType&&O.overrideMimeType&&O.overrideMimeType(t.mimeType),t.onBeforeSend(O,c,o),O.onreadystatechange=function(){if(O.readyState===4){var T=O.responseText;O.status<400&&v(T)||O.status===0&&v(T)?C(T,o):s(O,o)}},O.send()}})}function ct(r){var i={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},t={rootElement:r.rootElement||document,include:r.include||'style,link[rel="stylesheet"]',exclude:r.exclude||null,filter:r.filter||null,skipDisabled:r.skipDisabled!==!1,useCSSOM:r.useCSSOM||!1,onBeforeSend:r.onBeforeSend||Function.prototype,onSuccess:r.onSuccess||Function.prototype,onError:r.onError||Function.prototype,onComplete:r.onComplete||Function.prototype},a=Array.apply(null,t.rootElement.querySelectorAll(t.include)).filter(function(c){return!It(c,t.exclude)}),d=Array.apply(null,Array(a.length)).map(function(c){return null});function v(){var c=d.indexOf(null)===-1;if(c){d.reduce(function(f,g,E){return g===""&&f.push(E),f},[]).reverse().forEach(function(f){return[a,d].forEach(function(g){return g.splice(f,1)})});var o=d.join("");t.onComplete(o,d,a)}}function s(c,o,f,g){var E=t.onSuccess(c,f,g);c=E!==void 0&&!E?"":E||c,h(c,f,g,function(S,O){d[o]===null&&(O.forEach(function(T){return t.onError(T.xhr,f,T.url)}),!t.filter||t.filter.test(S)?d[o]=S:d[o]="",v())})}function C(c,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g={};return g.rules=(c.replace(i.cssComments,"").match(i.cssImports)||[]).filter(function(E){return f.indexOf(E)===-1}),g.urls=g.rules.map(function(E){return E.replace(i.cssImports,"$1")}),g.absoluteUrls=g.urls.map(function(E){return we(E,o)}),g.absoluteRules=g.rules.map(function(E,S){var O=g.urls[S],T=we(g.absoluteUrls[S],o);return E.replace(O,T)}),g}function h(c,o,f,g){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],O=C(c,f,S);O.rules.length?lt(O.absoluteUrls,{onBeforeSend:function(x,I,k){t.onBeforeSend(x,o,I)},onSuccess:function(x,I,k){var U=t.onSuccess(x,o,I);x=U===!1?"":U||x;var P=C(x,I,S);return P.rules.forEach(function(F,_){x=x.replace(F,P.absoluteRules[_])}),x},onError:function(x,I,k){E.push({xhr:x,url:I}),S.push(O.rules[k]),h(c,o,f,g,E,S)},onComplete:function(x){x.forEach(function(I,k){c=c.replace(O.rules[k],I)}),h(c,o,f,g,E,S)}}):g(c,E)}a.length?a.forEach(function(c,o){var f=c.getAttribute("href"),g=c.getAttribute("rel"),E=c.nodeName.toLowerCase()==="link"&&f&&g&&g.toLowerCase().indexOf("stylesheet")!==-1,S=t.skipDisabled===!1?!1:c.disabled,O=c.nodeName.toLowerCase()==="style";if(E&&!S){var T=f.indexOf("data:text/css")!==-1;if(T){var x=decodeURIComponent(f.substring(f.indexOf(",")+1));t.useCSSOM&&(x=Array.apply(null,c.sheet.cssRules).map(function(k){return k.cssText}).join("")),s(x,o,c,location.href)}else lt(f,{mimeType:"text/css",onBeforeSend:function(U,P,F){t.onBeforeSend(U,c,P)},onSuccess:function(U,P,F){var _=we(f);s(U,o,c,_)},onError:function(U,P,F){d[o]="",t.onError(U,c,P),v()}})}else if(O&&!S){var I=c.textContent;t.useCSSOM&&(I=Array.apply(null,c.sheet.cssRules).map(function(k){return k.cssText}).join("")),s(I,o,c,location.href)}else d[o]="",v()}):t.onComplete("",[])}function we(r,i){var t=document.implementation.createHTMLDocument(""),a=t.createElement("base"),d=t.createElement("a");return t.head.appendChild(a),t.body.appendChild(d),a.href=i||document.baseURI||(document.querySelector("base")||{}).href||location.href,d.href=r,d.href}function It(r,i){var t=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;return t.call(r,i)}var ht=pt;function pt(r,i,t){r instanceof RegExp&&(r=ut(r,t)),i instanceof RegExp&&(i=ut(i,t));var a=dt(r,i,t);return a&&{start:a[0],end:a[1],pre:t.slice(0,a[0]),body:t.slice(a[0]+r.length,a[1]),post:t.slice(a[1]+i.length)}}function ut(r,i){var t=i.match(r);return t?t[0]:null}pt.range=dt;function dt(r,i,t){var a,d,v,s,C,h=t.indexOf(r),c=t.indexOf(i,h+1),o=h;if(h>=0&&c>0){if(r===i)return[h,c];for(a=[],v=t.length;o>=0&&!C;)o==h?(a.push(o),h=t.indexOf(r,o+1)):a.length==1?C=[a.pop(),c]:(d=a.pop(),d<v&&(v=d,s=c),c=t.indexOf(i,o+1)),o=h<c&&h>=0?h:c;a.length&&(C=[v,s])}return C}function _e(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,removeComments:!1},a=H({},t,i),d=[];function v(m){throw new Error("CSS parse error: ".concat(m))}function s(m){var w=m.exec(r);if(w)return r=r.slice(w[0].length),w}function C(){return s(/^{\s*/)}function h(){return s(/^}/)}function c(){s(/^\s*/)}function o(){if(c(),!(r[0]!=="/"||r[1]!=="*")){for(var m=2;r[m]&&(r[m]!=="*"||r[m+1]!=="/");)m++;if(!r[m])return v("end of comment is missing");var w=r.slice(2,m);return r=r.slice(m+2),{type:"comment",comment:w}}}function f(){for(var m=[],w;w=o();)m.push(w);return a.removeComments?[]:m}function g(){for(c();r[0]==="}";)v("extra closing bracket");var m=s(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(m){var w=m[0].trim(),j,R=/\/\*/.test(w);R&&(w=w.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var B=/["']\w*,\w*["']/.test(w);B&&(w=w.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(J){return J.replace(/,/g,"\u200C")}));var ee=/,/.test(w);return ee?j=w.split(/\s*(?![^(]*\)),\s*/):j=[w],B&&(j=j.map(function(J){return J.replace(/\u200C/g,",")})),j}}function E(){if(r[0]==="@")return W();s(/^([;\s]*)+/);var m=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,w=s(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(w){if(w=w[0].trim(),!s(/^:\s*/))return v("property missing ':'");var j=s(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),R={type:"declaration",property:w.replace(m,""),value:j?j[0].replace(m,"").trim():""};return s(/^[;\s]*/),R}}function S(){if(!C())return v("missing '{'");for(var m,w=f();m=E();)w.push(m),w=w.concat(f());return h()?w:v("missing '}'")}function O(){c();for(var m=[],w;w=s(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)m.push(w[1]),s(/^,\s*/);if(m.length)return{type:"keyframe",values:m,declarations:S()}}function T(){var m=s(/^@([-\w]+)?keyframes\s*/);if(m){var w=m[1];if(m=s(/^([-\w]+)\s*/),!m)return v("@keyframes missing name");var j=m[1];if(!C())return v("@keyframes missing '{'");for(var R,B=f();R=O();)B.push(R),B=B.concat(f());return h()?{type:"keyframes",name:j,vendor:w,keyframes:B}:v("@keyframes missing '}'")}}function x(){var m=s(/^@page */);if(m){var w=g()||[];return{type:"page",selectors:w,declarations:S()}}}function I(){var m=s(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(m){var w="".concat(m[1],"-").concat(m[2])+(m[3]?"-".concat(m[3]):"");return{type:"page-margin-box",name:w,declarations:S()}}}function k(){var m=s(/^@font-face\s*/);if(m)return{type:"font-face",declarations:S()}}function U(){var m=s(/^@supports *([^{]+)/);if(m)return{type:"supports",supports:m[1].trim(),rules:q()}}function P(){var m=s(/^@host\s*/);if(m)return{type:"host",rules:q()}}function F(){var m=s(/^@media([^{]+)*/);if(m)return{type:"media",media:(m[1]||"").trim(),rules:q()}}function _(){var m=s(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(m)return{type:"custom-media",name:m[1].trim(),media:m[2].trim()}}function Z(){var m=s(/^@([-\w]+)?document *([^{]+)/);if(m)return{type:"document",document:m[2].trim(),vendor:m[1]?m[1].trim():null,rules:q()}}function G(){var m=s(/^@(import|charset|namespace)\s*([^;]+);/);if(m)return{type:m[1],name:m[2].trim()}}function W(){if(c(),r[0]==="@"){var m=G()||k()||F()||T()||U()||Z()||_()||P()||x()||I();if(m&&!a.preserveStatic){var w=!1;if(m.declarations)w=m.declarations.some(function(R){return/var\(/.test(R.value)});else{var j=m.keyframes||m.rules||[];w=j.some(function(R){return(R.declarations||[]).some(function(B){return/var\(/.test(B.value)})})}return w?m:{}}return m}}function Y(){if(!a.preserveStatic){var m=ht("{","}",r);if(m){var w=/:(?:root|host)(?![.:#(])/.test(m.pre)&&/--\S*\s*:/.test(m.body),j=/var\(/.test(m.body);if(!w&&!j)return r=r.slice(m.end+1),{}}}var R=g()||[],B=a.preserveStatic?S():S().filter(function(ee){var J=R.some(function(se){return/:(?:root|host)(?![.:#(])/.test(se)})&&/^--\S/.test(ee.property),re=/var\(/.test(ee.value);return J||re});return R.length||v("selector missing"),{type:"rule",selectors:R,declarations:B}}function q(m){if(!m&&!C())return v("missing '{'");for(var w,j=f();r.length&&(m||r[0]!=="}")&&(w=W()||Y());)w.type&&j.push(w),j=j.concat(f());return!m&&!h()?v("missing '}'"):j}return{type:"stylesheet",stylesheet:{rules:q(!0),errors:d}}}function ft(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={parseHost:!1,store:{},onWarning:function(){}},a=H({},t,i),d=new RegExp(":".concat(a.parseHost?"host":"root","$"));return typeof r=="string"&&(r=_e(r,a)),r.stylesheet.rules.forEach(function(v){v.type!=="rule"||!v.selectors.some(function(s){return d.test(s)})||v.declarations.forEach(function(s,C){var h=s.property,c=s.value;h&&h.indexOf("--")===0&&(a.store[h]=c)})}),a.store}function vt(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,a={charset:function(s){return"@charset "+s.name+";"},comment:function(s){return s.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+s.comment+"*/":""},"custom-media":function(s){return"@custom-media "+s.name+" "+s.media+";"},declaration:function(s){return s.property+":"+s.value+";"},document:function(s){return"@"+(s.vendor||"")+"document "+s.document+"{"+d(s.rules)+"}"},"font-face":function(s){return"@font-face{"+d(s.declarations)+"}"},host:function(s){return"@host{"+d(s.rules)+"}"},import:function(s){return"@import "+s.name+";"},keyframe:function(s){return s.values.join(",")+"{"+d(s.declarations)+"}"},keyframes:function(s){return"@"+(s.vendor||"")+"keyframes "+s.name+"{"+d(s.keyframes)+"}"},media:function(s){return"@media "+s.media+"{"+d(s.rules)+"}"},namespace:function(s){return"@namespace "+s.name+";"},page:function(s){return"@page "+(s.selectors.length?s.selectors.join(", "):"")+"{"+d(s.declarations)+"}"},"page-margin-box":function(s){return"@"+s.name+"{"+d(s.declarations)+"}"},rule:function(s){var C=s.declarations;if(C.length)return s.selectors.join(",")+"{"+d(C)+"}"},supports:function(s){return"@supports "+s.supports+"{"+d(s.rules)+"}"}};function d(v){for(var s="",C=0;C<v.length;C++){var h=v[C];t&&t(h);var c=a[h.type](h);c&&(s+=c,c.length&&h.selectors&&(s+=i))}return s}return d(r.stylesheet.rules)}function gt(r,i){r.rules.forEach(function(t){if(t.rules){gt(t,i);return}if(t.keyframes){t.keyframes.forEach(function(a){a.type==="keyframe"&&i(a.declarations,t)});return}t.declarations&&i(t.declarations,r)})}var Pt="--",Bt="var";function Ut(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},a=H({},t,i);return typeof r=="string"&&(r=_e(r,a)),gt(r.stylesheet,function(d,v){for(var s=0;s<d.length;s++){var C=d[s],h=C.type,c=C.property,o=C.value;if(h==="declaration"){if(!a.preserveVars&&c&&c.indexOf(Pt)===0){d.splice(s,1),s--;continue}if(o.indexOf(Bt+"(")!==-1){var f=oe(o,a);f!==C.value&&(f=Wt(f),a.preserveVars?(d.splice(s,0,{type:h,property:c,value:f}),s++):C.value=f)}}}}),vt(r)}function Wt(r){var i=/calc\(([^)]+)\)/g;return(r.match(i)||[]).forEach(function(t){var a="calc".concat(t.split("calc").join(""));r=r.replace(t,a)}),r}function oe(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(r.indexOf("var(")===-1)return r;var a=ht("(",")",r);function d(s){var C=s.split(",")[0].replace(/[\s\n\t]/g,""),h=(s.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],c=Object.prototype.hasOwnProperty.call(i.variables,C)?String(i.variables[C]):void 0,o=c||(h?String(h):void 0),f=t||s;return c||i.onWarning('variable "'.concat(C,'" is undefined')),o&&o!=="undefined"&&o.length>0?oe(o,i,f):"var(".concat(f,")")}if(a)if(a.pre.slice(-3)==="var"){var v=a.body.trim().length===0;return v?(i.onWarning("var() must contain a non-whitespace string"),r):a.pre.slice(0,-3)+d(a.body)+oe(a.post,i)}else return a.pre+"(".concat(oe(a.body,i),")")+oe(a.post,i);else return r.indexOf("var(")!==-1&&i.onWarning('missing closing ")" in the value "'.concat(r,'"')),r}var he=typeof window<"u",mt=he&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),ne={group:0,job:0},fe={rootElement:he?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},K={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},L={dom:{},job:{},user:{}},me=!1,$=null,le=0,be=null,Ce=!1;function X(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="cssVars(): ",t=H({},fe,r);function a(o,f,g,E){!t.silent&&window.console&&console.error("".concat(i).concat(o,`
`),f),t.onError(o,f,g,E)}function d(o){!t.silent&&window.console&&console.warn("".concat(i).concat(o)),t.onWarning(o)}function v(o){t.onFinally(!!o,mt,Se()-t.__benchmark)}if(he){if(t.watch){t.watch=fe.watch,Nt(t),X(t);return}else t.watch===!1&&$&&($.disconnect(),$=null);if(!t.__benchmark){if(me===t.rootElement){qt(r);return}var s=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(t.__benchmark=Se(),t.exclude=[$?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",t.exclude].filter(function(o){return o}).join(","),t.variables=zt(t.variables),s.forEach(function(o){var f=o.nodeName.toLowerCase()==="style"&&o.__cssVars.text,g=f&&o.textContent!==o.__cssVars.text;f&&g&&(o.sheet&&(o.sheet.disabled=!1),o.setAttribute("data-cssvars",""))}),!$){var C=[].slice.call(t.rootElement.querySelectorAll('[data-cssvars="out"]'));C.forEach(function(o){var f=o.getAttribute("data-cssvars-group"),g=f?t.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(f,'"]')):null;g||o.parentNode.removeChild(o)}),le&&s.length<le&&(le=s.length,L.dom={})}}if(document.readyState!=="loading")if(mt&&t.onlyLegacy){var h=!1;if(t.updateDOM){var c=t.rootElement.host||(t.rootElement===document?document.documentElement:t.rootElement);Object.keys(t.variables).forEach(function(o){var f=t.variables[o];h=h||f!==getComputedStyle(c).getPropertyValue(o),c.style.setProperty(o,f)})}v(h)}else!Ce&&(t.shadowDOM||t.rootElement.shadowRoot||t.rootElement.host)?ct({rootElement:fe.rootElement,include:fe.include,exclude:t.exclude,skipDisabled:!1,onSuccess:function(f,g,E){var S=(g.sheet||{}).disabled&&!g.__cssVars;return S?!1:(f=f.replace(K.cssComments,"").replace(K.cssMediaQueries,""),f=(f.match(K.cssVarDeclRules)||[]).join(""),f||!1)},onComplete:function(f,g,E){ft(f,{store:L.dom,onWarning:d}),Ce=!0,X(t)}}):(me=t.rootElement,ct({rootElement:t.rootElement,include:t.include,exclude:t.exclude,skipDisabled:!1,onBeforeSend:t.onBeforeSend,onError:function(f,g,E){var S=f.responseURL||yt(E,location.href),O=f.statusText?"(".concat(f.statusText,")"):"Unspecified Error"+(f.status===0?" (possibly CORS related)":""),T="CSS XHR Error: ".concat(S," ").concat(f.status," ").concat(O);a(T,g,f,S)},onSuccess:function(f,g,E){var S=(g.sheet||{}).disabled&&!g.__cssVars;if(S)return!1;var O=g.nodeName.toLowerCase()==="link",T=g.nodeName.toLowerCase()==="style"&&f!==g.textContent,x=t.onSuccess(f,g,E);return f=x!==void 0&&!x?"":x||f,t.updateURLs&&(O||T)&&(f=$t(f,E)),f},onComplete:function(f,g){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],S=H({},L.dom,L.user),O=!1;if(L.job={},E.forEach(function(_,Z){var G=g[Z];if(_.__cssVars=_.__cssVars||{},_.__cssVars.text=G,K.cssVars.test(G))try{var W=_e(G,{preserveStatic:t.preserveStatic,removeComments:!0});ft(W,{parseHost:!!t.rootElement.host,store:L.dom,onWarning:d}),_.__cssVars.tree=W}catch(Y){a(Y.message,_)}}),H(L.job,L.dom),t.updateDOM?(H(L.user,t.variables),H(L.job,L.user)):(H(L.job,L.user,t.variables),H(S,t.variables)),O=ne.job>0&&!!(Object.keys(L.job).length>Object.keys(S).length||Object.keys(S).length&&Object.keys(L.job).some(function(_){return L.job[_]!==S[_]})),O)Ee(t.rootElement),X(t);else{var T=[],x=[],I=!1;if(t.updateDOM&&ne.job++,E.forEach(function(_,Z){var G=!_.__cssVars.tree;if(_.__cssVars.tree)try{Ut(_.__cssVars.tree,H({},t,{variables:L.job,onWarning:d}));var W=vt(_.__cssVars.tree);if(t.updateDOM){var Y=g[Z],q=K.cssVarFunc.test(Y);if(_.getAttribute("data-cssvars")||_.setAttribute("data-cssvars","src"),W.length&&q){var m=_.getAttribute("data-cssvars-group")||++ne.group,w=W.replace(/\s/g,""),j=t.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(m,'"]'))||document.createElement("style");I=I||K.cssKeyframes.test(W),t.preserveStatic&&_.sheet&&(_.sheet.disabled=!0),j.hasAttribute("data-cssvars")||j.setAttribute("data-cssvars","out"),w===_.textContent.replace(/\s/g,"")?(G=!0,j&&j.parentNode&&(_.removeAttribute("data-cssvars-group"),j.parentNode.removeChild(j))):w!==j.textContent.replace(/\s/g,"")&&([_,j].forEach(function(R){R.setAttribute("data-cssvars-job",ne.job),R.setAttribute("data-cssvars-group",m)}),j.textContent=W,T.push(W),x.push(j),j.parentNode||_.parentNode.insertBefore(j,_.nextSibling))}}else _.textContent.replace(/\s/g,"")!==W&&T.push(W)}catch(R){a(R.message,_)}G&&_.setAttribute("data-cssvars","skip"),_.hasAttribute("data-cssvars-job")||_.setAttribute("data-cssvars-job",ne.job)}),le=t.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,t.shadowDOM){for(var k=[].concat(t.rootElement).concat([].slice.call(t.rootElement.querySelectorAll("*"))),U=0,P;P=k[U];++U)if(P.shadowRoot&&P.shadowRoot.querySelector("style")){var F=H({},t,{rootElement:P.shadowRoot});X(F)}}t.updateDOM&&I&&Ht(t.rootElement),me=!1,t.onComplete(T.join(""),x,JSON.parse(JSON.stringify(L.job)),Se()-t.__benchmark),v(x.length)}}}));else document.addEventListener("DOMContentLoaded",function o(f){X(r),document.removeEventListener("DOMContentLoaded",o)})}}X.reset=function(){ne.job=0,ne.group=0,me=!1,$&&($.disconnect(),$=null),le=0,be=null,Ce=!1;for(var r in L)L[r]={}};function Nt(r){function i(h){var c=t(h)&&h.hasAttribute("disabled"),o=(h.sheet||{}).disabled;return c||o}function t(h){var c=h.nodeName.toLowerCase()==="link"&&(h.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return c}function a(h){return h.nodeName.toLowerCase()==="style"}function d(h){var c=!1;if(h.type==="attributes"&&t(h.target)&&!i(h.target)){var o=h.attributeName==="disabled",f=h.attributeName==="href",g=h.target.getAttribute("data-cssvars")==="skip",E=h.target.getAttribute("data-cssvars")==="src";o?c=!g&&!E:f&&(g?h.target.setAttribute("data-cssvars",""):E&&Ee(r.rootElement,!0),c=!0)}return c}function v(h){var c=!1;if(h.type==="childList"){var o=a(h.target),f=h.target.getAttribute("data-cssvars")==="out";c=o&&!f}return c}function s(h){var c=!1;return h.type==="childList"&&(c=[].slice.call(h.addedNodes).some(function(o){var f=o.nodeType===1,g=f&&o.hasAttribute("data-cssvars"),E=a(o)&&K.cssVars.test(o.textContent),S=!g&&(t(o)||E);return S&&!i(o)})),c}function C(h){var c=!1;return h.type==="childList"&&(c=[].slice.call(h.removedNodes).some(function(o){var f=o.nodeType===1,g=f&&o.getAttribute("data-cssvars")==="out",E=f&&o.getAttribute("data-cssvars")==="src",S=E;if(E||g){var O=o.getAttribute("data-cssvars-group"),T=r.rootElement.querySelector('[data-cssvars-group="'.concat(O,'"]'));E&&Ee(r.rootElement,!0),T&&T.parentNode.removeChild(T)}return S})),c}window.MutationObserver&&($&&($.disconnect(),$=null),$=new MutationObserver(function(h){var c=h.some(function(o){return d(o)||v(o)||s(o)||C(o)});c&&X(r)}),$.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function qt(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(be),be=setTimeout(function(){r.__benchmark=null,X(r)},i)}function Ht(r){var i=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(g){return getComputedStyle(document.body)[g]})[0];if(i){for(var t=[].slice.call(r.querySelectorAll("*")),a=[],d="__CSSVARSPONYFILL-KEYFRAMES__",v=0,s=t.length;v<s;v++){var C=t[v],h=getComputedStyle(C)[i];h!=="none"&&(C.style[i]+=d,a.push(C))}document.body.offsetHeight;for(var c=0,o=a.length;c<o;c++){var f=a[c].style;f[i]=f[i].replace(d,"")}}}function $t(r,i){var t=r.replace(K.cssComments,"").match(K.cssUrls)||[];return t.forEach(function(a){var d=a.replace(K.cssUrls,"$1"),v=yt(d,i);r=r.replace(a,a.replace(d,v))}),r}function zt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=/^-{2}/;return Object.keys(r).reduce(function(t,a){var d=i.test(a)?a:"--".concat(a.replace(/^-+/,""));return t[d]=r[a],t},{})}function yt(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,t=document.implementation.createHTMLDocument(""),a=t.createElement("base"),d=t.createElement("a");return t.head.appendChild(a),t.body.appendChild(d),a.href=i,d.href=r,d.href}function Se(){return he&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function Ee(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=[].slice.call(r.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));t.forEach(function(a){return a.setAttribute("data-cssvars","")}),i&&(L.dom={})}var Kt=["*"];function Xt(r,i){r&1&&(ge(0,"div",0)(1,"div",1),Xe(2,"p-progressSpinner",2),ge(3,"p",3),Ze(4,"Loading theme..."),Ke()()())}var wt=class r{destroyRef=te(We);themeService=te(nt);clientDataService=te(it);renderer=te(He).createRenderer(null,null);document=te(Ue);http=te(tt);loading=Ne(!0);hasNativeCssVariableSupport=et(()=>globalThis.window?.CSS?.supports?.("(--a: 0)")||!1);classes="";previousClientId=void 0;previousThemeId=void 0;cancelPendingThemeRequest$=new Le;constructor(){qe(()=>{let t=this.clientDataService.getSelectedClient()??this.clientDataService.getPreviewClient();if(ae(t)){let a=this.getThemeId(t);if(t.id===this.previousClientId&&!ae(t.theme?.id)&&ae(this.previousThemeId))return;(t.id!==this.previousClientId||a!==this.previousThemeId)&&(this.cancelPendingThemeRequest$.next(),this.updateTheme(a),this.previousClientId=t.id,this.previousThemeId=a)}else this.previousClientId=void 0,this.previousThemeId=void 0})}ngOnInit(){this.themeService.theme$.pipe(rt(this.destroyRef)).subscribe({next:i=>{if(!i){this.loading.set(!1);return}this.loadTheme(i).catch(t=>console.error("Error loading theme:",t))}})}async loadTheme(i){try{this.loading.set(!0),await this.processTheme(i),this.loading.set(!1)}catch(t){this.loading.set(!1),console.error("Theme loading error:",t)}}processCustomTags(i){if(!i.customTags)return;let t=0;for(let a of i.customTags)this.appendHTML(`custom-tag-${t}`,a.location,a.tag,a.attributes,a.contents),t++}async processThemeVariables(i){i.variables&&(await this.injectSettingsVariables(i.variables),this.updateClasses(i.variables))}async processTheme(i){await Promise.all([this.processThemeVariables(i),this.loadExternalStyles(i),this.injectCustomStyles(i),Promise.resolve(this.processCustomTags(i))])}async loadExternalStyles(i){if(i.settings?.cssSrc)try{let t=await Ie(this.http.get(i.settings.cssSrc,{responseType:"text"}));await this.injectStyle("external-css",t)}catch(t){console.error("Failed to load external styles:",t)}}async injectCustomStyles(i){if(!ye(i.customStyles))try{await this.injectStyle("custom-css",i.customStyles)}catch(t){console.error("Failed to inject custom styles:",t)}}updateClasses(i){let t=[];i["--main-gutter-width"]&&!["0","0px","0rem"].includes(i["--main-gutter-width"])&&t.push("app-has-gutter"),this.classes=t.join(" ")}updateTheme(i){(i==="default"?this.themeService.getDomainTheme(i):this.themeService.fetchTheme(i)).pipe(Pe(1),Be(this.cancelPendingThemeRequest$)).subscribe({next:t=>{this.themeService.setTheme(t)},error:t=>{console.error(`Failed to load theme ${i}:`,t)}})}getThemeId(i){return ae(i?.theme?.id)&&i.theme.id!=="inherited"?i.theme.id:"default"}async injectSettingsVariables(i){let t={},a=Object.keys(i).filter(d=>d.includes("-font-family"));for(let d of a){let v=i[d];t[v]=`${v}:300,400,400i,500,700`}return Object.values(t).length>0&&await this.loadFonts(t),new Promise((d,v)=>{try{X({variables:i,onComplete(){d()},onError(s){v(new Error(s))}}),this.hasNativeCssVariableSupport()&&d(),d()}catch(s){v(s instanceof Error?s:new Error(String(s)))}})}loadFonts(i){return new Promise(t=>{St.load({google:{families:Object.values(i)},active:()=>t(),inactive:()=>t()})})}async injectStyle(i,t){try{let a=this.document.getElementById(i);ye(a)&&(a=this.renderer.createElement("style"),this.renderer.setAttribute(a,"id",i),this.renderer.appendChild(this.document.head,a)),a.textContent=t}catch(a){throw console.error("Failed to inject style:",a),a}}appendHTML(i,t,a,d,v){let s=this.document.getElementsByTagName(t)[0],C=this.renderer.createElement(a);this.renderer.setAttribute(C,"id",i);let h=(d||"").split(/[\r\n]/g).filter(c=>!!c);for(let c of h){let[o,f]=c.split("=");this.renderer.setAttribute(C,o,f?.replaceAll(/['"]/g,"")||"true")}C.innerHTML=v||"",this.renderer.appendChild(s,C)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=$e({type:r,selectors:[["app-theme"]],hostVars:2,hostBindings:function(t,a){t&2&&Qe(a.classes)},ngContentSelectors:Kt,decls:2,vars:1,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","bg-white/80","backdrop-blur-sm","z-50"],[1,"flex","flex-col","items-center","gap-3"],["styleClass","w-12 h-12 text-primary-500"],[1,"text-sm","text-gray-600"]],template:function(t,a){t&1&&(Ye(),ze(0,Xt,5,0,"div",0),Je(1)),t&2&&Ge(a.loading()?0:-1)},dependencies:[at,st],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;display:flex;justify-content:center;align-items:center}"]})};export{wt as a};
