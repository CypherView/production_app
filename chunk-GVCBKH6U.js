import{c as Il,d as gi,e as Qn}from"./chunk-PHOSYVDR.js";import{q as kl}from"./chunk-UUBV4PLA.js";import{a as $l,b as Gl,c as Ul,e as Ri,f as qi,g as jl,h as Kl}from"./chunk-T2ASJLBG.js";import{a as Hl,b as so}from"./chunk-K3QSXHYQ.js";import{a as Jn,b as eo,c as to,d as io,e as no,f as oo}from"./chunk-L7NFYEY5.js";import{a as yl,b as Tl,c as Xn,d as Vi,e as Rl,f as ro,g as ql,h as Ll}from"./chunk-BEAFDC2I.js";import{c as Al,d as Ai,e as Bl,f as ao,g as zl,h as lo}from"./chunk-53JQ5NAG.js";import{b as ni,c as Pi}from"./chunk-GV42Z4ED.js";import{b as wl}from"./chunk-SDMJKPKX.js";import{A as ei,C as it,D as nt,E as Mi,G as Oi,I as ot,J as Zn,K as We,L as _t,M as Yn,O as Ni,P as ii,a as Cl,b as xl,c as Di,d as Kn,e as Gt,g as Ir,h as dn,i as Se,j as Jt,k as El,n as qe,o as Dl,p as Mt,q as Fi,r as Ue,s as Fl,t as Wn,u as Ml,w as Ol,x as Nl,z as Fe}from"./chunk-HBFOC76W.js";import{a as Vl,b as Pl}from"./chunk-MI5GPO5K.js";import{c as cn,e as ti,f as Ot}from"./chunk-PH5YALHE.js";import{d as _l,e as Ke,f as jn,g as vl,i as bl,j as Sr,k as Sl,l as Ye,m as Qe}from"./chunk-6C6CC4KT.js";import{$ as al,A as ln,Aa as dl,B as fi,Ba as Gn,C as el,Ca as Te,Ea as ge,Fa as ct,G as tl,Ga as A,Ha as ke,I as il,Ia as Rt,Ja as Xt,K as yr,M as nl,O as ol,S as Cr,T as rl,Z as Ii,aa as ft,b as wt,ba as Zt,ca as xr,d as Tt,fa as Yt,ga as wr,i as Qa,j as Wa,ja as zn,k as Za,ka as Tr,l as Ya,m as Xa,n as Ti,na as Ne,o as Ja,q as Si,sa as ll,ta as Hn,ua as ki,v as br,va as $n,w as xt,wa as sl,x as Be,xa as ve,ya as G,z as an,za as ze}from"./chunk-JAXNIEKX.js";import{$ as He,C as Ln,E as Ga,I as Bn,Ib as Un,M as Ua,Mb as ml,N as ja,O as Ka,Pc as dt,Q as vr,R as cl,S as $,T as C,Tc as hl,U as Dt,Uc as Ei,V as pl,X as lt,Y as st,Z as sn,_ as $t,_c as fl,aa as ul,e as tt,f as Ha,g as Ct,h as Ie,hd as gl,k as Oe,l as we,na as gt,sb as Ft,u as K,v as Ge,w as $a}from"./chunk-FEC2V4R3.js";import{$ as ae,A as Ia,Aa as ht,Ac as de,B as On,Ca as Ma,Cb as hr,D as ka,Db as x,E as pr,Ea as Pn,Eb as Na,Fb as Va,Fc as _r,Gb as Pa,Gc as Z,H as Ci,Hb as fr,Hc as Ae,I as Ea,Ib as gr,Ic as ce,J as ci,Jb as D,Jc as fe,Kb as F,Kc as Wt,Lb as Aa,Lc as Ra,Mb as mi,Mc as qa,Nb as Ee,Ob as De,Pb as s,Pc as La,Qb as p,R as Nn,Ra as Oa,Rb as u,Rc as Ba,S as Ut,Sa as tn,Sb as I,T as xi,Ta as An,Tb as bt,Tc as za,U as Da,Ub as yt,Vb as rt,Vc as ie,Wb as Y,X as pe,Xa as Rn,Xb as X,Y as q,Ya as d,Yb as j,Z as me,Zb as k,Zc as oe,_b as jt,a as si,aa as Vn,ad as Re,ba as _,bb as nn,bc as y,bd as R,c as di,cc as l,d as ue,db as wi,dc as hi,e as Mn,eb as ur,ec as Kt,fa as Fa,fb as $e,fc as P,fd as At,g as cr,gc as H,gd as et,ha as h,hb as on,hc as w,ia as f,ic as T,j as mt,ja as ee,kd as E,la as pi,ld as re,ma as Et,mb as B,mc as Pe,na as ui,nb as he,nc as Je,nd as qn,o as xe,ob as Ht,oc as at,pa as M,pb as mr,pc as be,qa as Xe,qb as _e,qc as b,r as Sa,rb as ne,rc as O,sb as g,sc as te,ta as U,tc as ye,uc as Qt,va as Ve,wa as Ji,xa as en,ya as Q,yc as se,zb as rn,zc as le}from"./chunk-EG5ORV3B.js";import{a as L,b as J,e as V,g as dr}from"./chunk-VB56BUGO.js";var tc=V((sB,ec)=>{"use strict";function tT(){this.__data__=[],this.size=0}ec.exports=tT});var ra=V((dB,ic)=>{"use strict";function iT(o,n){return o===n||o!==o&&n!==n}ic.exports=iT});var Cn=V((cB,nc)=>{"use strict";var nT=ra();function oT(o,n){for(var e=o.length;e--;)if(nT(o[e][0],n))return e;return-1}nc.exports=oT});var rc=V((pB,oc)=>{"use strict";var rT=Cn(),aT=Array.prototype,lT=aT.splice;function sT(o){var n=this.__data__,e=rT(n,o);if(e<0)return!1;var t=n.length-1;return e==t?n.pop():lT.call(n,e,1),--this.size,!0}oc.exports=sT});var lc=V((uB,ac)=>{"use strict";var dT=Cn();function cT(o){var n=this.__data__,e=dT(n,o);return e<0?void 0:n[e][1]}ac.exports=cT});var dc=V((mB,sc)=>{"use strict";var pT=Cn();function uT(o){return pT(this.__data__,o)>-1}sc.exports=uT});var pc=V((hB,cc)=>{"use strict";var mT=Cn();function hT(o,n){var e=this.__data__,t=mT(e,o);return t<0?(++this.size,e.push([o,n])):e[t][1]=n,this}cc.exports=hT});var xn=V((fB,uc)=>{"use strict";var fT=tc(),gT=rc(),_T=lc(),vT=dc(),bT=pc();function Gi(o){var n=-1,e=o==null?0:o.length;for(this.clear();++n<e;){var t=o[n];this.set(t[0],t[1])}}Gi.prototype.clear=fT;Gi.prototype.delete=gT;Gi.prototype.get=_T;Gi.prototype.has=vT;Gi.prototype.set=bT;uc.exports=Gi});var hc=V((gB,mc)=>{"use strict";var yT=xn();function CT(){this.__data__=new yT,this.size=0}mc.exports=CT});var gc=V((_B,fc)=>{"use strict";function xT(o){var n=this.__data__,e=n.delete(o);return this.size=n.size,e}fc.exports=xT});var vc=V((vB,_c)=>{"use strict";function wT(o){return this.__data__.get(o)}_c.exports=wT});var yc=V((bB,bc)=>{"use strict";function TT(o){return this.__data__.has(o)}bc.exports=TT});var aa=V((yB,Cc)=>{"use strict";var ST=typeof global=="object"&&global&&global.Object===Object&&global;Cc.exports=ST});var Bt=V((CB,xc)=>{"use strict";var IT=aa(),kT=typeof self=="object"&&self&&self.Object===Object&&self,ET=IT||kT||Function("return this")();xc.exports=ET});var Yo=V((xB,wc)=>{"use strict";var DT=Bt(),FT=DT.Symbol;wc.exports=FT});var kc=V((wB,Ic)=>{"use strict";var Tc=Yo(),Sc=Object.prototype,MT=Sc.hasOwnProperty,OT=Sc.toString,wn=Tc?Tc.toStringTag:void 0;function NT(o){var n=MT.call(o,wn),e=o[wn];try{o[wn]=void 0;var t=!0}catch{}var i=OT.call(o);return t&&(n?o[wn]=e:delete o[wn]),i}Ic.exports=NT});var Dc=V((TB,Ec)=>{"use strict";var VT=Object.prototype,PT=VT.toString;function AT(o){return PT.call(o)}Ec.exports=AT});var Tn=V((SB,Oc)=>{"use strict";var Fc=Yo(),RT=kc(),qT=Dc(),LT="[object Null]",BT="[object Undefined]",Mc=Fc?Fc.toStringTag:void 0;function zT(o){return o==null?o===void 0?BT:LT:Mc&&Mc in Object(o)?RT(o):qT(o)}Oc.exports=zT});var la=V((IB,Nc)=>{"use strict";function HT(o){var n=typeof o;return o!=null&&(n=="object"||n=="function")}Nc.exports=HT});var sa=V((kB,Vc)=>{"use strict";var $T=Tn(),GT=la(),UT="[object AsyncFunction]",jT="[object Function]",KT="[object GeneratorFunction]",QT="[object Proxy]";function WT(o){if(!GT(o))return!1;var n=$T(o);return n==jT||n==KT||n==UT||n==QT}Vc.exports=WT});var Ac=V((EB,Pc)=>{"use strict";var ZT=Bt(),YT=ZT["__core-js_shared__"];Pc.exports=YT});var Lc=V((DB,qc)=>{"use strict";var da=Ac(),Rc=(function(){var o=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function XT(o){return!!Rc&&Rc in o}qc.exports=XT});var ca=V((FB,Bc)=>{"use strict";var JT=Function.prototype,eS=JT.toString;function tS(o){if(o!=null){try{return eS.call(o)}catch{}try{return o+""}catch{}}return""}Bc.exports=tS});var Hc=V((MB,zc)=>{"use strict";var iS=sa(),nS=Lc(),oS=la(),rS=ca(),aS=/[\\^$.*+?()[\]{}|]/g,lS=/^\[object .+?Constructor\]$/,sS=Function.prototype,dS=Object.prototype,cS=sS.toString,pS=dS.hasOwnProperty,uS=RegExp("^"+cS.call(pS).replace(aS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mS(o){if(!oS(o)||nS(o))return!1;var n=iS(o)?uS:lS;return n.test(rS(o))}zc.exports=mS});var Gc=V((OB,$c)=>{"use strict";function hS(o,n){return o?.[n]}$c.exports=hS});var vi=V((NB,Uc)=>{"use strict";var fS=Hc(),gS=Gc();function _S(o,n){var e=gS(o,n);return fS(e)?e:void 0}Uc.exports=_S});var Xo=V((VB,jc)=>{"use strict";var vS=vi(),bS=Bt(),yS=vS(bS,"Map");jc.exports=yS});var Sn=V((PB,Kc)=>{"use strict";var CS=vi(),xS=CS(Object,"create");Kc.exports=xS});var Zc=V((AB,Wc)=>{"use strict";var Qc=Sn();function wS(){this.__data__=Qc?Qc(null):{},this.size=0}Wc.exports=wS});var Xc=V((RB,Yc)=>{"use strict";function TS(o){var n=this.has(o)&&delete this.__data__[o];return this.size-=n?1:0,n}Yc.exports=TS});var ep=V((qB,Jc)=>{"use strict";var SS=Sn(),IS="__lodash_hash_undefined__",kS=Object.prototype,ES=kS.hasOwnProperty;function DS(o){var n=this.__data__;if(SS){var e=n[o];return e===IS?void 0:e}return ES.call(n,o)?n[o]:void 0}Jc.exports=DS});var ip=V((LB,tp)=>{"use strict";var FS=Sn(),MS=Object.prototype,OS=MS.hasOwnProperty;function NS(o){var n=this.__data__;return FS?n[o]!==void 0:OS.call(n,o)}tp.exports=NS});var op=V((BB,np)=>{"use strict";var VS=Sn(),PS="__lodash_hash_undefined__";function AS(o,n){var e=this.__data__;return this.size+=this.has(o)?0:1,e[o]=VS&&n===void 0?PS:n,this}np.exports=AS});var ap=V((zB,rp)=>{"use strict";var RS=Zc(),qS=Xc(),LS=ep(),BS=ip(),zS=op();function Ui(o){var n=-1,e=o==null?0:o.length;for(this.clear();++n<e;){var t=o[n];this.set(t[0],t[1])}}Ui.prototype.clear=RS;Ui.prototype.delete=qS;Ui.prototype.get=LS;Ui.prototype.has=BS;Ui.prototype.set=zS;rp.exports=Ui});var dp=V((HB,sp)=>{"use strict";var lp=ap(),HS=xn(),$S=Xo();function GS(){this.size=0,this.__data__={hash:new lp,map:new($S||HS),string:new lp}}sp.exports=GS});var pp=V(($B,cp)=>{"use strict";function US(o){var n=typeof o;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?o!=="__proto__":o===null}cp.exports=US});var In=V((GB,up)=>{"use strict";var jS=pp();function KS(o,n){var e=o.__data__;return jS(n)?e[typeof n=="string"?"string":"hash"]:e.map}up.exports=KS});var hp=V((UB,mp)=>{"use strict";var QS=In();function WS(o){var n=QS(this,o).delete(o);return this.size-=n?1:0,n}mp.exports=WS});var gp=V((jB,fp)=>{"use strict";var ZS=In();function YS(o){return ZS(this,o).get(o)}fp.exports=YS});var vp=V((KB,_p)=>{"use strict";var XS=In();function JS(o){return XS(this,o).has(o)}_p.exports=JS});var yp=V((QB,bp)=>{"use strict";var eI=In();function tI(o,n){var e=eI(this,o),t=e.size;return e.set(o,n),this.size+=e.size==t?0:1,this}bp.exports=tI});var pa=V((WB,Cp)=>{"use strict";var iI=dp(),nI=hp(),oI=gp(),rI=vp(),aI=yp();function ji(o){var n=-1,e=o==null?0:o.length;for(this.clear();++n<e;){var t=o[n];this.set(t[0],t[1])}}ji.prototype.clear=iI;ji.prototype.delete=nI;ji.prototype.get=oI;ji.prototype.has=rI;ji.prototype.set=aI;Cp.exports=ji});var wp=V((ZB,xp)=>{"use strict";var lI=xn(),sI=Xo(),dI=pa(),cI=200;function pI(o,n){var e=this.__data__;if(e instanceof lI){var t=e.__data__;if(!sI||t.length<cI-1)return t.push([o,n]),this.size=++e.size,this;e=this.__data__=new dI(t)}return e.set(o,n),this.size=e.size,this}xp.exports=pI});var Sp=V((YB,Tp)=>{"use strict";var uI=xn(),mI=hc(),hI=gc(),fI=vc(),gI=yc(),_I=wp();function Ki(o){var n=this.__data__=new uI(o);this.size=n.size}Ki.prototype.clear=mI;Ki.prototype.delete=hI;Ki.prototype.get=fI;Ki.prototype.has=gI;Ki.prototype.set=_I;Tp.exports=Ki});var kp=V((XB,Ip)=>{"use strict";var vI="__lodash_hash_undefined__";function bI(o){return this.__data__.set(o,vI),this}Ip.exports=bI});var Dp=V((JB,Ep)=>{"use strict";function yI(o){return this.__data__.has(o)}Ep.exports=yI});var Mp=V((e6,Fp)=>{"use strict";var CI=pa(),xI=kp(),wI=Dp();function Jo(o){var n=-1,e=o==null?0:o.length;for(this.__data__=new CI;++n<e;)this.add(o[n])}Jo.prototype.add=Jo.prototype.push=xI;Jo.prototype.has=wI;Fp.exports=Jo});var Np=V((t6,Op)=>{"use strict";function TI(o,n){for(var e=-1,t=o==null?0:o.length;++e<t;)if(n(o[e],e,o))return!0;return!1}Op.exports=TI});var Pp=V((i6,Vp)=>{"use strict";function SI(o,n){return o.has(n)}Vp.exports=SI});var ua=V((n6,Ap)=>{"use strict";var II=Mp(),kI=Np(),EI=Pp(),DI=1,FI=2;function MI(o,n,e,t,i,r){var a=e&DI,c=o.length,m=n.length;if(c!=m&&!(a&&m>c))return!1;var v=r.get(o),S=r.get(n);if(v&&S)return v==n&&S==o;var z=-1,N=!0,Ce=e&FI?new II:void 0;for(r.set(o,n),r.set(n,o);++z<c;){var Ze=o[z],vt=n[z];if(t)var Le=a?t(vt,Ze,z,n,o,r):t(Ze,vt,z,o,n,r);if(Le!==void 0){if(Le)continue;N=!1;break}if(Ce){if(!kI(n,function(zt,Pt){if(!EI(Ce,Pt)&&(Ze===zt||i(Ze,zt,e,t,r)))return Ce.push(Pt)})){N=!1;break}}else if(!(Ze===vt||i(Ze,vt,e,t,r))){N=!1;break}}return r.delete(o),r.delete(n),N}Ap.exports=MI});var qp=V((o6,Rp)=>{"use strict";var OI=Bt(),NI=OI.Uint8Array;Rp.exports=NI});var Bp=V((r6,Lp)=>{"use strict";function VI(o){var n=-1,e=Array(o.size);return o.forEach(function(t,i){e[++n]=[i,t]}),e}Lp.exports=VI});var Hp=V((a6,zp)=>{"use strict";function PI(o){var n=-1,e=Array(o.size);return o.forEach(function(t){e[++n]=t}),e}zp.exports=PI});var Kp=V((l6,jp)=>{"use strict";var $p=Yo(),Gp=qp(),AI=ra(),RI=ua(),qI=Bp(),LI=Hp(),BI=1,zI=2,HI="[object Boolean]",$I="[object Date]",GI="[object Error]",UI="[object Map]",jI="[object Number]",KI="[object RegExp]",QI="[object Set]",WI="[object String]",ZI="[object Symbol]",YI="[object ArrayBuffer]",XI="[object DataView]",Up=$p?$p.prototype:void 0,ma=Up?Up.valueOf:void 0;function JI(o,n,e,t,i,r,a){switch(e){case XI:if(o.byteLength!=n.byteLength||o.byteOffset!=n.byteOffset)return!1;o=o.buffer,n=n.buffer;case YI:return!(o.byteLength!=n.byteLength||!r(new Gp(o),new Gp(n)));case HI:case $I:case jI:return AI(+o,+n);case GI:return o.name==n.name&&o.message==n.message;case KI:case WI:return o==n+"";case UI:var c=qI;case QI:var m=t&BI;if(c||(c=LI),o.size!=n.size&&!m)return!1;var v=a.get(o);if(v)return v==n;t|=zI,a.set(o,n);var S=RI(c(o),c(n),t,i,r,a);return a.delete(o),S;case ZI:if(ma)return ma.call(o)==ma.call(n)}return!1}jp.exports=JI});var Wp=V((s6,Qp)=>{"use strict";function e2(o,n){for(var e=-1,t=n.length,i=o.length;++e<t;)o[i+e]=n[e];return o}Qp.exports=e2});var er=V((d6,Zp)=>{"use strict";var t2=Array.isArray;Zp.exports=t2});var Xp=V((c6,Yp)=>{"use strict";var i2=Wp(),n2=er();function o2(o,n,e){var t=n(o);return n2(o)?t:i2(t,e(o))}Yp.exports=o2});var eu=V((p6,Jp)=>{"use strict";function r2(o,n){for(var e=-1,t=o==null?0:o.length,i=0,r=[];++e<t;){var a=o[e];n(a,e,o)&&(r[i++]=a)}return r}Jp.exports=r2});var iu=V((u6,tu)=>{"use strict";function a2(){return[]}tu.exports=a2});var ru=V((m6,ou)=>{"use strict";var l2=eu(),s2=iu(),d2=Object.prototype,c2=d2.propertyIsEnumerable,nu=Object.getOwnPropertySymbols,p2=nu?function(o){return o==null?[]:(o=Object(o),l2(nu(o),function(n){return c2.call(o,n)}))}:s2;ou.exports=p2});var lu=V((h6,au)=>{"use strict";function u2(o,n){for(var e=-1,t=Array(o);++e<o;)t[e]=n(e);return t}au.exports=u2});var kn=V((f6,su)=>{"use strict";function m2(o){return o!=null&&typeof o=="object"}su.exports=m2});var cu=V((g6,du)=>{"use strict";var h2=Tn(),f2=kn(),g2="[object Arguments]";function _2(o){return f2(o)&&h2(o)==g2}du.exports=_2});var hu=V((_6,mu)=>{"use strict";var pu=cu(),v2=kn(),uu=Object.prototype,b2=uu.hasOwnProperty,y2=uu.propertyIsEnumerable,C2=pu((function(){return arguments})())?pu:function(o){return v2(o)&&b2.call(o,"callee")&&!y2.call(o,"callee")};mu.exports=C2});var gu=V((v6,fu)=>{"use strict";function x2(){return!1}fu.exports=x2});var ha=V((En,Qi)=>{"use strict";var w2=Bt(),T2=gu(),bu=typeof En=="object"&&En&&!En.nodeType&&En,_u=bu&&typeof Qi=="object"&&Qi&&!Qi.nodeType&&Qi,S2=_u&&_u.exports===bu,vu=S2?w2.Buffer:void 0,I2=vu?vu.isBuffer:void 0,k2=I2||T2;Qi.exports=k2});var Cu=V((b6,yu)=>{"use strict";var E2=9007199254740991,D2=/^(?:0|[1-9]\d*)$/;function F2(o,n){var e=typeof o;return n=n??E2,!!n&&(e=="number"||e!="symbol"&&D2.test(o))&&o>-1&&o%1==0&&o<n}yu.exports=F2});var fa=V((y6,xu)=>{"use strict";var M2=9007199254740991;function O2(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=M2}xu.exports=O2});var Tu=V((C6,wu)=>{"use strict";var N2=Tn(),V2=fa(),P2=kn(),A2="[object Arguments]",R2="[object Array]",q2="[object Boolean]",L2="[object Date]",B2="[object Error]",z2="[object Function]",H2="[object Map]",$2="[object Number]",G2="[object Object]",U2="[object RegExp]",j2="[object Set]",K2="[object String]",Q2="[object WeakMap]",W2="[object ArrayBuffer]",Z2="[object DataView]",Y2="[object Float32Array]",X2="[object Float64Array]",J2="[object Int8Array]",ek="[object Int16Array]",tk="[object Int32Array]",ik="[object Uint8Array]",nk="[object Uint8ClampedArray]",ok="[object Uint16Array]",rk="[object Uint32Array]",Me={};Me[Y2]=Me[X2]=Me[J2]=Me[ek]=Me[tk]=Me[ik]=Me[nk]=Me[ok]=Me[rk]=!0;Me[A2]=Me[R2]=Me[W2]=Me[q2]=Me[Z2]=Me[L2]=Me[B2]=Me[z2]=Me[H2]=Me[$2]=Me[G2]=Me[U2]=Me[j2]=Me[K2]=Me[Q2]=!1;function ak(o){return P2(o)&&V2(o.length)&&!!Me[N2(o)]}wu.exports=ak});var Iu=V((x6,Su)=>{"use strict";function lk(o){return function(n){return o(n)}}Su.exports=lk});var Eu=V((Dn,Wi)=>{"use strict";var sk=aa(),ku=typeof Dn=="object"&&Dn&&!Dn.nodeType&&Dn,Fn=ku&&typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,dk=Fn&&Fn.exports===ku,ga=dk&&sk.process,ck=(function(){try{var o=Fn&&Fn.require&&Fn.require("util").types;return o||ga&&ga.binding&&ga.binding("util")}catch{}})();Wi.exports=ck});var _a=V((w6,Mu)=>{"use strict";var pk=Tu(),uk=Iu(),Du=Eu(),Fu=Du&&Du.isTypedArray,mk=Fu?uk(Fu):pk;Mu.exports=mk});var Nu=V((T6,Ou)=>{"use strict";var hk=lu(),fk=hu(),gk=er(),_k=ha(),vk=Cu(),bk=_a(),yk=Object.prototype,Ck=yk.hasOwnProperty;function xk(o,n){var e=gk(o),t=!e&&fk(o),i=!e&&!t&&_k(o),r=!e&&!t&&!i&&bk(o),a=e||t||i||r,c=a?hk(o.length,String):[],m=c.length;for(var v in o)(n||Ck.call(o,v))&&!(a&&(v=="length"||i&&(v=="offset"||v=="parent")||r&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||vk(v,m)))&&c.push(v);return c}Ou.exports=xk});var Pu=V((S6,Vu)=>{"use strict";var wk=Object.prototype;function Tk(o){var n=o&&o.constructor,e=typeof n=="function"&&n.prototype||wk;return o===e}Vu.exports=Tk});var Ru=V((I6,Au)=>{"use strict";function Sk(o,n){return function(e){return o(n(e))}}Au.exports=Sk});var Lu=V((k6,qu)=>{"use strict";var Ik=Ru(),kk=Ik(Object.keys,Object);qu.exports=kk});var zu=V((E6,Bu)=>{"use strict";var Ek=Pu(),Dk=Lu(),Fk=Object.prototype,Mk=Fk.hasOwnProperty;function Ok(o){if(!Ek(o))return Dk(o);var n=[];for(var e in Object(o))Mk.call(o,e)&&e!="constructor"&&n.push(e);return n}Bu.exports=Ok});var $u=V((D6,Hu)=>{"use strict";var Nk=sa(),Vk=fa();function Pk(o){return o!=null&&Vk(o.length)&&!Nk(o)}Hu.exports=Pk});var Uu=V((F6,Gu)=>{"use strict";var Ak=Nu(),Rk=zu(),qk=$u();function Lk(o){return qk(o)?Ak(o):Rk(o)}Gu.exports=Lk});var Ku=V((M6,ju)=>{"use strict";var Bk=Xp(),zk=ru(),Hk=Uu();function $k(o){return Bk(o,Hk,zk)}ju.exports=$k});var Zu=V((O6,Wu)=>{"use strict";var Qu=Ku(),Gk=1,Uk=Object.prototype,jk=Uk.hasOwnProperty;function Kk(o,n,e,t,i,r){var a=e&Gk,c=Qu(o),m=c.length,v=Qu(n),S=v.length;if(m!=S&&!a)return!1;for(var z=m;z--;){var N=c[z];if(!(a?N in n:jk.call(n,N)))return!1}var Ce=r.get(o),Ze=r.get(n);if(Ce&&Ze)return Ce==n&&Ze==o;var vt=!0;r.set(o,n),r.set(n,o);for(var Le=a;++z<m;){N=c[z];var zt=o[N],Pt=n[N];if(t)var yi=a?t(Pt,zt,N,n,o,r):t(zt,Pt,N,o,n,r);if(!(yi===void 0?zt===Pt||i(zt,Pt,e,t,r):yi)){vt=!1;break}Le||(Le=N=="constructor")}if(vt&&!Le){var ai=o.constructor,li=n.constructor;ai!=li&&"constructor"in o&&"constructor"in n&&!(typeof ai=="function"&&ai instanceof ai&&typeof li=="function"&&li instanceof li)&&(vt=!1)}return r.delete(o),r.delete(n),vt}Wu.exports=Kk});var Xu=V((N6,Yu)=>{"use strict";var Qk=vi(),Wk=Bt(),Zk=Qk(Wk,"DataView");Yu.exports=Zk});var em=V((V6,Ju)=>{"use strict";var Yk=vi(),Xk=Bt(),Jk=Yk(Xk,"Promise");Ju.exports=Jk});var im=V((P6,tm)=>{"use strict";var eE=vi(),tE=Bt(),iE=eE(tE,"Set");tm.exports=iE});var om=V((A6,nm)=>{"use strict";var nE=vi(),oE=Bt(),rE=nE(oE,"WeakMap");nm.exports=rE});var um=V((R6,pm)=>{"use strict";var va=Xu(),ba=Xo(),ya=em(),Ca=im(),xa=om(),cm=Tn(),Zi=ca(),rm="[object Map]",aE="[object Object]",am="[object Promise]",lm="[object Set]",sm="[object WeakMap]",dm="[object DataView]",lE=Zi(va),sE=Zi(ba),dE=Zi(ya),cE=Zi(Ca),pE=Zi(xa),bi=cm;(va&&bi(new va(new ArrayBuffer(1)))!=dm||ba&&bi(new ba)!=rm||ya&&bi(ya.resolve())!=am||Ca&&bi(new Ca)!=lm||xa&&bi(new xa)!=sm)&&(bi=function(o){var n=cm(o),e=n==aE?o.constructor:void 0,t=e?Zi(e):"";if(t)switch(t){case lE:return dm;case sE:return rm;case dE:return am;case cE:return lm;case pE:return sm}return n});pm.exports=bi});var ym=V((q6,bm)=>{"use strict";var wa=Sp(),uE=ua(),mE=Kp(),hE=Zu(),mm=um(),hm=er(),fm=ha(),fE=_a(),gE=1,gm="[object Arguments]",_m="[object Array]",tr="[object Object]",_E=Object.prototype,vm=_E.hasOwnProperty;function vE(o,n,e,t,i,r){var a=hm(o),c=hm(n),m=a?_m:mm(o),v=c?_m:mm(n);m=m==gm?tr:m,v=v==gm?tr:v;var S=m==tr,z=v==tr,N=m==v;if(N&&fm(o)){if(!fm(n))return!1;a=!0,S=!1}if(N&&!S)return r||(r=new wa),a||fE(o)?uE(o,n,e,t,i,r):mE(o,n,m,e,t,i,r);if(!(e&gE)){var Ce=S&&vm.call(o,"__wrapped__"),Ze=z&&vm.call(n,"__wrapped__");if(Ce||Ze){var vt=Ce?o.value():o,Le=Ze?n.value():n;return r||(r=new wa),i(vt,Le,e,t,r)}}return N?(r||(r=new wa),hE(o,n,e,t,i,r)):!1}bm.exports=vE});var Tm=V((L6,wm)=>{"use strict";var bE=ym(),Cm=kn();function xm(o,n,e,t,i){return o===n?!0:o==null||n==null||!Cm(o)&&!Cm(n)?o!==o&&n!==n:bE(o,n,e,t,xm,i)}wm.exports=xm});var Im=V((B6,Sm)=>{"use strict";var yE=Tm();function CE(o,n,e){e=typeof e=="function"?e:void 0;var t=e?e(o,n):void 0;return t===void 0?yE(o,n,void 0,e):!!t}Sm.exports=CE});var Dm=["data-p-icon","eye"],Ql=(()=>{class o extends Rt{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","data-p-icon","eye"]],features:[ne],attrs:Dm,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,i){t&1&&(ee(),rt(0,"path",0))},encapsulation:2})}return o})();var Fm=["data-p-icon","eyeslash"],Wl=(()=>{class o extends Rt{pathId;onInit(){this.pathId="url(#"+Ne()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","data-p-icon","eyeslash"]],features:[ne],attrs:Fm,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){t&1&&(ee(),bt(0,"g"),rt(1,"path",0),yt(),bt(2,"defs")(3,"clipPath",1),rt(4,"rect",2),yt()()),t&2&&(x("clip-path",i.pathId),d(3),jt("id",i.pathId))},encapsulation:2})}return o})();var Mm=["data-p-icon","star"],Zl=(()=>{class o extends Rt{pathId;onInit(){this.pathId="url(#"+Ne()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","data-p-icon","star"]],features:[ne],attrs:Mm,decls:5,vars:2,consts:[["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){t&1&&(ee(),bt(0,"g"),rt(1,"path",0),yt(),bt(2,"defs")(3,"clipPath",1),rt(4,"rect",2),yt()()),t&2&&(x("clip-path",i.pathId),d(3),jt("id",i.pathId))},encapsulation:2})}return o})();var Om=["data-p-icon","star-fill"],Yl=(()=>{class o extends Rt{pathId;onInit(){this.pathId="url(#"+Ne()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","data-p-icon","star-fill"]],features:[ne],attrs:Om,decls:5,vars:2,consts:[["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){t&1&&(ee(),bt(0,"g"),rt(1,"path",0),yt(),bt(2,"defs")(3,"clipPath",1),rt(4,"rect",2),yt()()),t&2&&(x("clip-path",i.pathId),d(3),jt("id",i.pathId))},encapsulation:2})}return o})();var Nm=["data-p-icon","upload"],Xl=(()=>{class o extends Rt{pathId;onInit(){this.pathId="url(#"+Ne()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","data-p-icon","upload"]],features:[ne],attrs:Nm,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){t&1&&(ee(),bt(0,"g"),rt(1,"path",0),yt(),bt(2,"defs")(3,"clipPath",1),rt(4,"rect",2),yt()()),t&2&&(x("clip-path",i.pathId),d(3),jt("id",i.pathId))},encapsulation:2})}return o})();var Jl=()=>({severity:"secondary",variant:"text",rounded:!0});function Vm(o,n){o&1&&j(0)}function Pm(o,n){if(o&1&&g(0,Vm,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.headerTemplate)}}function Am(o,n){o&1&&g(0,Pm,1,1,"ng-template",null,0,ie)}function Rm(o,n){o&1&&j(0)}function qm(o,n){if(o&1&&g(0,Rm,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.contentTemplate)}}function Lm(o,n){o&1&&g(0,qm,1,1,"ng-template",null,1,ie)}function Bm(o,n){o&1&&j(0)}function zm(o,n){if(o&1&&g(0,Bm,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.footerTemplate)}}function Hm(o,n){o&1&&g(0,zm,1,1,"ng-template",null,2,ie)}function $m(o,n){o&1&&j(0)}function Gm(o,n){if(o&1&&g(0,$m,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.closeIconTemplate)}}function Um(o,n){o&1&&g(0,Gm,1,1,"ng-template",null,3,ie)}function jm(o,n){o&1&&j(0)}function Km(o,n){if(o&1&&g(0,jm,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.maximizeIconTemplate)}}function Qm(o,n){o&1&&g(0,Km,1,1,"ng-template",null,4,ie)}function Wm(o,n){o&1&&j(0)}function Zm(o,n){if(o&1&&g(0,Wm,1,0,"ng-container",8),o&2){let e=l(2);s("ngComponentOutlet",e.minimizeIconTemplate)}}function Ym(o,n){o&1&&g(0,Zm,1,1,"ng-template",null,5,ie)}function Xm(o,n){}function Jm(o,n){o&1&&g(0,Xm,0,0,"ng-template",9)}function eh(o,n){if(o&1&&(p(0,"div"),O(1),u()),o&2){let e=l();d(),te(e.ddconfig.footer)}}var es=(()=>{class o{viewContainerRef;constructor(e){this.viewContainerRef=e}static \u0275fac=function(t){return new(t||o)($e(on))};static \u0275dir=Ht({type:o,selectors:[["","pDynamicDialogContent",""]]})}return o})(),ts=(()=>{class o extends Il{name="dialog";static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var co=class{data;inputValues;header;ariaLabelledBy;footer;width;height;closeOnEscape=!1;focusOnShow=!0;focusTrap=!0;baseZIndex;autoZIndex=!1;dismissableMask=!1;rtl=!1;style;contentStyle;styleClass;transitionOptions;closable=!1;showHeader=!1;modal=!1;maskStyleClass;resizable=!1;draggable=!1;keepInViewport=!1;minX;minY;maximizable=!1;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate=!1;breakpoints;templates;pt;unstyled},pn=class{constructor(){}close(n){this._onClose.next(n),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(n){this._onDragStart.next(n)}dragEnd(n){this._onDragEnd.next(n)}resizeInit(n){this._onResizeInit.next(n)}resizeEnd(n){this._onResizeEnd.next(n)}maximize(n){this._onMaximize.next(n)}_onClose=new ue;onClose=this._onClose.asObservable();_onDestroy=new ue;onDestroy=this._onDestroy.asObservable();_onDragStart=new ue;onDragStart=this._onDragStart.asObservable();_onDragEnd=new ue;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new ue;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new ue;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new ue;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new ue},is=new ae("DYNAMIC_DIALOG_INSTANCE"),th=(()=>{class o extends ct{ddconfig;dialogRef;_componentStyle=_(ts);$pcDynamicDialog=_(is,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}visible=!0;componentRef;id=Ne("pn_id_");insertionPoint;dialog;childComponentType;inputValues;get minX(){return this.ddconfig.minX?this.ddconfig.minX:0}get minY(){return this.ddconfig.minY?this.ddconfig.minY:0}get keepInViewport(){return this.ddconfig.keepInViewport}get maximizable(){return this.ddconfig.maximizable}get maximizeIcon(){return this.ddconfig.maximizeIcon}get minimizeIcon(){return this.ddconfig.minimizeIcon}get closable(){return this.ddconfig.closable}get position(){return this.ddconfig.position}get defaultCloseAriaLabel(){return this.config.getTranslation(ze.ARIA).close}get breakpoints(){return this.ddconfig.breakpoints}get footerTemplate(){return this.ddconfig?.templates?.footer}get headerTemplate(){return this.ddconfig?.templates?.header}get contentTemplate(){return this.ddconfig?.templates?.content}get minimizeIconTemplate(){return this.ddconfig?.templates?.minimizeicon}get maximizeIconTemplate(){return this.ddconfig?.templates?.maximizeicon}get closeIconTemplate(){return this.ddconfig?.templates?.closeicon}get dialogStyle(){return L(L(L({},this.ddconfig?.style||{}),this.ddconfig?.width&&{width:this.ddconfig.width}),this.ddconfig?.height&&{height:this.ddconfig.height})}get header(){return this.ddconfig.header}get data(){return this.ddconfig.data}get dialogId(){return this.$attrSelector}get isUnstyled(){return this.ddconfig.unstyled||this.$unstyled()}maximized;dragging;resizing;ariaLabelledBy;_style={};styleElement;lastPageX;lastPageY;contentViewChild;footerViewChild;headerViewChild;maskViewChild;maskClickListener;documentDragListener;documentDragEndListener;documentResizeListener;documentResizeEndListener;documentEscapeListener;constructor(e,t){super(),this.ddconfig=e,this.dialogRef=t}onAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){let{header:e,showHeader:t}=this.ddconfig;return e===null||t===!1?null:Ne("pn_id_")+"_header"}loadChildComponent(e){let t=this.insertionPoint?.viewContainerRef;t?.clear(),this.componentRef=t?.createComponent(e),this.inputValues&&this.componentRef&&Object.entries(this.inputValues).forEach(([i,r])=>{this.componentRef.setInput(i,r)}),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}onDialogHide(e){this.dialogRef.destroy()}onDialogMaximize(e){this.maximized=e.maximized,this.dialogRef.maximize(e)}onDialogResizeInit(e){this.resizing=!0,this.dialogRef.resizeInit(e)}onDialogResizeEnd(e){this.resizing=!1,this.dialogRef.resizeEnd(e)}onDialogDragEnd(e){this.dragging=!1,this.dialogRef.dragEnd(e)}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}get _parent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>1)return e.pop()}get parentContent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>0){let t=e[e.length-1].querySelector(".p-dialog-content");if(t)return Array.isArray(t)?t[0]:t}}container;wrapper;unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}onAnimationStart(e){e.toState==="visible"&&(this._parent&&this.unbindGlobalListeners(),this.ddconfig.modal&&this.enableModality())}onAnimationEnd(e){e.toState==="void"&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.ddconfig.modal&&this.disableModality(),this.container=null}bindDocumentDragListener(){this.documentDragListener||(this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",e=>{this.onDrag(e)}))}bindDocumentDragEndListener(){this.documentDragEndListener||(this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",e=>{this.endDrag(e)}))}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}initDrag(e){if(e.target instanceof HTMLElement){let t=e.target;if(t.closest(".p-dialog-header-icon")||t.closest(".p-dialog-header-icons"))return}this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.dialogRef.dragStart(e),this.bindDocumentDragListener(),this.bindDocumentDragEndListener()}onDrag(e){this.dragging&&(this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.ddconfig.keepInViewport&&this.container&&(this.container.style.position="fixed"))}endDrag(e){this.dragging&&(this.dragging=!1,this.dialogRef.dragEnd(e),this.cd.detectChanges())}resetPosition(){this.container&&(this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin="")}bindDocumentResizeListeners(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",e=>{this.onResize(e)})),this.documentResizeEndListener||(this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",e=>{this.resizeEnd(e)}))}unbindDocumentResizeListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null),this.documentResizeEndListener&&(this.documentResizeEndListener(),this.documentResizeEndListener=null)}initResize(e){this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.dialogRef.resizeInit(e)}onResize(e){this.resizing&&(this.lastPageX=e.pageX,this.lastPageY=e.pageY)}resizeEnd(e){this.resizing&&(this.resizing=!1,this.dialogRef.resizeEnd(e))}maximize(){this.maximized=!this.maximized,this.dialogRef.maximize({maximized:this.maximized})}enableModality(){this.ddconfig.dismissableMask&&this.wrapper&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()}))}disableModality(){this.unbindMaskClickListener(),this.cd.detectChanges()}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}bindDocumentEscapeListener(){this.ddconfig.closeOnEscape&&(this.documentEscapeListener=this.renderer.listen(this.document,"keydown",e=>{e.key==="Escape"&&this.container&&this.hide()}))}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}createStyle(){if(!this.styleElement&&this.breakpoints){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                    @media screen and (max-width: ${t}) {
                        .p-dialog[${this.dialogId}] {
                            width: ${this.breakpoints[t]} !important;
                        }
                    }
                `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.componentRef&&typeof this.componentRef.destroy=="function"&&this.componentRef.destroy()}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&typeof this.componentRef.destroy=="function"&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(t){return new(t||o)($e(co),$e(pn))};static \u0275cmp=B({type:o,selectors:[["p-dynamicDialog"],["p-dynamicdialog"],["p-dynamic-dialog"]],viewQuery:function(t,i){if(t&1&&(H(es,5),H(gi,5)),t&2){let r;w(r=T())&&(i.insertionPoint=r.first),w(r=T())&&(i.dialog=r.first)}},features:[Z([ts,{provide:is,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:9,vars:43,consts:[["header",""],["content",""],["footer",""],["closeicon",""],["maximizeicon",""],["minimizeicon",""],["hostName","DynamicDialog",3,"visibleChange","onHide","onMaximize","onResizeInit","onResizeEnd","onDragEnd","visible","header","draggable","resizable","contentStyle","modal","closeOnEscape","dismissableMask","rtl","closable","breakpoints","styleClass","maskStyleClass","showHeader","autoZIndex","baseZIndex","minX","minY","focusOnShow","maximizable","keepInViewport","focusTrap","transitionOptions","closeAriaLabel","minimizeIcon","maximizeIcon","closeButtonProps","maximizeButtonProps","position","pt","unstyled"],[4,"ngIf"],[4,"ngComponentOutlet"],["pDynamicDialogContent",""]],template:function(t,i){t&1&&(p(0,"p-dialog",6),de("visibleChange",function(a){return le(i.visible,a)||(i.visible=a),a}),y("onHide",function(a){return i.onDialogHide(a)})("onMaximize",function(a){return i.onDialogMaximize(a)})("onResizeInit",function(a){return i.onDialogResizeInit(a)})("onResizeEnd",function(a){return i.onDialogResizeEnd(a)})("onDragEnd",function(a){return i.onDialogDragEnd(a)}),g(1,Am,2,0,null,7)(2,Lm,2,0,null,7)(3,Hm,2,0,null,7)(4,Um,2,0,null,7)(5,Qm,2,0,null,7)(6,Ym,2,0,null,7)(7,Jm,1,0,null,7)(8,eh,2,1,"div",7),u()),t&2&&(be(i.dialogStyle),se("visible",i.visible),s("header",i.ddconfig==null?null:i.ddconfig.header)("draggable",(i.ddconfig==null?null:i.ddconfig.draggable)!==!1)("resizable",(i.ddconfig==null?null:i.ddconfig.resizable)!==!1)("contentStyle",i.ddconfig==null?null:i.ddconfig.contentStyle)("modal",(i.ddconfig==null?null:i.ddconfig.modal)!==!1)("closeOnEscape",(i.ddconfig==null?null:i.ddconfig.closeOnEscape)!==!1)("dismissableMask",i.ddconfig==null?null:i.ddconfig.dismissableMask)("rtl",i.ddconfig==null?null:i.ddconfig.rtl)("closable",i.closable)("breakpoints",i.breakpoints)("styleClass",i.ddconfig==null?null:i.ddconfig.styleClass)("maskStyleClass",i.ddconfig==null?null:i.ddconfig.maskStyleClass)("showHeader",(i.ddconfig==null?null:i.ddconfig.showHeader)!==!1)("autoZIndex",(i.ddconfig==null?null:i.ddconfig.autoZIndex)!==!1)("baseZIndex",(i.ddconfig==null?null:i.ddconfig.baseZIndex)||0)("minX",i.minX)("minY",i.minY)("focusOnShow",(i.ddconfig==null?null:i.ddconfig.focusOnShow)!==!1)("maximizable",i.maximizable)("keepInViewport",i.keepInViewport)("focusTrap",(i.ddconfig==null?null:i.ddconfig.focusTrap)!==!1)("transitionOptions",(i.ddconfig==null?null:i.ddconfig.transitionOptions)||"150ms cubic-bezier(0, 0, 0.2, 1)")("closeAriaLabel",(i.ddconfig==null?null:i.ddconfig.closeAriaLabel)||i.defaultCloseAriaLabel)("minimizeIcon",i.minimizeIcon)("maximizeIcon",i.maximizeIcon)("closeButtonProps",Ae(41,Jl))("maximizeButtonProps",Ae(42,Jl))("position",i.position)("pt",i.ddconfig.pt)("unstyled",i.isUnstyled),d(),s("ngIf",i.headerTemplate),d(),s("ngIf",i.contentTemplate),d(),s("ngIf",i.footerTemplate),d(),s("ngIf",i.closeIconTemplate),d(),s("ngIf",i.maximizeIconTemplate),d(),s("ngIf",i.minimizeIconTemplate),d(),s("ngIf",!i.contentTemplate),d(),s("ngIf",i.ddconfig.footer&&!i.footerTemplate))},dependencies:[K,Ha,Ie,G,es,gi,ke],encapsulation:2})}return o})();var kr=class{_parentInjector;_additionalTokens;constructor(n,e){this._parentInjector=n,this._additionalTokens=e}get(n,e,t){let i=this._additionalTokens.get(n);return i||this._parentInjector.get(n,e)}},ns=(()=>{class o{appRef;injector;document;dialogComponentRefMap=new Map;constructor(e,t,i){this.appRef=e,this.injector=t,this.document=i}open(e,t){if(!this.duplicationPermission(e,t))return null;let i=this.appendDialogComponentToBody(t,e),r=this.dialogComponentRefMap.get(i);return r&&(r.instance.childComponentType=e,r.instance.inputValues=t.inputValues||{}),i}getInstance(e){return this.dialogComponentRefMap.get(e)?.instance}appendDialogComponentToBody(e,t){let i=new WeakMap;i.set(co,e);let r=new pn;i.set(pn,r);let a=r.onClose.subscribe(()=>{this.dialogComponentRefMap.get(r)?.instance.close()}),c=r.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(r),c.unsubscribe(),a.unsubscribe()}),m=qn(th,{environmentInjector:this.appRef.injector,elementInjector:new kr(this.injector,i)});this.appRef.attachView(m.hostView);let v=m.hostView.rootNodes[0];return!e.appendTo||e.appendTo==="body"?this.document.body.appendChild(v):Si(e.appendTo,v),this.dialogComponentRefMap.set(r,m),r}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;let t=this.dialogComponentRefMap.get(e);t&&(this.appRef.detachView(t.hostView),t.destroy(),t.changeDetectorRef.detectChanges()),this.dialogComponentRefMap.delete(e)}duplicationPermission(e,t){if(t.duplicate)return!0;let i=!0;for(let[r,a]of this.dialogComponentRefMap)if(a.instance.childComponentType===e){i=!1;break}return i}static \u0275fac=function(t){return new(t||o)(Vn(rn),Vn(pi),Vn(Et))};static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var os=`
    .p-rating {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: dt('rating.gap');
    }

    .p-rating-option {
        display: inline-flex;
        align-items: center;
        cursor: pointer;
        outline-color: transparent;
        border-radius: 50%;
        transition:
            background dt('rating.transition.duration'),
            color dt('rating.transition.duration'),
            border-color dt('rating.transition.duration'),
            outline-color dt('rating.transition.duration'),
            box-shadow dt('rating.transition.duration');
    }

    .p-rating-option.p-focus-visible {
        box-shadow: dt('rating.focus.ring.shadow');
        outline: dt('rating.focus.ring.width') dt('rating.focus.ring.style') dt('rating.focus.ring.color');
        outline-offset: dt('rating.focus.ring.offset');
    }

    .p-rating-icon {
        color: dt('rating.icon.color');
        transition:
            background dt('rating.transition.duration'),
            color dt('rating.transition.duration'),
            border-color dt('rating.transition.duration'),
            outline-color dt('rating.transition.duration'),
            box-shadow dt('rating.transition.duration');
        font-size: dt('rating.icon.size');
        width: dt('rating.icon.size');
        height: dt('rating.icon.size');
    }

    .p-rating:not(.p-disabled):not(.p-readonly) .p-rating-option:hover .p-rating-icon {
        color: dt('rating.icon.hover.color');
    }

    .p-rating-option-active .p-rating-icon {
        color: dt('rating.icon.active.color');
    }

    .p-rating-icon.p-invalid {
        /* @todo */
        stroke: dt('rating.invalid.icon.color');
    }

    .p-rating.p-readonly .p-rating-option {
        cursor: not-allowed;
    }
`;var ih=["onicon"],nh=["officon"],oh=(o,n)=>({star:o,value:n}),ls=(o,n)=>({$implicit:o,class:n});function rh(o,n){o&1&&j(0)}function ah(o,n){if(o&1&&g(0,rh,1,0,"ng-container",4),o&2){let e=l(2).$implicit,t=l();s("ngTemplateOutlet",t.onIconTemplate||t._onIconTemplate)("ngTemplateOutletContext",fe(2,ls,e+1,t.cx("onIcon")))}}function lh(o,n){if(o&1&&I(0,"span",7),o&2){let e=l(4);b(e.cx("onIcon")),s("ngStyle",e.iconOnStyle)("ngClass",e.iconOnClass)("pBind",e.ptm("onIcon"))}}function sh(o,n){if(o&1&&(ee(),I(0,"svg",8)),o&2){let e=l(4);b(e.cx("onIcon")),s("ngStyle",e.iconOnStyle)("pBind",e.ptm("onIcon"))}}function dh(o,n){if(o&1&&g(0,lh,1,5,"span",5)(1,sh,1,4,"svg",6),o&2){let e=l(3);s("ngIf",e.iconOnClass),d(),s("ngIf",!e.iconOnClass)}}function ch(o,n){if(o&1&&D(0,ah,1,5,"ng-container")(1,dh,2,2),o&2){let e=l(2);F(e.onIconTemplate||e._onIconTemplate?0:1)}}function ph(o,n){o&1&&j(0)}function uh(o,n){if(o&1&&g(0,ph,1,0,"ng-container",4),o&2){let e=l(2).$implicit,t=l();s("ngTemplateOutlet",t.offIconTemplate||t._offIconTemplate)("ngTemplateOutletContext",fe(2,ls,e+1,t.cx("offIcon")))}}function mh(o,n){if(o&1&&I(0,"span",7),o&2){let e=l(4);b(e.cx("offIcon")),s("ngStyle",e.iconOffStyle)("ngClass",e.iconOffClass)("pBind",e.ptm("offIcon"))}}function hh(o,n){if(o&1&&(ee(),I(0,"svg",10)),o&2){let e=l(4);b(e.cx("offIcon")),s("ngStyle",e.iconOffStyle)("pBind",e.ptm("offIcon"))}}function fh(o,n){if(o&1&&g(0,mh,1,5,"span",5)(1,hh,1,4,"svg",9),o&2){let e=l(3);s("ngIf",e.iconOffClass),d(),s("ngIf",!e.iconOffClass)}}function gh(o,n){if(o&1&&D(0,uh,1,5,"ng-container")(1,fh,2,2),o&2){let e=l(2);F(e.offIconTemplate||e._offIconTemplate?0:1)}}function _h(o,n){if(o&1){let e=k();p(0,"div",1),y("click",function(i){let r=h(e).$implicit,a=l();return f(a.onOptionClick(i,r+1))}),p(1,"span",2)(2,"input",3),y("focus",function(i){let r=h(e).$implicit,a=l();return f(a.onInputFocus(i,r+1))})("blur",function(i){h(e);let r=l();return f(r.onInputBlur(i))})("change",function(i){let r=h(e).$implicit,a=l();return f(a.onChange(i,r+1))}),u()(),D(3,ch,2,1)(4,gh,2,1),u()}if(o&2){let e=n.$implicit,t=l();b(t.cx("option",fe(16,oh,e,t.value))),s("pBind",t.ptm("option")),d(),s("pBind",t.ptm("hiddenOptionInputContainer")),x("data-p-hidden-accessible",!0),d(),s("value",e+1)("checked",t.value===e+1)("pAutoFocus",t.autofocus)("pBind",t.ptm("hiddenOptionInput")),x("name",t.name()||t.nameattr+"_name")("value",t.modelValue())("required",t.required()?"":void 0)("readonly",t.readonly?"":void 0)("disabled",t.$disabled()?"":void 0)("aria-label",t.starAriaLabel(e+1)),d(),F(e+1<=t.value?3:4)}}var vh=`
    ${os}

    /* For PrimeNG */
    p-rating.ng-invalid.ng-dirty > .p-rating > .p-rating-icon {
        stroke: dt('rating.invalid.icon.color');
    }
`,bh={root:({instance:o})=>["p-rating",{"p-readonly":o.readonly,"p-disabled":o.$disabled()}],option:({instance:o,star:n,value:e})=>["p-rating-option",{"p-rating-option-active":n+1<=e,"p-focus-visible":n+1===o.focusedOptionIndex()&&o.isFocusVisibleItem}],onIcon:({instance:o})=>["p-rating-icon p-rating-on-icon",{"p-invalid":o.invalid()}],offIcon:({instance:o})=>["p-rating-icon p-rating-off-icon",{"p-invalid":o.invalid()}]},rs=(()=>{class o extends Te{name="rating";style=vh;classes=bh;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var as=new ae("RATING_INSTANCE"),yh={provide:Se,useExisting:pe(()=>po),multi:!0},po=(()=>{class o extends ot{$pcRating=_(as,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}readonly;stars=5;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;autofocus;onRate=new M;onFocus=new M;onBlur=new M;onIconTemplate;offIconTemplate;templates;value;starsArray;isFocusVisibleItem=!0;focusedOptionIndex=U(-1);nameattr;_componentStyle=_(rs);_onIconTemplate;_offIconTemplate;onInit(){this.nameattr=this.nameattr||Ne("pn_id_"),this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this._onIconTemplate=e.template;break;case"officon":this._offIconTemplate=e.template;break}})}onOptionClick(e,t){if(!this.readonly&&!this.$disabled()){this.onOptionSelect(e,t),this.isFocusVisibleItem=!1;let i=fi(e.currentTarget,"");i&&Be(i)}}onOptionSelect(e,t){!this.readonly&&!this.$disabled()&&(this.focusedOptionIndex()===t||t===this.value?(this.focusedOptionIndex.set(-1),this.updateModel(e,null)):(this.focusedOptionIndex.set(t),this.updateModel(e,t||null)))}onChange(e,t){this.onOptionSelect(e,t),this.isFocusVisibleItem=!0}onInputBlur(e){this.focusedOptionIndex.set(-1),this.onBlur.emit(e)}onInputFocus(e,t){!this.readonly&&!this.$disabled()&&(this.focusedOptionIndex.set(t),this.isFocusVisibleItem=e.sourceCapabilities?.firesTouchEvents===!1,this.onFocus.emit(e))}updateModel(e,t){this.writeValue(t),this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:t})}starAriaLabel(e){return e===1?this.config.translation.aria?.star:this.config.translation.aria?.stars?.replace(/{star}/g,e)}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate||this._offIconTemplate:this.onIconTemplate||this.offIconTemplate}writeControlValue(e,t){this.value=e,t(e)}get isCustomIcon(){return!!(this.onIconTemplate||this._onIconTemplate||this.offIconTemplate||this._offIconTemplate)}get dataP(){return this.cn({readonly:this.readonly,disabled:this.$disabled()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-rating"]],contentQueries:function(t,i,r){if(t&1&&(P(r,ih,4),P(r,nh,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.onIconTemplate=a.first),w(a=T())&&(i.offIconTemplate=a.first),w(a=T())&&(i.templates=a)}},hostVars:3,hostBindings:function(t,i){t&2&&(x("data-p",i.dataP),b(i.cx("root")))},inputs:{readonly:[2,"readonly","readonly",E],stars:[2,"stars","stars",re],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",autofocus:[2,"autofocus","autofocus",E]},outputs:{onRate:"onRate",onFocus:"onFocus",onBlur:"onBlur"},features:[Z([yh,rs,{provide:as,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"click","pBind"],[1,"p-hidden-accessible",3,"pBind"],["type","radio",3,"focus","blur","change","value","checked","pAutoFocus","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngStyle","ngClass","pBind",4,"ngIf"],["data-p-icon","star-fill",3,"ngStyle","class","pBind",4,"ngIf"],[3,"ngStyle","ngClass","pBind"],["data-p-icon","star-fill",3,"ngStyle","pBind"],["data-p-icon","star",3,"ngStyle","class","pBind",4,"ngIf"],["data-p-icon","star",3,"ngStyle","pBind"]],template:function(t,i){t&1&&g(0,_h,5,19,"ng-template",0),t&2&&s("ngForOf",i.starsArray)},dependencies:[K,tt,Ct,Ie,we,Oe,Ke,Yl,Zl,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),uo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[po,G,G]})}return o})();var mo=class o{dialogService=_(ns);messageService=_(Hn);activeDialogRef=null;openListItemModal(n){let{modalConfig:e,itemData:t,editIndex:i,destroyRef:r}=n;return new di(a=>{this.activeDialogRef?.close();let c=this.generateModalHeader(e.modalTitle,t,C(i)),m=this.resolveModalFields(e.modalFields,t),v;He(e.modalFields)&&(v=()=>this.resolveModalFields(e.modalFields,t)),this.activeDialogRef=this.dialogService.open(e.modalComponent,{header:c,contentStyle:{"max-height":"80vh",overflow:"auto","min-width":"40rem"},style:{width:"auto"},baseZIndex:1e4,focusOnShow:!1,modal:!0,duplicate:!0,data:{fields:m,fieldsFn:v,initialData:t,subHeader:e.subHeader,actions:this.buildModalActions(e,C(i))}}),this.activeDialogRef&&this.activeDialogRef.onClose.pipe(dt(r)).subscribe(S=>{if(this.activeDialogRef=null,C(S)){let z={data:S,isEdit:C(i),index:i};a.next(z),a.complete()}else a.complete()})})}generateModalHeader(n,e,t){return He(n)?n(e):t?n.replace(/^Add\s+/,"Edit ")===n?`Edit ${n}`:n.replace(/^Add\s+/,"Edit "):n}resolveModalFields(n,e){return He(n)?n(e):n}buildModalActions(n,e){return[{label:"Cancel",severity:"secondary",type:"cancel",action:()=>this.activeDialogRef?.close()},{label:e?"Update":"Add",severity:"primary",type:"submit",action:async t=>{if(this.activeDialogRef)if(He(n.onSubmit))try{await n.onSubmit(t.value,this.activeDialogRef)!==!1&&C(this.activeDialogRef)&&this.activeDialogRef.close(t.getRawValue())}catch(i){console.error("Error in modalConfig.onSubmit:",i)}else this.activeDialogRef.close(t.getRawValue())}}]}formatListItem(n,e){if(e)try{return e(n)}catch(t){return console.error("Error in listItemFormatter:",t),this.defaultItemFormatter(n)}return this.defaultItemFormatter(n)}defaultItemFormatter(n){if($(n))return{id:"",display:""};let e=this.formatPrimitive(n);if(e)return e;if(typeof n!="object"){let a=JSON.stringify(n);return{id:a,display:a}}let t=n,i=["name","label","title","displayName","display"];for(let a of i){let c=t[a];if(typeof c=="string"&&c.length>0)return{id:"id"in t?String(t.id):String(c),display:c}}let r=Object.keys(t)[0];if(r){let a=t[r],c=typeof a=="string"?a:JSON.stringify(a??"[Item]");return{id:"id"in t?String(t.id):r,display:c}}return{id:"",display:"[Item]"}}formatPrimitive(n){switch(typeof n){case"string":return{id:n,display:n};case"number":{let e=String(n);return{id:e,display:e}}case"boolean":{let e=n?"true":"false";return{id:e,display:e}}case"bigint":{let e=n.toString();return{id:e,display:e}}case"symbol":{let e=n.toString();return{id:e,display:e}}case"undefined":return{id:"",display:""};default:return null}}showSubmissionNotification(n,e){if(e===!0)return;let t=n?"Item Updated":"Item Added";this.messageService.add({severity:"info",summary:t,detail:'Click "Save" to save your changes.',life:5e3})}showDeletionNotification(){this.messageService.add({severity:"info",summary:"Item Deleted",detail:'Click "Save" to save your changes.'})}closeActiveDialog(){this.activeDialogRef?.close(),this.activeDialogRef=null}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var ss=`
    .p-colorpicker {
        display: inline-block;
        position: relative;
    }

    .p-colorpicker-dragging {
        cursor: pointer;
    }

    .p-colorpicker-preview {
        width: dt('colorpicker.preview.width');
        height: dt('colorpicker.preview.height');
        padding: 0;
        border: 0 none;
        border-radius: dt('colorpicker.preview.border.radius');
        transition:
            background dt('colorpicker.transition.duration'),
            color dt('colorpicker.transition.duration'),
            border-color dt('colorpicker.transition.duration'),
            outline-color dt('colorpicker.transition.duration'),
            box-shadow dt('colorpicker.transition.duration');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-colorpicker-preview:enabled:focus-visible {
        border-color: dt('colorpicker.preview.focus.border.color');
        box-shadow: dt('colorpicker.preview.focus.ring.shadow');
        outline: dt('colorpicker.preview.focus.ring.width') dt('colorpicker.preview.focus.ring.style') dt('colorpicker.preview.focus.ring.color');
        outline-offset: dt('colorpicker.preview.focus.ring.offset');
    }

    .p-colorpicker-panel {
        background: dt('colorpicker.panel.background');
        border: 1px solid dt('colorpicker.panel.border.color');
        border-radius: dt('colorpicker.panel.border.radius');
        box-shadow: dt('colorpicker.panel.shadow');
        width: 193px;
        height: 166px;
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-colorpicker-panel-inline {
        box-shadow: none;
        position: static;
    }

    .p-colorpicker-content {
        position: relative;
    }

    .p-colorpicker-color-selector {
        width: 150px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 8px;
        position: absolute;
    }

    .p-colorpicker-color-background {
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    }

    .p-colorpicker-color-handle {
        position: absolute;
        inset-block-start: 0px;
        inset-inline-start: 150px;
        border-radius: 100%;
        width: 10px;
        height: 10px;
        border-width: 1px;
        border-style: solid;
        margin: -5px 0 0 -5px;
        cursor: pointer;
        opacity: 0.85;
        border-color: dt('colorpicker.handle.color');
    }

    .p-colorpicker-hue {
        width: 17px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 167px;
        position: absolute;
        opacity: 0.85;
        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);
    }

    .p-colorpicker-hue-handle {
        position: absolute;
        inset-block-start: 150px;
        inset-inline-start: 0px;
        width: 21px;
        margin-inline-start: -2px;
        margin-block-start: -5px;
        height: 10px;
        border-width: 2px;
        border-style: solid;
        opacity: 0.85;
        cursor: pointer;
        border-color: dt('colorpicker.handle.color');
    }
`;var wh=["input"],Th=["overlay"],Sh=["colorSelector"],Ih=["colorHandle"],kh=["hue"],Eh=["hueHandle"];function Dh(o,n){if(o&1){let e=k();p(0,"input",9,2),y("click",function(){h(e);let i=l();return f(i.onInputClick())})("keydown",function(i){h(e);let r=l();return f(r.onInputKeydown(i))})("focus",function(){h(e);let i=l();return f(i.onInputFocus())}),u()}if(o&2){let e=l();b(e.cx("preview")),Je("background-color",e.inputBgColor),s("pAutoFocus",e.autofocus)("pBind",e.ptm("preview")),x("tabindex",e.tabindex)("disabled",e.$disabled()?"":void 0)("id",e.inputId)("aria-label",e.ariaLabel)}}function Fh(o,n){if(o&1){let e=k();p(0,"div",10)(1,"div",10)(2,"div",11,3),y("touchstart",function(i){h(e);let r=l();return f(r.onColorDragStart(i))})("touchmove",function(i){h(e);let r=l();return f(r.onDrag(i))})("touchend",function(){h(e);let i=l();return f(i.onDragEnd())})("mousedown",function(i){h(e);let r=l();return f(r.onColorMousedown(i))}),p(4,"div",10),I(5,"div",10,4),u()(),p(7,"div",12,5),y("mousedown",function(i){h(e);let r=l();return f(r.onHueMousedown(i))})("touchstart",function(i){h(e);let r=l();return f(r.onHueDragStart(i))})("touchmove",function(i){h(e);let r=l();return f(r.onDrag(i))})("touchend",function(){h(e);let i=l();return f(i.onDragEnd())}),I(9,"div",10,6),u()()()}if(o&2){let e=l();b(e.cx("panel")),s("pBind",e.ptm("panel")),d(),b(e.cx("content")),s("pBind",e.ptm("content")),d(),b(e.cx("colorSelector")),s("pBind",e.ptm("colorSelector")),d(2),b(e.cx("colorBackground")),s("pBind",e.ptm("colorBackground")),d(),b(e.cx("colorHandle")),s("pBind",e.ptm("colorHandle")),d(2),b(e.cx("hue")),s("pBind",e.ptm("hue")),d(2),b(e.cx("hueHandle")),s("pBind",e.ptm("hueHandle"))}}var Mh={root:({instance:o})=>["p-colorpicker p-component",{"p-colorpicker-overlay":!o.inline,"p-colorpicker-dragging":o.colorDragging||o.hueDragging}],preview:({instance:o})=>["p-colorpicker-preview",{"p-disabled":o.$disabled()}],panel:({instance:o})=>["p-colorpicker-panel",{"p-colorpicker-panel-inline":o.inline,"p-disabled":o.$disabled()}],content:"p-colorpicker-content",colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},ds=(()=>{class o extends Te{name="colorpicker";style=ss;classes=Mh;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Oh={provide:Se,useExisting:pe(()=>ho),multi:!0},cs=new ae("COLORPICKER_INSTANCE"),ho=(()=>{class o extends ot{overlayService;$pcColorPicker=_(cs,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";inline;format="hex";tabindex;inputId;autoZIndex=!0;autofocus;defaultColor="ff0000";appendTo=R(void 0);overlayOptions=R(void 0);motionOptions=R(void 0);onChange=new M;onShow=new M;onHide=new M;inputViewChild;overlayViewChild;$appendTo=oe(()=>this.appendTo()||this.config.overlayAppendTo());value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;_componentStyle=_(ds);constructor(e){super(),this.overlayService=e}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(ze.ARIA)[ze.SELECT_COLOR]}onHueMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.$disabled()||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.$disabled()||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]),this.el.nativeElement.setAttribute("p-colorpicker-dragging","true"))}pickHue(e,t){let i=t?t.pageY:e.pageY,r=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,i-r)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.el.nativeElement.setAttribute("p-colorpicker-dragging","false"),this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,t){let i=t?t.pageX:e.pageX,r=t?t.pageY:e.pageY,a=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),c=a.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),m=a.left+this.document.body.scrollLeft,v=Math.floor(100*Math.max(0,Math.min(150,i-m))/150),S=Math.floor(100*(150-Math.max(0,Math.min(150,r-c)))/150);this.value=this.validateHSB({h:this.value.h,s:v,b:S}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayBeforeEnter(){this.inline||(this.updateColorSelector(),this.updateUI(),this.onShow.emit({}))}onOverlayAfterLeave(){this.inline||this.onHide.emit({})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",t=>{this.colorDragging&&this.pickColor(t),this.hueDragging&&this.pickHue(t)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var i=[],r=0;r<t;r++)i.push("0");i.push(e),e=i.join("")}return e}HEXtoRGB(e){if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),a=r-i;return t.b=r,t.s=r!=0?255*a/r:0,t.s!=0?e.r==r?t.h=(e.g-e.b)/a:e.g==r?t.h=2+(e.b-e.r)/a:t.h=4+(e.r-e.g)/a:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:0,g:0,b:0};let i=e.h,r=e.s*255/100,a=e.b*255/100;if(r==0)t={r:a,g:a,b:a};else{let c=a,m=(255-r)*a/255,v=(c-m)*(i%60)/60;i==360&&(i=0),i<60?(t.r=c,t.b=m,t.g=m+v):i<120?(t.g=c,t.b=m,t.r=c-v):i<180?(t.g=c,t.r=m,t.b=m+v):i<240?(t.b=c,t.r=m,t.g=c-v):i<300?(t.b=c,t.g=m,t.r=m+v):i<360?(t.r=c,t.g=m,t.b=c-v):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var i in t)t[i].length==1&&(t[i]="0"+t[i]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onAfterViewInit(){this.inline&&(this.updateColorSelector(),this.updateUI())}writeControlValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}onDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlayViewChild?.nativeElement&&this.autoZIndex&&cn.clear(this.overlayViewChild?.nativeElement)}static \u0275fac=function(t){return new(t||o)($e(ki))};static \u0275cmp=B({type:o,selectors:[["p-colorPicker"],["p-colorpicker"],["p-color-picker"]],viewQuery:function(t,i){if(t&1&&(H(wh,5),H(Th,5),H(Sh,5),H(Ih,5),H(kh,5),H(Eh,5)),t&2){let r;w(r=T())&&(i.inputViewChild=r.first),w(r=T())&&(i.overlayViewChild=r.first),w(r=T())&&(i.colorSelector=r.first),w(r=T())&&(i.colorHandle=r.first),w(r=T())&&(i.hue=r.first),w(r=T())&&(i.hueHandle=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&b(i.cn(i.cx("root"),i.styleClass))},inputs:{styleClass:"styleClass",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",inline:[2,"inline","inline",E],format:"format",tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",E],autofocus:[2,"autofocus","autofocus",E],defaultColor:"defaultColor",appendTo:[1,"appendTo"],overlayOptions:[1,"overlayOptions"],motionOptions:[1,"motionOptions"]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[Z([Oh,ds,{provide:cs,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:5,vars:10,consts:[["overlay",""],["content",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],["type","text","readonly","",3,"class","backgroundColor","pAutoFocus","pBind","click","keydown","focus",4,"ngIf"],[3,"visibleChange","onBeforeEnter","onAfterLeave","onHide","hostAttrSelector","visible","options","target","inline","appendTo","unstyled","pt","motionOptions"],["type","text","readonly","",3,"click","keydown","focus","pAutoFocus","pBind"],[3,"pBind"],[3,"touchstart","touchmove","touchend","mousedown","pBind"],[3,"mousedown","touchstart","touchmove","touchend","pBind"]],template:function(t,i){if(t&1){let r=k();g(0,Dh,2,10,"input",7),p(1,"p-overlay",8,0),de("visibleChange",function(c){return h(r),le(i.overlayVisible,c)||(i.overlayVisible=c),f(c)}),y("onBeforeEnter",function(){return h(r),f(i.onOverlayBeforeEnter())})("onAfterLeave",function(){return h(r),f(i.onOverlayAfterLeave())})("onHide",function(){return h(r),f(i.hide())}),g(3,Fh,11,21,"ng-template",null,1,ie),u()}t&2&&(s("ngIf",!i.inline),d(),s("hostAttrSelector",i.$attrSelector),se("visible",i.overlayVisible),s("options",i.overlayOptions())("target","@parent")("inline",i.inline)("appendTo",i.$appendTo())("unstyled",i.unstyled())("pt",i.ptm("pcOverlay"))("motionOptions",i.motionOptions()))},dependencies:[K,Ie,jn,Ke,G,A,dn,_t,We],encapsulation:2,changeDetection:0})}return o})(),fo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[ho,G,G]})}return o})();var ps=`
    /*!
* Quill Editor v1.3.3
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
    .ql-container {
        box-sizing: border-box;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 13px;
        height: 100%;
        margin: 0;
        position: relative;
    }
    .ql-container.ql-disabled .ql-tooltip {
        visibility: hidden;
    }
    .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
        pointer-events: none;
    }
    .ql-clipboard {
        inset-inline-start: -100000px;
        height: 1px;
        overflow-y: hidden;
        position: absolute;
        top: 50%;
    }
    .ql-clipboard p {
        margin: 0;
        padding: 0;
    }
    .ql-editor {
        box-sizing: border-box;
        line-height: 1.42;
        height: 100%;
        outline: none;
        overflow-y: auto;
        padding: 12px 15px;
        tab-size: 4;
        -moz-tab-size: 4;
        text-align: left;
        white-space: pre-wrap;
        word-wrap: break-word;
    }
    .ql-editor > * {
        cursor: text;
    }
    .ql-editor p,
    .ql-editor ol,
    .ql-editor ul,
    .ql-editor pre,
    .ql-editor blockquote,
    .ql-editor h1,
    .ql-editor h2,
    .ql-editor h3,
    .ql-editor h4,
    .ql-editor h5,
    .ql-editor h6 {
        margin: 0;
        padding: 0;
        counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol,
    .ql-editor ul {
        padding-inline-start: 1.5rem;
    }
    .ql-editor ol > li,
    .ql-editor ul > li {
        list-style-type: none;
    }
    .ql-editor ul > li::before {
        content: '\\2022';
    }
    .ql-editor ul[data-checked='true'],
    .ql-editor ul[data-checked='false'] {
        pointer-events: none;
    }
    .ql-editor ul[data-checked='true'] > li *,
    .ql-editor ul[data-checked='false'] > li * {
        pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before,
    .ql-editor ul[data-checked='false'] > li::before {
        color: #777;
        cursor: pointer;
        pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before {
        content: '\\2611';
    }
    .ql-editor ul[data-checked='false'] > li::before {
        content: '\\2610';
    }
    .ql-editor li::before {
        display: inline-block;
        white-space: nowrap;
        width: 1.2rem;
    }
    .ql-editor li:not(.ql-direction-rtl)::before {
        margin-inline-start: -1.5rem;
        margin-inline-end: 0.3rem;
        text-align: right;
    }
    .ql-editor li.ql-direction-rtl::before {
        margin-inline-start: 0.3rem;
        margin-inline-end: -1.5rem;
    }
    .ql-editor ol li:not(.ql-direction-rtl),
    .ql-editor ul li:not(.ql-direction-rtl) {
        padding-inline-start: 1.5rem;
    }
    .ql-editor ol li.ql-direction-rtl,
    .ql-editor ul li.ql-direction-rtl {
        padding-inline-end: 1.5rem;
    }
    .ql-editor ol li {
        counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
        counter-increment: list-0;
    }
    .ql-editor ol li:before {
        content: counter(list-0, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
        counter-increment: list-1;
    }
    .ql-editor ol li.ql-indent-1:before {
        content: counter(list-1, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
        counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-2 {
        counter-increment: list-2;
    }
    .ql-editor ol li.ql-indent-2:before {
        content: counter(list-2, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-2 {
        counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-3 {
        counter-increment: list-3;
    }
    .ql-editor ol li.ql-indent-3:before {
        content: counter(list-3, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-3 {
        counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-4 {
        counter-increment: list-4;
    }
    .ql-editor ol li.ql-indent-4:before {
        content: counter(list-4, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-4 {
        counter-reset: list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-5 {
        counter-increment: list-5;
    }
    .ql-editor ol li.ql-indent-5:before {
        content: counter(list-5, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-5 {
        counter-reset: list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-6 {
        counter-increment: list-6;
    }
    .ql-editor ol li.ql-indent-6:before {
        content: counter(list-6, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-6 {
        counter-reset: list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-7 {
        counter-increment: list-7;
    }
    .ql-editor ol li.ql-indent-7:before {
        content: counter(list-7, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-7 {
        counter-reset: list-8 list-9;
    }
    .ql-editor ol li.ql-indent-8 {
        counter-increment: list-8;
    }
    .ql-editor ol li.ql-indent-8:before {
        content: counter(list-8, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-8 {
        counter-reset: list-9;
    }
    .ql-editor ol li.ql-indent-9 {
        counter-increment: list-9;
    }
    .ql-editor ol li.ql-indent-9:before {
        content: counter(list-9, decimal) '. ';
    }
    .ql-editor .ql-video {
        display: block;
        max-width: 100%;
    }
    .ql-editor .ql-video.ql-align-center {
        margin: 0 auto;
    }
    .ql-editor .ql-video.ql-align-right {
        margin: 0 0 0 auto;
    }
    .ql-editor .ql-bg-black {
        background: #000;
    }
    .ql-editor .ql-bg-red {
        background: #e60000;
    }
    .ql-editor .ql-bg-orange {
        background: #f90;
    }
    .ql-editor .ql-bg-yellow {
        background: #ff0;
    }
    .ql-editor .ql-bg-green {
        background: #008a00;
    }
    .ql-editor .ql-bg-blue {
        background: #06c;
    }
    .ql-editor .ql-bg-purple {
        background: #93f;
    }
    .ql-editor .ql-color-white {
        color: #fff;
    }
    .ql-editor .ql-color-red {
        color: #e60000;
    }
    .ql-editor .ql-color-orange {
        color: #f90;
    }
    .ql-editor .ql-color-yellow {
        color: #ff0;
    }
    .ql-editor .ql-color-green {
        color: #008a00;
    }
    .ql-editor .ql-color-blue {
        color: #06c;
    }
    .ql-editor .ql-color-purple {
        color: #93f;
    }
    .ql-editor .ql-font-serif {
        font-family:
            Georgia,
            Times New Roman,
            serif;
    }
    .ql-editor .ql-font-monospace {
        font-family:
            Monaco,
            Courier New,
            monospace;
    }
    .ql-editor .ql-size-small {
        font-size: 0.75rem;
    }
    .ql-editor .ql-size-large {
        font-size: 1.5rem;
    }
    .ql-editor .ql-size-huge {
        font-size: 2.5rem;
    }
    .ql-editor .ql-direction-rtl {
        direction: rtl;
        text-align: inherit;
    }
    .ql-editor .ql-align-center {
        text-align: center;
    }
    .ql-editor .ql-align-justify {
        text-align: justify;
    }
    .ql-editor .ql-align-right {
        text-align: right;
    }
    .ql-editor.ql-blank::before {
        color: dt('form.field.placeholder.color');
        content: attr(data-placeholder);
        font-style: italic;
        inset-inline-start: 15px;
        pointer-events: none;
        position: absolute;
        inset-inline-end: 15px;
    }
    .ql-snow.ql-toolbar:after,
    .ql-snow .ql-toolbar:after {
        clear: both;
        content: '';
        display: table;
    }
    .ql-snow.ql-toolbar button,
    .ql-snow .ql-toolbar button {
        background: none;
        border: none;
        cursor: pointer;
        display: inline-block;
        float: left;
        height: 24px;
        padding-block: 3px;
        padding-inline: 5px;
        width: 28px;
    }
    .ql-snow.ql-toolbar button svg,
    .ql-snow .ql-toolbar button svg {
        float: left;
        height: 100%;
    }
    .ql-snow.ql-toolbar button:active:hover,
    .ql-snow .ql-toolbar button:active:hover {
        outline: none;
    }
    .ql-snow.ql-toolbar input.ql-image[type='file'],
    .ql-snow .ql-toolbar input.ql-image[type='file'] {
        display: none;
    }
    .ql-snow.ql-toolbar button:hover,
    .ql-snow .ql-toolbar button:hover,
    .ql-snow.ql-toolbar button:focus,
    .ql-snow .ql-toolbar button:focus,
    .ql-snow.ql-toolbar button.ql-active,
    .ql-snow .ql-toolbar button.ql-active,
    .ql-snow.ql-toolbar .ql-picker-label:hover,
    .ql-snow .ql-toolbar .ql-picker-label:hover,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active,
    .ql-snow.ql-toolbar .ql-picker-item:hover,
    .ql-snow .ql-toolbar .ql-picker-item:hover,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected {
        color: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
        fill: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-stroke,
    .ql-snow .ql-toolbar button:hover .ql-stroke,
    .ql-snow.ql-toolbar button:focus .ql-stroke,
    .ql-snow .ql-toolbar button:focus .ql-stroke,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow.ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow .ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
        stroke: #06c;
    }
    @media (pointer: coarse) {
        .ql-snow.ql-toolbar button:hover:not(.ql-active),
        .ql-snow .ql-toolbar button:hover:not(.ql-active) {
            color: #444;
        }
        .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
        .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
        .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
        .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
            fill: #444;
        }
        .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
        .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
        .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
        .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
            stroke: #444;
        }
    }
    .ql-snow {
        box-sizing: border-box;
    }
    .ql-snow * {
        box-sizing: border-box;
    }
    .ql-snow .ql-hidden {
        display: none;
    }
    .ql-snow .ql-out-bottom,
    .ql-snow .ql-out-top {
        visibility: hidden;
    }
    .ql-snow .ql-tooltip {
        position: absolute;
        transform: translateY(10px);
    }
    .ql-snow .ql-tooltip a {
        cursor: pointer;
        text-decoration: none;
    }
    .ql-snow .ql-tooltip.ql-flip {
        transform: translateY(-10px);
    }
    .ql-snow .ql-formats {
        display: inline-block;
        vertical-align: middle;
    }
    .ql-snow .ql-formats:after {
        clear: both;
        content: '';
        display: table;
    }
    .ql-snow .ql-stroke {
        fill: none;
        stroke: #444;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 2;
    }
    .ql-snow .ql-stroke-miter {
        fill: none;
        stroke: #444;
        stroke-miterlimit: 10;
        stroke-width: 2;
    }
    .ql-snow .ql-fill,
    .ql-snow .ql-stroke.ql-fill {
        fill: #444;
    }
    .ql-snow .ql-empty {
        fill: none;
    }
    .ql-snow .ql-even {
        fill-rule: evenodd;
    }
    .ql-snow .ql-thin,
    .ql-snow .ql-stroke.ql-thin {
        stroke-width: 1;
    }
    .ql-snow .ql-transparent {
        opacity: 0.4;
    }
    .ql-snow .ql-direction svg:last-child {
        display: none;
    }
    .ql-snow .ql-direction.ql-active svg:last-child {
        display: inline;
    }
    .ql-snow .ql-direction.ql-active svg:first-child {
        display: none;
    }
    .ql-snow .ql-editor h1 {
        font-size: 2rem;
    }
    .ql-snow .ql-editor h2 {
        font-size: 1.5rem;
    }
    .ql-snow .ql-editor h3 {
        font-size: 1.17rem;
    }
    .ql-snow .ql-editor h4 {
        font-size: 1rem;
    }
    .ql-snow .ql-editor h5 {
        font-size: 0.83rem;
    }
    .ql-snow .ql-editor h6 {
        font-size: 0.67rem;
    }
    .ql-snow .ql-editor a {
        text-decoration: underline;
    }
    .ql-snow .ql-editor blockquote {
        border-inline-start: 4px solid #ccc;
        margin-block-end: 5px;
        margin-block-start: 5px;
        padding-inline-start: 16px;
    }
    .ql-snow .ql-editor code,
    .ql-snow .ql-editor pre {
        background: #f0f0f0;
        border-radius: 3px;
    }
    .ql-snow .ql-editor pre {
        white-space: pre-wrap;
        margin-block-end: 5px;
        margin-block-start: 5px;
        padding: 5px 10px;
    }
    .ql-snow .ql-editor code {
        font-size: 85%;
        padding: 2px 4px;
    }
    .ql-snow .ql-editor pre.ql-syntax {
        background: #23241f;
        color: #f8f8f2;
        overflow: visible;
    }
    .ql-snow .ql-editor img {
        max-width: 100%;
    }
    .ql-snow .ql-picker {
        color: #444;
        display: inline-block;
        float: left;
        inset-inline-start: 0;
        font-size: 14px;
        font-weight: 500;
        height: 24px;
        position: relative;
        vertical-align: middle;
    }
    .ql-snow .ql-picker-label {
        cursor: pointer;
        display: inline-block;
        height: 100%;
        padding-inline-start: 8px;
        padding-inline-end: 2px;
        position: relative;
        width: 100%;
    }
    .ql-snow .ql-picker-label::before {
        display: inline-block;
        line-height: 22px;
    }
    .ql-snow .ql-picker-options {
        background: #fff;
        display: none;
        min-width: 100%;
        padding: 4px 8px;
        position: absolute;
        white-space: nowrap;
    }
    .ql-snow .ql-picker-options .ql-picker-item {
        cursor: pointer;
        display: block;
        padding-block-end: 5px;
        padding-block-start: 5px;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label {
        color: #ccc;
        z-index: 2;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
        fill: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
        stroke: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-options {
        display: block;
        margin-block-start: -1px;
        top: 100%;
        z-index: 1;
    }
    .ql-snow .ql-color-picker,
    .ql-snow .ql-icon-picker {
        width: 28px;
    }
    .ql-snow .ql-color-picker .ql-picker-label,
    .ql-snow .ql-icon-picker .ql-picker-label {
        padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-label svg,
    .ql-snow .ql-icon-picker .ql-picker-label svg {
        inset-inline-end: 4px;
    }
    .ql-snow .ql-icon-picker .ql-picker-options {
        padding: 4px 0;
    }
    .ql-snow .ql-icon-picker .ql-picker-item {
        height: 24px;
        width: 24px;
        padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-options {
        padding: 3px 5px;
        width: 152px;
    }
    .ql-snow .ql-color-picker .ql-picker-item {
        border: 1px solid transparent;
        float: left;
        height: 16px;
        margin: 2px;
        padding: 0;
        width: 16px;
    }
    .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
        position: absolute;
        margin-block-start: -9px;
        inset-inline-end: 0;
        top: 50%;
        width: 18px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
        content: attr(data-label);
    }
    .ql-snow .ql-picker.ql-header {
        width: 98px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item::before {
        content: 'Normal';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
        content: 'Heading 1';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
        content: 'Heading 2';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
        content: 'Heading 3';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
        content: 'Heading 4';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
        content: 'Heading 5';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
        content: 'Heading 6';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
        font-size: 2rem;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
        font-size: 1.5rem;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
        font-size: 1.17rem;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
        font-size: 1rem;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
        font-size: 0.83rem;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
        font-size: 0.67rem;
    }
    .ql-snow .ql-picker.ql-font {
        width: 108px;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item::before {
        content: 'Sans Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
        content: 'Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
        content: 'Monospace';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
        font-family:
            Georgia,
            Times New Roman,
            serif;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
        font-family:
            Monaco,
            Courier New,
            monospace;
    }
    .ql-snow .ql-picker.ql-size {
        width: 98px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item::before {
        content: 'Normal';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
        content: 'Small';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
        content: 'Large';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
        content: 'Huge';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
        font-size: 10px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
        font-size: 18px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
        font-size: 32px;
    }
    .ql-snow .ql-color-picker.ql-background .ql-picker-item {
        background: #fff;
    }
    .ql-snow .ql-color-picker.ql-color .ql-picker-item {
        background: #000;
    }
    .ql-toolbar.ql-snow {
        border: 1px solid #ccc;
        box-sizing: border-box;
        font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
        padding: 8px;
    }
    .ql-toolbar.ql-snow .ql-formats {
        margin-inline-end: 15px;
    }
    .ql-toolbar.ql-snow .ql-picker-label {
        border: 1px solid transparent;
    }
    .ql-toolbar.ql-snow .ql-picker-options {
        border: 1px solid transparent;
        box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
        border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
        border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
        border-color: #000;
    }
    .ql-toolbar.ql-snow + .ql-container.ql-snow {
        border-block-start: 0;
    }
    .ql-snow .ql-tooltip {
        background: #fff;
        border: 1px solid #ccc;
        box-shadow: 0 0 5px #ddd;
        color: #444;
        padding: 5px 12px;
        white-space: nowrap;
    }
    .ql-snow .ql-tooltip::before {
        content: 'Visit URL:';
        line-height: 26px;
        margin-inline-end: 8px;
    }
    .ql-snow .ql-tooltip input[type='text'] {
        display: none;
        border: 1px solid #ccc;
        font-size: 13px;
        height: 26px;
        margin: 0;
        padding: 3px 5px;
        width: 170px;
    }
    .ql-snow .ql-tooltip a.ql-preview {
        display: inline-block;
        max-width: 200px;
        overflow-x: hidden;
        text-overflow: ellipsis;
        vertical-align: top;
    }
    .ql-snow .ql-tooltip a.ql-action::after {
        border-inline-end: 1px solid #ccc;
        content: 'Edit';
        margin-inline-start: 16px;
        padding-inline-end: 8px;
    }
    .ql-snow .ql-tooltip a.ql-remove::before {
        content: 'Remove';
        margin-inline-start: 8px;
    }
    .ql-snow .ql-tooltip a {
        line-height: 26px;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-preview,
    .ql-snow .ql-tooltip.ql-editing a.ql-remove {
        display: none;
    }
    .ql-snow .ql-tooltip.ql-editing input[type='text'] {
        display: inline-block;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-action::after {
        border-inline-end: 0;
        content: 'Save';
        padding-inline-end: 0;
    }
    .ql-snow .ql-tooltip[data-mode='link']::before {
        content: 'Enter link:';
    }
    .ql-snow .ql-tooltip[data-mode='formula']::before {
        content: 'Enter formula:';
    }
    .ql-snow .ql-tooltip[data-mode='video']::before {
        content: 'Enter video:';
    }
    .ql-snow a {
        color: #06c;
    }
    .ql-container.ql-snow {
        border: 1px solid #ccc;
    }

    .p-editor {
        display: block;
    }

    .p-editor .p-editor-toolbar {
        background: dt('editor.toolbar.background');
        border-start-end-radius: dt('editor.toolbar.border.radius');
        border-start-start-radius: dt('editor.toolbar.border.radius');
    }

    .p-editor .p-editor-toolbar.ql-snow {
        border: 1px solid dt('editor.toolbar.border.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-stroke {
        stroke: dt('editor.toolbar.item.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-fill {
        fill: dt('editor.toolbar.item.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker .ql-picker-label {
        border: 0 none;
        color: dt('editor.toolbar.item.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker .ql-picker-label:hover {
        color: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker .ql-picker-label:hover .ql-stroke {
        stroke: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker .ql-picker-label:hover .ql-fill {
        fill: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
        color: dt('editor.toolbar.item.active.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
        stroke: dt('editor.toolbar.item.active.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
        fill: dt('editor.toolbar.item.active.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
        background: dt('editor.overlay.background');
        border: 1px solid dt('editor.overlay.border.color');
        box-shadow: dt('editor.overlay.shadow');
        border-radius: dt('editor.overlay.border.radius');
        padding: dt('editor.overlay.padding');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options .ql-picker-item {
        color: dt('editor.overlay.option.color');
        border-radius: dt('editor.overlay.option.border.radius');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options .ql-picker-item:hover {
        background: dt('editor.overlay.option.focus.background');
        color: dt('editor.overlay.option.focus.color');
    }

    .p-editor .p-editor-toolbar.ql-snow .ql-picker.ql-expanded:not(.ql-color-picker, .ql-icon-picker) .ql-picker-item {
        padding: dt('editor.overlay.option.padding');
    }

    .p-editor .p-editor-content {
        border-end-end-radius: dt('editor.content.border.radius');
        border-end-start-radius: dt('editor.content.border.radius');
    }

    .p-editor .p-editor-content.ql-snow {
        border: 1px solid dt('editor.content.border.color');
    }

    .p-editor .p-editor-content .ql-editor {
        background: dt('editor.content.background');
        color: dt('editor.content.color');
        border-end-end-radius: dt('editor.content.border.radius');
        border-end-start-radius: dt('editor.content.border.radius');
    }

    .p-editor .ql-snow.ql-toolbar button:hover,
    .p-editor .ql-snow.ql-toolbar button:focus {
        color: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .ql-snow.ql-toolbar button:hover .ql-stroke,
    .p-editor .ql-snow.ql-toolbar button:focus .ql-stroke {
        stroke: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .ql-snow.ql-toolbar button:hover .ql-fill,
    .p-editor .ql-snow.ql-toolbar button:focus .ql-fill {
        fill: dt('editor.toolbar.item.hover.color');
    }

    .p-editor .ql-snow.ql-toolbar button.ql-active,
    .p-editor .ql-snow.ql-toolbar .ql-picker-label.ql-active,
    .p-editor .ql-snow.ql-toolbar .ql-picker-item.ql-selected {
        color: dt('editor.toolbar.item.active.color');
    }

    .p-editor .ql-snow.ql-toolbar button.ql-active .ql-stroke,
    .p-editor .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .p-editor .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke {
        stroke: dt('editor.toolbar.item.active.color');
    }

    .p-editor .ql-snow.ql-toolbar button.ql-active .ql-fill,
    .p-editor .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .p-editor .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill {
        fill: dt('editor.toolbar.item.active.color');
    }

    .p-editor .ql-snow.ql-toolbar button.ql-active .ql-picker-label,
    .p-editor .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-picker-label,
    .p-editor .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-picker-label {
        color: dt('editor.toolbar.item.active.color');
    }
`;var Vh=["header"],Ph=[[["p-header"]]],Ah=["p-header"];function Rh(o,n){o&1&&j(0)}function qh(o,n){if(o&1&&(p(0,"div",2),Kt(1),g(2,Rh,1,0,"ng-container",3),u()),o&2){let e=l();b(e.cx("toolbar")),s("pBind",e.ptm("toolbar")),d(2),s("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function Lh(o,n){if(o&1&&(p(0,"div",2)(1,"span",4)(2,"select",5)(3,"option",6),O(4,"Heading"),u(),p(5,"option",7),O(6,"Subheading"),u(),p(7,"option",8),O(8,"Normal"),u()(),p(9,"select",9)(10,"option",8),O(11,"Sans Serif"),u(),p(12,"option",10),O(13,"Serif"),u(),p(14,"option",11),O(15,"Monospace"),u()()(),p(16,"span",4),I(17,"button",12)(18,"button",13)(19,"button",14),u(),p(20,"span",4),I(21,"select",15)(22,"select",16),u(),p(23,"span",4),I(24,"button",17)(25,"button",18),p(26,"select",19),I(27,"option",8),p(28,"option",20),O(29,"center"),u(),p(30,"option",21),O(31,"right"),u(),p(32,"option",22),O(33,"justify"),u()()(),p(34,"span",4),I(35,"button",23)(36,"button",24)(37,"button",25),u(),p(38,"span",4),I(39,"button",26),u()()),o&2){let e=l();b(e.cx("toolbar")),s("pBind",e.ptm("toolbar")),d(),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("header")),d(),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("select")),d(),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("bold")),d(),s("pBind",e.ptm("italic")),d(),s("pBind",e.ptm("underline")),d(),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("color")),d(),s("pBind",e.ptm("background")),d(),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("list")),d(),s("pBind",e.ptm("list")),d(),s("pBind",e.ptm("select")),d(),s("pBind",e.ptm("option")),d(),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("option")),d(2),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("link")),d(),s("pBind",e.ptm("image")),d(),s("pBind",e.ptm("codeBlock")),d(),s("pBind",e.ptm("formats")),d(),s("pBind",e.ptm("clean"))}}var Bh={root:({instance:o})=>["p-editor",{"p-invalid":o.invalid()}],toolbar:"p-editor-toolbar",content:"p-editor-content"},us=(()=>{class o extends Te{name="editor";style=ps;classes=Bh;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var ms=new ae("EDITOR_INSTANCE"),zh={provide:Se,useExisting:pe(()=>go),multi:!0},go=(()=>{class o extends ot{$pcEditor=_(ms,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}style;styleClass;placeholder;formats;modules;bounds;scrollingContainer;debug;get readonly(){return this._readonly}set readonly(e){this._readonly=e,this.quill&&(this._readonly?this.quill.disable():this.quill.enable())}onEditorInit=new M;onTextChange=new M;onSelectionChange=new M;onEditorChange=new M;onFocus=new M;onBlur=new M;toolbar;value;delayedCommand=null;_readonly=!1;quill;dynamicQuill;headerTemplate;templates;_headerTemplate;get isAttachedQuillEditorToDOM(){return this.quillElements?.editorElement?.isConnected}quillElements;focusListener=null;blurListener=null;_componentStyle=_(us);constructor(){super(),nn(()=>{this.initQuillElements(),this.initQuillEditor()})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break}})}writeControlValue(e){if(this.value=e,this.quill)if(e){let t=()=>{this.quill.setContents(this.quill.clipboard.convert(this.dynamicQuill.version.startsWith("2")?{html:this.value}:this.value))};this.isAttachedQuillEditorToDOM?t():this.delayedCommand=t}else{let t=()=>{this.quill.setText("")};this.isAttachedQuillEditorToDOM?t():this.delayedCommand=t}}getQuill(){return this.quill}initQuillEditor(){$a(this.platformId)||(this.dynamicQuill?this.createQuillEditor():import("./chunk-IXRW32WK.js").then(e=>{this.dynamicQuill=e.default,this.createQuillEditor()}).catch(e=>console.error(e.message)))}createQuillEditor(){this.initQuillElements();let{toolbarElement:e,editorElement:t}=this.quillElements,i={toolbar:e},r=this.modules?L(L({},i),this.modules):i;this.quill=new this.dynamicQuill(t,{modules:r,placeholder:this.placeholder,readOnly:this.readonly,theme:"snow",formats:this.formats,bounds:this.bounds,debug:this.debug,scrollingContainer:this.scrollingContainer});let a=this.dynamicQuill.version.startsWith("2");this.value&&this.quill.setContents(this.quill.clipboard.convert(a?{html:this.value}:this.value)),this.quill.on("text-change",(m,v,S)=>{if(S==="user"){let z=a?this.quill.getSemanticHTML():xt(t,".ql-editor")?.innerHTML,N=this.quill.getText().trim();z==="<p><br></p>"&&(z=null),this.onTextChange.emit({htmlValue:z,textValue:N,delta:m,source:S}),this.onModelChange(z),this.onModelTouched()}}),this.quill.on("selection-change",(m,v,S)=>{this.onSelectionChange.emit({range:m,oldRange:v,source:S})}),this.quill.on("editor-change",(m,...v)=>{this.onEditorChange.emit({eventName:m,args:v})});let c=this.quill.root;this.focusListener=()=>{this.onFocus.emit({source:"user"})},this.blurListener=()=>{this.onBlur.emit({source:"user"})},c.addEventListener("focus",this.focusListener),c.addEventListener("blur",this.blurListener),this.onEditorInit.emit({editor:this.quill})}onDestroy(){if(this.quill&&this.quill.root){let e=this.quill.root;this.focusListener&&(e.removeEventListener("focus",this.focusListener),this.focusListener=null),this.blurListener&&(e.removeEventListener("blur",this.blurListener),this.blurListener=null)}}initQuillElements(){this.quillElements||(this.quillElements={editorElement:xt(this.el.nativeElement,'div[data-pc-section="content"]'),toolbarElement:xt(this.el.nativeElement,'div[data-pc-section="toolbar"]')})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=B({type:o,selectors:[["p-editor"]],contentQueries:function(t,i,r){if(t&1&&(P(r,$n,5),P(r,Vh,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.toolbar=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.templates=a)}},hostVars:2,hostBindings:function(t,i){t&2&&b(i.cn(i.cx("root"),i.styleClass))},inputs:{style:"style",styleClass:"styleClass",placeholder:"placeholder",formats:"formats",modules:"modules",bounds:"bounds",scrollingContainer:"scrollingContainer",debug:"debug",readonly:"readonly"},outputs:{onEditorInit:"onInit",onTextChange:"onTextChange",onSelectionChange:"onSelectionChange",onEditorChange:"onEditorChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Z([zh,us,{provide:ms,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],ngContentSelectors:Ah,decls:3,vars:6,consts:[[3,"class","pBind",4,"ngIf"],[3,"ngStyle","pBind"],[3,"pBind"],[4,"ngTemplateOutlet"],[1,"ql-formats",3,"pBind"],[1,"ql-header",3,"pBind"],["value","1",3,"pBind"],["value","2",3,"pBind"],["selected","",3,"pBind"],[1,"ql-font",3,"pBind"],["value","serif",3,"pBind"],["value","monospace",3,"pBind"],["aria-label","Bold","type","button",1,"ql-bold",3,"pBind"],["aria-label","Italic","type","button",1,"ql-italic",3,"pBind"],["aria-label","Underline","type","button",1,"ql-underline",3,"pBind"],[1,"ql-color",3,"pBind"],[1,"ql-background",3,"pBind"],["value","ordered","aria-label","Ordered List","type","button",1,"ql-list",3,"pBind"],["value","bullet","aria-label","Unordered List","type","button",1,"ql-list",3,"pBind"],[1,"ql-align",3,"pBind"],["value","center",3,"pBind"],["value","right",3,"pBind"],["value","justify",3,"pBind"],["aria-label","Insert Link","type","button",1,"ql-link",3,"pBind"],["aria-label","Insert Image","type","button",1,"ql-image",3,"pBind"],["aria-label","Insert Code Block","type","button",1,"ql-code-block",3,"pBind"],["aria-label","Remove Styles","type","button",1,"ql-clean",3,"pBind"]],template:function(t,i){t&1&&(hi(Ph),g(0,qh,3,4,"div",0)(1,Lh,40,33,"div",0),I(2,"div",1)),t&2&&(s("ngIf",i.toolbar||i.headerTemplate||i._headerTemplate),d(),s("ngIf",!i.toolbar&&!i.headerTemplate&&!i._headerTemplate),d(),b(i.cx("content")),s("ngStyle",i.style)("pBind",i.ptm("content")))},dependencies:[K,Ie,we,Oe,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),_o=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[go,G,G]})}return o})();var hs=`
    .p-password {
        display: inline-flex;
        position: relative;
    }

    .p-password .p-password-overlay {
        min-width: 100%;
    }

    .p-password-meter {
        height: dt('password.meter.height');
        background: dt('password.meter.background');
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-label {
        height: 100%;
        width: 0;
        transition: width 1s ease-in-out;
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-weak {
        background: dt('password.strength.weak.background');
    }

    .p-password-meter-medium {
        background: dt('password.strength.medium.background');
    }

    .p-password-meter-strong {
        background: dt('password.strength.strong.background');
    }

    .p-password-fluid {
        display: flex;
    }

    .p-password-fluid .p-password-input {
        width: 100%;
    }

    .p-password-input::-ms-reveal,
    .p-password-input::-ms-clear {
        display: none;
    }

    .p-password-overlay {
        padding: dt('password.overlay.padding');
        background: dt('password.overlay.background');
        color: dt('password.overlay.color');
        border: 1px solid dt('password.overlay.border.color');
        box-shadow: dt('password.overlay.shadow');
        border-radius: dt('password.overlay.border.radius');
    }

    .p-password-content {
        display: flex;
        flex-direction: column;
        gap: dt('password.content.gap');
    }

    .p-password-toggle-mask-icon {
        inset-inline-end: dt('form.field.padding.x');
        color: dt('password.icon.color');
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * calc(dt('icon.size') / 2));
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-password-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        inset-inline-end: dt('form.field.padding.x');
        color: dt('form.field.icon.color');
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-clear-icon {
        inset-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-clear-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-clear-icon):has(.p-password-toggle-mask-icon)  .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 3) + calc(dt('icon.size') * 2));
    }

`;var $h=["content"],Gh=["footer"],Uh=["header"],jh=["clearicon"],Kh=["hideicon"],Qh=["showicon"],Wh=["overlay"],Zh=["input"],_s=o=>({class:o}),Yh=o=>({width:o});function Xh(o,n){if(o&1){let e=k();ee(),p(0,"svg",10),y("click",function(){h(e);let i=l(2);return f(i.clear())}),u()}if(o&2){let e=l(2);b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon"))}}function Jh(o,n){}function ef(o,n){o&1&&g(0,Jh,0,0,"ng-template")}function tf(o,n){if(o&1){let e=k();Y(0),g(1,Xh,1,3,"svg",7),p(2,"span",8),y("click",function(){h(e);let i=l();return f(i.clear())}),g(3,ef,1,0,null,9),u(),X()}if(o&2){let e=l();d(),s("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),d(),b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon")),d(),s("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function nf(o,n){if(o&1){let e=k();ee(),p(0,"svg",13),y("click",function(){h(e);let i=l(3);return f(i.onMaskToggle())}),u()}if(o&2){let e=l(3);b(e.cx("maskIcon")),s("pBind",e.ptm("maskIcon"))}}function of(o,n){}function rf(o,n){o&1&&g(0,of,0,0,"ng-template")}function af(o,n){if(o&1){let e=k();p(0,"span",8),y("click",function(){h(e);let i=l(3);return f(i.onMaskToggle())}),g(1,rf,1,0,null,14),u()}if(o&2){let e=l(3);s("pBind",e.ptm("maskIcon")),d(),s("ngTemplateOutlet",e.hideIconTemplate||e._hideIconTemplate)("ngTemplateOutletContext",ce(3,_s,e.cx("maskIcon")))}}function lf(o,n){if(o&1&&(Y(0),g(1,nf,1,3,"svg",11)(2,af,2,5,"span",12),X()),o&2){let e=l(2);d(),s("ngIf",!e.hideIconTemplate&&!e._hideIconTemplate),d(),s("ngIf",e.hideIconTemplate||e._hideIconTemplate)}}function sf(o,n){if(o&1){let e=k();ee(),p(0,"svg",16),y("click",function(){h(e);let i=l(3);return f(i.onMaskToggle())}),u()}if(o&2){let e=l(3);b(e.cx("unmaskIcon")),s("pBind",e.ptm("unmaskIcon"))}}function df(o,n){}function cf(o,n){o&1&&g(0,df,0,0,"ng-template")}function pf(o,n){if(o&1){let e=k();p(0,"span",8),y("click",function(){h(e);let i=l(3);return f(i.onMaskToggle())}),g(1,cf,1,0,null,14),u()}if(o&2){let e=l(3);s("pBind",e.ptm("unmaskIcon")),d(),s("ngTemplateOutlet",e.showIconTemplate||e._showIconTemplate)("ngTemplateOutletContext",ce(3,_s,e.cx("unmaskIcon")))}}function uf(o,n){if(o&1&&(Y(0),g(1,sf,1,3,"svg",15)(2,pf,2,5,"span",12),X()),o&2){let e=l(2);d(),s("ngIf",!e.showIconTemplate&&!e._showIconTemplate),d(),s("ngIf",e.showIconTemplate||e._showIconTemplate)}}function mf(o,n){if(o&1&&(Y(0),g(1,lf,3,2,"ng-container",5)(2,uf,3,2,"ng-container",5),X()),o&2){let e=l();d(),s("ngIf",e.unmasked),d(),s("ngIf",!e.unmasked)}}function hf(o,n){o&1&&j(0)}function ff(o,n){o&1&&j(0)}function gf(o,n){if(o&1&&(Y(0),g(1,ff,1,0,"ng-container",9),X()),o&2){let e=l(2);d(),s("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function _f(o,n){if(o&1&&(p(0,"div",18)(1,"div",18),I(2,"div",19),u(),p(3,"div",18),O(4),u()()),o&2){let e=l(2);b(e.cx("content")),s("pBind",e.ptm("content")),d(),b(e.cx("meter")),s("pBind",e.ptm("meter")),d(),b(e.cx("meterLabel")),s("ngStyle",ce(15,Yh,e.meter?e.meter.width:""))("pBind",e.ptm("meterLabel")),x("data-p",e.meterDataP),d(),b(e.cx("meterText")),s("pBind",e.ptm("meterText")),d(),te(e.infoText)}}function vf(o,n){o&1&&j(0)}function bf(o,n){if(o&1){let e=k();p(0,"div",8),y("click",function(i){h(e);let r=l();return f(r.onOverlayClick(i))}),g(1,hf,1,0,"ng-container",9)(2,gf,2,1,"ng-container",17)(3,_f,5,17,"ng-template",null,3,ie)(5,vf,1,0,"ng-container",9),u()}if(o&2){let e=Pe(4),t=l();be(t.sx("overlay")),b(t.cx("overlay")),s("pBind",t.ptm("overlay")),x("data-p",t.overlayDataP),d(),s("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),d(),s("ngIf",t.contentTemplate||t._contentTemplate)("ngIfElse",e),d(3),s("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var yf=`
${hs}

/* For PrimeNG */
.p-password-overlay {
    min-width: 100%;
}

p-password.ng-invalid.ng-dirty .p-inputtext {
    border-color: dt('inputtext.invalid.border.color');
}

p-password.ng-invalid.ng-dirty .p-inputtext:enabled:focus {
    border-color: dt('inputtext.focus.border.color');
}

p-password.ng-invalid.ng-dirty .p-inputtext::placeholder {
    color: dt('inputtext.invalid.placeholder.color');
}

.p-password-fluid-directive {
    width: 100%;
}

/* Animations */
.p-password-enter {
    animation: p-animate-password-enter 300ms cubic-bezier(.19,1,.22,1);
}

.p-password-leave {
    animation: p-animate-password-leave 300ms cubic-bezier(.19,1,.22,1);
}

@keyframes p-animate-password-enter {
    from {
        opacity: 0;
        transform: scale(0.93);
    }
}

@keyframes p-animate-password-leave {
    to {
        opacity: 0;
        transform: scale(0.93);
    }
}
`,Cf={root:({instance:o})=>({position:o.$appendTo()==="self"?"relative":void 0}),overlay:{position:"absolute"}},xf={root:({instance:o})=>["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":o.$filled(),"p-variant-filled":o.$variant()==="filled","p-inputwrapper-focus":o.focused,"p-password-fluid":o.hasFluid}],rootDirective:({instance:o})=>["p-password p-inputtext p-component p-inputwrapper",{"p-inputwrapper-filled":o.$filled(),"p-variant-filled":o.$variant()==="filled","p-password-fluid-directive":o.hasFluid}],pcInputText:"p-password-input",maskIcon:"p-password-toggle-mask-icon p-password-mask-icon",unmaskIcon:"p-password-toggle-mask-icon p-password-unmask-icon",overlay:"p-password-overlay p-component",content:"p-password-content",meter:"p-password-meter",meterLabel:({instance:o})=>`p-password-meter-label ${o.meter?"p-password-meter-"+o.meter.strength:""}`,meterText:"p-password-meter-text",clearIcon:"p-password-clear-icon"},fs=(()=>{class o extends Te{name="password";style=yf;classes=xf;inlineStyles=Cf;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var gs=new ae("PASSWORD_INSTANCE");var wf={provide:Se,useExisting:pe(()=>vo),multi:!0},vo=(()=>{class o extends Zn{bindDirectiveInstance=_(A,{self:!0});$pcPassword=_(gs,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}ariaLabel;ariaLabelledBy;label;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;toggleMask;inputStyleClass;styleClass;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;tabindex;appendTo=R("self");motionOptions=R(void 0);overlayOptions;onFocus=new M;onBlur=new M;onClear=new M;overlayViewChild;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;$appendTo=oe(()=>this.appendTo()||this.config.overlayAppendTo());_contentTemplate;_footerTemplate;_headerTemplate;_clearIconTemplate;_hideIconTemplate;_showIconTemplate;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;value=null;translationSubscription;_componentStyle=_(fs);overlayService=_(ki);onInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"hideicon":this._hideIconTemplate=e.template;break;case"showicon":this._showIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onInput(e){this.value=e.target.value,this.onModelChange(this.value)}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(e)}onKeyUp(e){if(this.feedback){let t=e.target.value;if(this.updateUI(t),e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(e){let t=null,i=null;switch(this.testStrength(e)){case 1:t=this.weakText(),i={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText(),i={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText(),i={strength:"strong",width:"100%"};break;default:t=this.promptText(),i=null;break}this.meter=i,this.infoText=t}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let t=0;return this.strongCheckRegExp?.test(e)?t=3:this.mediumCheckRegExp?.test(e)?t=2:e.length&&(t=1),t}promptText(){return this.promptLabel||this.getTranslation(ze.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ze.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ze.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ze.STRONG)}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}writeControlValue(e,t){e===void 0?this.value=null:this.value=e,this.feedback&&this.updateUI(this.value||""),t(this.value),this.cd.markForCheck()}onDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}get containerDataP(){return this.cn({fluid:this.hasFluid})}get meterDataP(){return this.cn({[this.meter?.strength]:this.meter?.strength})}get overlayDataP(){return this.cn({["overlay-"+this.$appendTo()]:"overlay-"+this.$appendTo()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-password"]],contentQueries:function(t,i,r){if(t&1&&(P(r,$h,4),P(r,Gh,4),P(r,Uh,4),P(r,jh,4),P(r,Kh,4),P(r,Qh,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.contentTemplate=a.first),w(a=T())&&(i.footerTemplate=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.clearIconTemplate=a.first),w(a=T())&&(i.hideIconTemplate=a.first),w(a=T())&&(i.showIconTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(Wh,5),H(Zh,5)),t&2){let r;w(r=T())&&(i.overlayViewChild=r.first),w(r=T())&&(i.input=r.first)}},hostVars:5,hostBindings:function(t,i){t&2&&(x("data-p",i.containerDataP),be(i.sx("root")),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[2,"maxLength","maxLength",re],strongLabel:"strongLabel",inputId:"inputId",feedback:[2,"feedback","feedback",E],toggleMask:[2,"toggleMask","toggleMask",E],inputStyleClass:"inputStyleClass",styleClass:"styleClass",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[2,"showClear","showClear",E],autofocus:[2,"autofocus","autofocus",E],tabindex:[2,"tabindex","tabindex",re],appendTo:[1,"appendTo"],motionOptions:[1,"motionOptions"],overlayOptions:"overlayOptions"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[Z([wf,fs,{provide:gs,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:8,vars:33,consts:[["input",""],["overlay",""],["content",""],["defaultContent",""],["pInputText","",3,"input","focus","blur","keyup","pSize","ngStyle","value","variant","invalid","pAutoFocus","pt","unstyled"],[4,"ngIf"],[3,"visibleChange","hostAttrSelector","visible","options","target","appendTo","unstyled","pt","motionOptions"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"click","pBind"],[4,"ngTemplateOutlet"],["data-p-icon","times",3,"click","pBind"],["data-p-icon","eyeslash",3,"class","pBind","click",4,"ngIf"],[3,"pBind","click",4,"ngIf"],["data-p-icon","eyeslash",3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","eye",3,"class","pBind","click",4,"ngIf"],["data-p-icon","eye",3,"click","pBind"],[4,"ngIf","ngIfElse"],[3,"pBind"],[3,"ngStyle","pBind"]],template:function(t,i){if(t&1){let r=k();p(0,"input",4,0),y("input",function(c){return h(r),f(i.onInput(c))})("focus",function(c){return h(r),f(i.onInputFocus(c))})("blur",function(c){return h(r),f(i.onInputBlur(c))})("keyup",function(c){return h(r),f(i.onKeyUp(c))}),u(),g(2,tf,4,5,"ng-container",5)(3,mf,3,2,"ng-container",5),p(4,"p-overlay",6,1),de("visibleChange",function(c){return h(r),le(i.overlayVisible,c)||(i.overlayVisible=c),f(c)}),g(6,bf,6,10,"ng-template",null,2,ie),u()}t&2&&(b(i.cn(i.cx("pcInputText"),i.inputStyleClass)),s("pSize",i.size())("ngStyle",i.inputStyle)("value",i.value)("variant",i.$variant())("invalid",i.invalid())("pAutoFocus",i.autofocus)("pt",i.ptm("pcInputText"))("unstyled",i.unstyled()),x("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("tabindex",i.tabindex)("type",i.unmasked?"text":"password")("placeholder",i.placeholder)("autocomplete",i.autocomplete)("name",i.name())("maxlength",i.maxlength()||i.maxLength)("minlength",i.minlength())("required",i.required()?"":void 0)("disabled",i.$disabled()?"":void 0),d(2),s("ngIf",i.showClear&&i.value!=null),d(),s("ngIf",i.toggleMask),d(),s("hostAttrSelector",i.$attrSelector),se("visible",i.overlayVisible),s("options",i.overlayOptions)("target","@parent")("appendTo",i.$appendTo())("unstyled",i.unstyled())("pt",i.ptm("pcOverlay"))("motionOptions",i.motionOptions()))},dependencies:[K,Ie,we,Oe,it,Ke,Gt,Wl,Ql,We,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),bo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[vo,G,ke,G,ke]})}return o})();var vs=`
    .p-slider {
        display: block;
        position: relative;
        background: dt('slider.track.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider-handle {
        cursor: grab;
        touch-action: none;
        user-select: none;
        display: flex;
        justify-content: center;
        align-items: center;
        height: dt('slider.handle.height');
        width: dt('slider.handle.width');
        background: dt('slider.handle.background');
        border-radius: dt('slider.handle.border.radius');
        transition:
            background dt('slider.transition.duration'),
            color dt('slider.transition.duration'),
            border-color dt('slider.transition.duration'),
            box-shadow dt('slider.transition.duration'),
            outline-color dt('slider.transition.duration');
        outline-color: transparent;
    }

    .p-slider-handle::before {
        content: '';
        width: dt('slider.handle.content.width');
        height: dt('slider.handle.content.height');
        display: block;
        background: dt('slider.handle.content.background');
        border-radius: dt('slider.handle.content.border.radius');
        box-shadow: dt('slider.handle.content.shadow');
        transition: background dt('slider.transition.duration');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover {
        background: dt('slider.handle.hover.background');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover::before {
        background: dt('slider.handle.content.hover.background');
    }

    .p-slider-handle:focus-visible {
        box-shadow: dt('slider.handle.focus.ring.shadow');
        outline: dt('slider.handle.focus.ring.width') dt('slider.handle.focus.ring.style') dt('slider.handle.focus.ring.color');
        outline-offset: dt('slider.handle.focus.ring.offset');
    }

    .p-slider-range {
        display: block;
        background: dt('slider.range.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider.p-slider-horizontal {
        height: dt('slider.track.size');
    }

    .p-slider-horizontal .p-slider-range {
        inset-block-start: 0;
        inset-inline-start: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        inset-block-start: 50%;
        margin-block-start: calc(-1 * calc(dt('slider.handle.height') / 2));
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
    }

    .p-slider-vertical {
        min-height: 100px;
        width: dt('slider.track.size');
    }

    .p-slider-vertical .p-slider-handle {
        inset-inline-start: 50%;
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
        margin-block-end: calc(-1 * calc(dt('slider.handle.height') / 2));
    }

    .p-slider-vertical .p-slider-range {
        inset-block-end: 0;
        inset-inline-start: 0;
        width: 100%;
    }
`;var Sf=["sliderHandle"],If=["sliderHandleStart"],kf=["sliderHandleEnd"],Ef=(o,n)=>({"inset-inline-start":o,width:n}),Df=(o,n)=>({bottom:o,height:n}),Ff=o=>({height:o}),Mf=o=>({width:o}),Er=(o,n)=>({"inset-inline-start":o,bottom:n});function Of(o,n){if(o&1&&I(0,"span",8),o&2){let e=l();be(e.sx("range")),b(e.cx("range")),s("ngStyle",fe(8,Ef,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))("pBind",e.ptm("range")),x("data-pc-section","range")("data-p",e.dataP)}}function Nf(o,n){if(o&1&&I(0,"span",8),o&2){let e=l();be(e.sx("range")),b(e.cx("range")),s("ngStyle",fe(8,Df,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))("pBind",e.ptm("range")),x("data-pc-section","range")("data-p",e.dataP)}}function Vf(o,n){if(o&1&&I(0,"span",8),o&2){let e=l();be(e.sx("range")),b(e.cx("range")),s("ngStyle",ce(7,Ff,e.handleValue+"%"))("pBind",e.ptm("range")),x("data-pc-section","range")}}function Pf(o,n){if(o&1&&I(0,"span",8),o&2){let e=l();be(e.sx("range")),b(e.cx("range")),s("ngStyle",ce(7,Mf,e.handleValue+"%"))("pBind",e.ptm("range")),x("data-pc-section","range")}}function Af(o,n){if(o&1){let e=k();p(0,"span",9,0),y("touchstart",function(i){h(e);let r=l();return f(r.onDragStart(i))})("touchmove",function(i){h(e);let r=l();return f(r.onDrag(i))})("touchend",function(i){h(e);let r=l();return f(r.onDragEnd(i))})("mousedown",function(i){h(e);let r=l();return f(r.onMouseDown(i))})("keydown",function(i){h(e);let r=l();return f(r.onKeyDown(i))}),u()}if(o&2){let e=l();be(e.sx("handle")),b(e.cx("handle")),Je("transition",e.dragging?"none":null),s("ngStyle",fe(18,Er,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("pAutoFocus",e.autofocus)("pBind",e.ptm("handle")),x("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")("data-p",e.dataP)}}function Rf(o,n){if(o&1){let e=k();p(0,"span",10,1),y("keydown",function(i){h(e);let r=l();return f(r.onKeyDown(i,0))})("mousedown",function(i){h(e);let r=l();return f(r.onMouseDown(i,0))})("touchstart",function(i){h(e);let r=l();return f(r.onDragStart(i,0))})("touchmove",function(i){h(e);let r=l();return f(r.onDrag(i))})("touchend",function(i){h(e);let r=l();return f(r.onDragEnd(i))}),u()}if(o&2){let e=l();be(e.sx("handle")),b(e.cn(e.cx("handle"),e.handleIndex==0&&"p-slider-handle-active")),Je("transition",e.dragging?"none":null),s("ngStyle",fe(18,Er,e.rangeStartLeft,e.rangeStartBottom))("pAutoFocus",e.autofocus)("pBind",e.ptm("startHandler")),x("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")("data-p",e.dataP)}}function qf(o,n){if(o&1){let e=k();p(0,"span",11,2),y("keydown",function(i){h(e);let r=l();return f(r.onKeyDown(i,1))})("mousedown",function(i){h(e);let r=l();return f(r.onMouseDown(i,1))})("touchstart",function(i){h(e);let r=l();return f(r.onDragStart(i,1))})("touchmove",function(i){h(e);let r=l();return f(r.onDrag(i))})("touchend",function(i){h(e);let r=l();return f(r.onDragEnd(i))}),u()}if(o&2){let e=l();be(e.sx("handle")),b(e.cn(e.cx("handle"),e.handleIndex==1&&"p-slider-handle-active")),Je("transition",e.dragging?"none":null),s("ngStyle",fe(17,Er,e.rangeEndLeft,e.rangeEndBottom))("pBind",e.ptm("endHandler")),x("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")("data-p",e.dataP)}}var Lf={handle:{position:"absolute"},range:{position:"absolute"}},Bf={root:({instance:o})=>["p-slider p-component",{"p-disabled":o.$disabled(),"p-invalid":o.invalid(),"p-slider-horizontal":o.orientation==="horizontal","p-slider-vertical":o.orientation==="vertical","p-slider-animate":o.animate}],range:"p-slider-range",handle:"p-slider-handle"},bs=(()=>{class o extends Te{name="slider";style=vs;classes=Bf;inlineStyles=Lf;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var ys=new ae("SLIDER_INSTANCE"),zf={provide:Se,useExisting:pe(()=>yo),multi:!0},yo=(()=>{class o extends ot{$pcSlider=_(ys,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}animate;min=0;max=100;orientation="horizontal";step;range;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new M;onSlideEnd=new M;sliderHandle;sliderHandleStart;sliderHandleEnd;_componentStyle=_(bs);value;values;handleValue;handleValues=[];diff;offset;bottom;dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;ngZone=_(Xe);onHostClick(e){this.onBarClick(e)}onMouseDown(e,t){this.$disabled()||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&Tt(this.el.nativeElement,"p-slider-animate"))}onDragStart(e,t){if(!this.$disabled()){this.el.nativeElement.setAttribute("data-p-sliding",!0);var i=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,this.orientation==="horizontal"?(this.startx=parseInt(i.clientX,10),this.barWidth=this.el.nativeElement.offsetWidth):(this.starty=parseInt(i.clientY,10),this.barHeight=this.el.nativeElement.offsetHeight),this.animate&&Tt(this.el.nativeElement,"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.$disabled()){var t=e.changedTouches[0],i=0;this.orientation==="horizontal"?i=Math.floor((parseInt(t.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:i=Math.floor((this.starty-parseInt(t.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,i),e.preventDefault()}}onDragEnd(e){this.$disabled()||(this.dragging=!1,this.el.nativeElement.setAttribute("data-p-sliding",!1),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&wt(this.el.nativeElement,"p-slider-animate"),e.preventDefault())}onBarClick(e){this.$disabled()||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,t){switch(this.handleIndex=t,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,t),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,t),e.preventDefault();break;case"PageDown":this.decrementValue(e,t,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,t,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;default:break}}decrementValue(e,t,i=!1){let r;this.range?this.step?r=(this.values?.[t]??0)-this.step:r=(this.values?.[t]??0)-1:this.step?r=this.value-this.step:!this.step&&i?r=this.value-10:r=this.value-1,this.updateValue(r,e),e.preventDefault()}incrementValue(e,t,i=!1){let r;this.range?this.step?r=(this.values?.[t]??0)+this.step:r=(this.values?.[t]??0)+1:this.step?r=this.value+this.step:!this.step&&i?r=this.value+10:r=this.value+1,this.updateValue(r,e),e.preventDefault()}handleChange(e){let t=this.calculateHandleValue(e);this.setValueFromHandle(e,t)}bindDragListeners(){Ge(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",t=>{this.dragging&&(this.el.nativeElement.setAttribute("data-p-sliding",!0),this.ngZone.run(()=>{this.handleChange(t)}))})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",t=>{this.dragging&&(this.dragging=!1,this.el.nativeElement.setAttribute("data-p-sliding",!1),this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:t,values:this.values}):this.onSlideEnd.emit({originalEvent:t,value:this.value}),this.animate&&wt(this.el.nativeElement,"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,t){let i=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(i,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(i,e)):this.step?this.handleStepChange(i,this.value):(this.handleValue=t,this.updateValue(i,e)),this.cd.markForCheck()}handleStepChange(e,t){let i=e-t,r=t,a=this.step;i<0?r=t+Math.ceil(e/a-t/a)*a:i>0&&(r=t+Math.floor(e/a-t/a)*a),this.updateValue(r),this.updateHandleValue()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.getBoundingClientRect();this.initX=e.left+Qa(),this.initY=e.top+Wa(),this.barWidth=this.el.nativeElement.offsetWidth,this.barHeight=this.el.nativeElement.offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?Za(this.el.nativeElement)?(this.initX+this.barWidth-e.pageX)*100/this.barWidth:(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,t){if(this.range){let i=e;this.handleIndex==0?(i<this.min?(i=this.min,this.handleValues[0]=0):i>this.values[1]&&i>this.max&&(i=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(i>this.max?(i=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):i<this.min?(i=this.min,this.handleValues[1]=0):i<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(i);let r=[this.minVal,this.maxVal];this.onModelChange(r),this.onChange.emit({event:t,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let t=this.getDecimalsCount(this.step);return t>0?+parseFloat(e.toString()).toFixed(t):Math.floor(e)}onDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}writeControlValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}get dataP(){return this.cn({[this.orientation]:this.orientation})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-slider"]],viewQuery:function(t,i){if(t&1&&(H(Sf,5),H(If,5),H(kf,5)),t&2){let r;w(r=T())&&(i.sliderHandle=r.first),w(r=T())&&(i.sliderHandleStart=r.first),w(r=T())&&(i.sliderHandleEnd=r.first)}},hostVars:6,hostBindings:function(t,i){t&1&&y("click",function(a){return i.onHostClick(a)}),t&2&&(x("data-pc-name","slider")("data-pc-section","root")("data-p",i.dataP)("data-p-sliding",!1),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{animate:[2,"animate","animate",E],min:[2,"min","min",re],max:[2,"max","max",re],orientation:"orientation",step:[2,"step","step",re],range:[2,"range","range",E],styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",re],autofocus:[2,"autofocus","autofocus",E]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Z([zf,bs,{provide:ys,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:7,vars:7,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"class","ngStyle","style","pBind",4,"ngIf"],[3,"class","style","ngStyle","pBind",4,"ngIf"],["role","slider",3,"class","transition","ngStyle","style","pAutoFocus","pBind","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["role","slider",3,"transition","class","style","ngStyle","pAutoFocus","pBind","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","slider",3,"transition","class","ngStyle","style","pBind","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[3,"ngStyle","pBind"],["role","slider",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","pAutoFocus","pBind"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","pAutoFocus","pBind"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","pBind"]],template:function(t,i){t&1&&g(0,Of,1,11,"span",3)(1,Nf,1,11,"span",3)(2,Vf,1,9,"span",4)(3,Pf,1,9,"span",4)(4,Af,2,21,"span",5)(5,Rf,2,21,"span",6)(6,qf,2,20,"span",7),t&2&&(s("ngIf",i.range&&i.orientation=="horizontal"),d(),s("ngIf",i.range&&i.orientation=="vertical"),d(),s("ngIf",!i.range&&i.orientation=="vertical"),d(),s("ngIf",!i.range&&i.orientation=="horizontal"),d(),s("ngIf",!i.range),d(),s("ngIf",i.range),d(),s("ngIf",i.range))},dependencies:[K,Ie,Oe,Ke,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),Co=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[yo,G,G]})}return o})();var Cs=`
    .p-knob-range {
        fill: none;
        transition: stroke 0.1s ease-in;
    }

    .p-knob-value {
        animation-name: p-knob-dash-frame;
        animation-fill-mode: forwards;
        fill: none;
    }

    .p-knob-text {
        font-size: 1.3rem;
        text-align: center;
    }

    .p-knob svg {
        border-radius: 50%;
        outline-color: transparent;
        transition:
            background dt('knob.transition.duration'),
            color dt('knob.transition.duration'),
            outline-color dt('knob.transition.duration'),
            box-shadow dt('knob.transition.duration');
    }

    .p-knob svg:focus-visible {
        box-shadow: dt('knob.focus.ring.shadow');
        outline: dt('knob.focus.ring.width') dt('knob.focus.ring.style') dt('knob.focus.ring.color');
        outline-offset: dt('knob.focus.ring.offset');
    }

    @keyframes p-knob-dash-frame {
        100% {
            stroke-dashoffset: 0;
        }
    }
`;function $f(o,n){if(o&1&&(ee(),p(0,"text",3),O(1),u()),o&2){let e=l();b(e.cx("text")),s("pBind",e.ptm("text")),x("x",50)("y",57)("fill",e.textColor)("name",e.name()),d(),ye(" ",e.valueToDisplay()," ")}}var Gf={root:({instance:o})=>["p-knob p-component",{"p-disabled":o.$disabled()}],range:"p-knob-range",value:"p-knob-value",text:"p-knob-text"},xs=(()=>{class o extends Te{name="knob";style=Cs;classes=Gf;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var ws=new ae("KNOB_INSTANCE"),Uf={provide:Se,useExisting:pe(()=>xo),multi:!0},xo=(()=>{class o extends ot{$pcKnob=_(ws,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;ariaLabel;ariaLabelledBy;tabindex=0;valueColor=Gn("knob.value.background").variable;rangeColor=Gn("knob.range.background").variable;textColor=Gn("knob.text.color").variable;valueTemplate="{value}";size=100;min=0;max=100;step=1;strokeWidth=14;showValue=!0;readonly=!1;onChange=new M;radius=40;midX=50;midY=50;minRadians=4*Math.PI/3;maxRadians=-Math.PI/3;value=U(0);windowMouseMoveListener;windowMouseUpListener;windowTouchMoveListener;windowTouchEndListener;_componentStyle=_(xs);mapRange(e,t,i,r,a){return(e-t)*(a-r)/(i-t)+r}onClick(e){!this.$disabled()&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)}updateValue(e,t){let i=e-this.size/2,r=this.size/2-t,a=Math.atan2(r,i),c=-Math.PI/2-Math.PI/6;this.updateModel(a,c)}updateModel(e,t){let i;if(e>this.maxRadians)i=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<t)i=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let r=Math.round((i-this.min)/this.step)*this.step+this.min;this.value.set(r),this.writeModelValue(this.value()),this.onModelChange(this.value()),this.onChange.emit(this.value())}onMouseDown(e){if(!this.$disabled()&&!this.readonly){let t=this.document.defaultView||"window";this.windowMouseMoveListener=this.renderer.listen(t,"mousemove",this.onMouseMove.bind(this)),this.windowMouseUpListener=this.renderer.listen(t,"mouseup",this.onMouseUp.bind(this)),e.preventDefault()}}onMouseUp(e){!this.$disabled()&&!this.readonly&&(this.windowMouseMoveListener&&(this.windowMouseMoveListener(),this.windowMouseUpListener=null),this.windowMouseUpListener&&(this.windowMouseUpListener(),this.windowMouseMoveListener=null),e.preventDefault())}onTouchStart(e){if(!this.$disabled()&&!this.readonly){let t=this.document.defaultView||"window";this.windowTouchMoveListener=this.renderer.listen(t,"touchmove",this.onTouchMove.bind(this)),this.windowTouchEndListener=this.renderer.listen(t,"touchend",this.onTouchEnd.bind(this)),e.preventDefault()}}onTouchEnd(e){!this.$disabled()&&!this.readonly&&(this.windowTouchMoveListener&&this.windowTouchMoveListener(),this.windowTouchEndListener&&this.windowTouchEndListener(),this.windowTouchMoveListener=null,this.windowTouchEndListener=null,e.preventDefault())}onMouseMove(e){!this.$disabled()&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())}onTouchMove(e){if(!this.$disabled()&&!this.readonly&&e instanceof TouchEvent&&e.touches.length===1){let t=this.el.nativeElement.children[0].getBoundingClientRect(),i=e.targetTouches.item(0);if(i){let r=i.clientX-t.left,a=i.clientY-t.top;this.updateValue(r,a)}}}updateModelValue(e){e>this.max?this.value.set(this.max):e<this.min?this.value.set(this.min):this.value.set(e),this.writeModelValue(this.value()),this.onModelChange(this.value()),this.onChange.emit(this.value())}onKeyDown(e){if(!this.$disabled()&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this._value+1);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this._value-1);break}case"Home":{e.preventDefault(),this.updateModelValue(this.min);break}case"End":{e.preventDefault(),this.updateModelValue(this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this._value+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this._value-10);break}}}rangePath(){return`M ${this.minX()} ${this.minY()} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX()} ${this.maxY()}`}valuePath(){return`M ${this.zeroX()} ${this.zeroY()} A ${this.radius} ${this.radius} 0 ${this.largeArc()} ${this.sweep()} ${this.valueX()} ${this.valueY()}`}zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)}valueRadians(){return this.mapRange(this._value,this.min,this.max,this.minRadians,this.maxRadians)}minX(){return this.midX+Math.cos(this.minRadians)*this.radius}minY(){return this.midY-Math.sin(this.minRadians)*this.radius}maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius}maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius}zeroX(){return this.midX+Math.cos(this.zeroRadians())*this.radius}zeroY(){return this.midY-Math.sin(this.zeroRadians())*this.radius}valueX(){return this.midX+Math.cos(this.valueRadians())*this.radius}valueY(){return this.midY-Math.sin(this.valueRadians())*this.radius}largeArc(){return Math.abs(this.zeroRadians()-this.valueRadians())<Math.PI?0:1}sweep(){return this.valueRadians()>this.zeroRadians()?0:1}valueToDisplay(){return this.valueTemplate.replace("{value}",this._value.toString())}get _value(){return this.value()!=null?this.value():this.min}writeControlValue(e,t){this.value.set(e),t(this.value()),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-knob"]],hostVars:2,hostBindings:function(t,i){t&2&&b(i.cn(i.cx("root"),i.styleClass))},inputs:{styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",re],valueColor:"valueColor",rangeColor:"rangeColor",textColor:"textColor",valueTemplate:"valueTemplate",size:[2,"size","size",re],min:[2,"min","min",re],max:[2,"max","max",re],step:[2,"step","step",re],strokeWidth:[2,"strokeWidth","strokeWidth",re],showValue:[2,"showValue","showValue",E],readonly:[2,"readonly","readonly",E]},outputs:{onChange:"onChange"},features:[Z([Uf,xs,{provide:ws,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:4,vars:25,consts:[["viewBox","0 0 100 100","role","slider",3,"click","keydown","mousedown","mouseup","touchstart","touchend","pBind"],[3,"pBind"],["text-anchor","middle",3,"class","pBind",4,"ngIf"],["text-anchor","middle",3,"pBind"]],template:function(t,i){t&1&&(ee(),p(0,"svg",0),y("click",function(a){return i.onClick(a)})("keydown",function(a){return i.onKeyDown(a)})("mousedown",function(a){return i.onMouseDown(a)})("mouseup",function(a){return i.onMouseUp(a)})("touchstart",function(a){return i.onTouchStart(a)})("touchend",function(a){return i.onTouchEnd(a)}),I(1,"path",1)(2,"path",1),g(3,$f,2,8,"text",2),u()),t&2&&(Je("width",i.size+"px")("height",i.size+"px"),s("pBind",i.ptm("svg")),x("aria-valuemin",i.min)("aria-valuemax",i.max)("required",i.required()?"":void 0)("aria-valuenow",i._value)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.readonly||i.$disabled()?-1:i.tabindex),d(),b(i.cx("range")),s("pBind",i.ptm("range")),x("d",i.rangePath())("stroke-width",i.strokeWidth)("stroke",i.rangeColor),d(),b(i.cx("value")),s("pBind",i.ptm("value")),x("d",i.valuePath())("stroke-width",i.strokeWidth)("stroke",i.valueColor),d(),s("ngIf",i.showValue))},dependencies:[K,Ie,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),wo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[xo,G,G]})}return o})();var To=class o{formStateSubject=new Mn(null);formState$=this.formStateSubject.asObservable();STORAGE_KEY="dynamicFormState";fb=_(Nl);localStorageService=_(Un);createFormGroup(n){let e={};return n.forEach(t=>{if(t.type==="array")e[t.name]=this.fb.array([]);else if(t.type==="group")e[t.name]=this.createFormGroup(t.fields??[]);else{let i=this.getInitialValue(t);e[t.key]=this.fb.control(i,this.bindValidations(t.validations??[]))}}),this.fb.group(e)}bindValidations(n){return n.length>0?n.map(e=>e.validator):[]}getInitialValue(n){if(C(n.persistKey)&&Dt(n.persistKey)){let e=this.localStorageService.getItem(this.STORAGE_KEY);if(C(e)&&Dt(e))try{let t=JSON.parse(e);if($t(t,n.persistKey))return t[n.persistKey]}catch(t){console.warn("Failed to parse saved state:",t)}}return n.value}saveState(n){this.localStorageService.setItem(this.STORAGE_KEY,JSON.stringify(n))}updateFormState(n){this.formStateSubject.next(n),this.saveState(n)}clearSavedState(){this.localStorageService.removeItem(this.STORAGE_KEY),this.formStateSubject.next(null)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ts=`
    .p-fileupload input[type='file'] {
        display: none;
    }

    .p-fileupload-advanced {
        border: 1px solid dt('fileupload.border.color');
        border-radius: dt('fileupload.border.radius');
        background: dt('fileupload.background');
        color: dt('fileupload.color');
    }

    .p-fileupload-header {
        display: flex;
        align-items: center;
        padding: dt('fileupload.header.padding');
        background: dt('fileupload.header.background');
        color: dt('fileupload.header.color');
        border-style: solid;
        border-width: dt('fileupload.header.border.width');
        border-color: dt('fileupload.header.border.color');
        border-radius: dt('fileupload.header.border.radius');
        gap: dt('fileupload.header.gap');
    }

    .p-fileupload-content {
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.content.gap');
        transition: border-color dt('fileupload.transition.duration');
        padding: dt('fileupload.content.padding');
    }

    .p-fileupload-content .p-progressbar {
        width: 100%;
        height: dt('fileupload.progressbar.height');
    }

    .p-fileupload-file-list {
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.filelist.gap');
    }

    .p-fileupload-file {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        padding: dt('fileupload.file.padding');
        border-block-end: 1px solid dt('fileupload.file.border.color');
        gap: dt('fileupload.file.gap');
    }

    .p-fileupload-file:last-child {
        border-block-end: 0;
    }

    .p-fileupload-file-info {
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.file.info.gap');
    }

    .p-fileupload-file-thumbnail {
        flex-shrink: 0;
    }

    .p-fileupload-file-actions {
        margin-inline-start: auto;
    }

    .p-fileupload-highlight {
        border: 1px dashed dt('fileupload.content.highlight.border.color');
    }

    .p-fileupload-basic .p-message {
        margin-block-end: dt('fileupload.basic.gap');
    }

    .p-fileupload-basic-content {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: dt('fileupload.basic.gap');
    }
`;var Kf=["pFileContent",""],Qf=(o,n,e)=>({class:o,file:n,index:e}),Wf=(o,n)=>(n==null?null:n.name)+"-"+o;function Zf(o,n){}function Yf(o,n){o&1&&g(0,Zf,0,0,"ng-template")}function Xf(o,n){if(o&1&&g(0,Yf,1,0,null,7),o&2){let e=l().class,t=l(),i=t.$implicit,r=t.$index,a=l();s("ngTemplateOutlet",a.fileRemoveIconTemplate())("ngTemplateOutletContext",Wt(2,Qf,e,i,r))}}function Jf(o,n){if(o&1&&(ee(),I(0,"svg",8)),o&2){let e=l().class;b(e),x("aria-hidden",!0)}}function eg(o,n){if(o&1&&D(0,Xf,1,6)(1,Jf,1,3,":svg:svg",6),o&2){let e=l(2);F(e.fileRemoveIconTemplate()?0:1)}}function tg(o,n){if(o&1){let e=k();p(0,"div",2),I(1,"img",3),p(2,"div",2)(3,"div",2),O(4),u(),p(5,"span",2),O(6),u()(),I(7,"p-badge",4),p(8,"div",2)(9,"p-button",5),y("onClick",function(i){let r=h(e).$index,a=l();return f(a.onRemoveClick(i,r))}),g(10,eg,2,1,"ng-template",null,0,ie),u()()()}if(o&2){let e=n.$implicit,t=l();b(t.cx("file")),s("pBind",t.$pcFileUpload.ptm("file")),d(),b(t.cx("fileThumbnail")),s("src",e.objectURL,An)("width",t.previewWidth())("pBind",t.$pcFileUpload.ptm("fileThumbnail")),x("alt",e.name),d(),b(t.cx("fileInfo")),s("pBind",t.$pcFileUpload.ptm("fileInfo")),d(),b(t.cx("fileName")),s("pBind",t.$pcFileUpload.ptm("fileName")),d(),te(e.name),d(),b(t.cx("fileSize")),s("pBind",t.$pcFileUpload.ptm("fileSize")),d(),te(t.formatSize(e.size)),d(),b(t.cx("pcFileBadge")),s("value",t.badgeValue())("severity",t.badgeSeverity())("pt",t.$pcFileUpload.ptm("pcFileBadge"))("unstyled",t.unstyled()),d(),b(t.cx("fileActions")),s("pBind",t.$pcFileUpload.ptm("fileActions")),d(),s("styleClass",t.cx("pcFileRemoveButton"))("pt",t.$pcFileUpload.ptm("pcFileRemoveButton"))("unstyled",t.unstyled())}}var ig=["file"],ng=["header"],Ss=["content"],og=["toolbar"],rg=["chooseicon"],ag=["filelabel"],lg=["uploadicon"],sg=["cancelicon"],dg=["empty"],cg=["advancedfileinput"],pg=["basicfileinput"],ug=(o,n,e,t,i)=>({$implicit:o,uploadedFiles:n,chooseCallback:e,clearCallback:t,uploadCallback:i}),mg=(o,n,e,t,i,r,a,c)=>({$implicit:o,uploadedFiles:n,chooseCallback:e,clearCallback:t,removeUploadedFileCallback:i,removeFileCallback:r,progress:a,messages:c}),hg=o=>({$implicit:o});function fg(o,n){if(o&1&&I(0,"span",8),o&2){let e,t=l(4);b(t.chooseIcon),s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),x("aria-label",!0)}}function gg(o,n){if(o&1&&(ee(),I(0,"svg",17)),o&2){let e,t=l(5);s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),x("aria-label",!0)}}function _g(o,n){}function vg(o,n){o&1&&g(0,_g,0,0,"ng-template")}function bg(o,n){if(o&1&&(p(0,"span",8),g(1,vg,1,0,null,11),u()),o&2){let e,t=l(5);s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),x("aria-label",!0),d(),s("ngTemplateOutlet",t.chooseIconTemplate||t._chooseIconTemplate)}}function yg(o,n){if(o&1&&(Y(0),g(1,gg,1,2,"svg",15)(2,bg,2,3,"span",16),X()),o&2){let e=l(4);d(),s("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),d(),s("ngIf",e.chooseIconTemplate||e._chooseIconTemplate)}}function Cg(o,n){if(o&1&&g(0,fg,1,4,"span",5)(1,yg,3,2,"ng-container",9),o&2){let e=l(3);s("ngIf",e.chooseIcon),d(),s("ngIf",!e.chooseIcon)}}function xg(o,n){if(o&1&&I(0,"span",20),o&2){let e,t=l(5);s("ngClass",t.uploadIcon)("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon),x("aria-hidden",!0)}}function wg(o,n){if(o&1&&(ee(),I(0,"svg",22)),o&2){let e,t=l(6);s("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon)}}function Tg(o,n){}function Sg(o,n){o&1&&g(0,Tg,0,0,"ng-template")}function Ig(o,n){if(o&1&&(p(0,"span",8),g(1,Sg,1,0,null,11),u()),o&2){let e,t=l(6);s("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon),x("aria-hidden",!0),d(),s("ngTemplateOutlet",t.uploadIconTemplate||t._uploadIconTemplate)}}function kg(o,n){if(o&1&&(Y(0),g(1,wg,1,1,"svg",21)(2,Ig,2,3,"span",16),X()),o&2){let e=l(5);d(),s("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),d(),s("ngIf",e.uploadIconTemplate||e._uploadIconTemplate)}}function Eg(o,n){if(o&1&&g(0,xg,1,3,"span",19)(1,kg,3,2,"ng-container",9),o&2){let e=l(4);s("ngIf",e.uploadIcon),d(),s("ngIf",!e.uploadIcon)}}function Dg(o,n){if(o&1){let e=k();p(0,"p-button",18),y("onClick",function(){h(e);let i=l(3);return f(i.upload())}),g(1,Eg,2,2,"ng-template",null,2,ie),u()}if(o&2){let e=l(3);s("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.cn(e.cx("pcUploadButton"),e.uploadStyleClass))("buttonProps",e.uploadButtonProps)("pt",e.ptm("pcUploadButton"))("unstyled",e.unstyled())}}function Fg(o,n){if(o&1&&I(0,"span",24),o&2){let e=l(5);s("ngClass",e.cancelIcon)}}function Mg(o,n){o&1&&(ee(),I(0,"svg",26)),o&2&&x("aria-hidden",!0)}function Og(o,n){}function Ng(o,n){o&1&&g(0,Og,0,0,"ng-template")}function Vg(o,n){if(o&1&&(p(0,"span"),g(1,Ng,1,0,null,11),u()),o&2){let e=l(6);x("aria-hidden",!0),d(),s("ngTemplateOutlet",e.cancelIconTemplate||e._cancelIconTemplate)}}function Pg(o,n){if(o&1&&(Y(0),g(1,Mg,1,1,"svg",25)(2,Vg,2,2,"span",9),X()),o&2){let e=l(5);d(),s("ngIf",!e.cancelIconTemplate&&!e._cancelIconTemplate),d(),s("ngIf",e.cancelIconTemplate||e._cancelIconTemplate)}}function Ag(o,n){if(o&1&&g(0,Fg,1,1,"span",23)(1,Pg,3,2,"ng-container",9),o&2){let e=l(4);s("ngIf",e.cancelIcon),d(),s("ngIf",!e.cancelIcon)}}function Rg(o,n){if(o&1){let e=k();p(0,"p-button",18),y("onClick",function(){h(e);let i=l(3);return f(i.clear())}),g(1,Ag,2,2,"ng-template",null,2,ie),u()}if(o&2){let e=l(3);s("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cn(e.cx("pcCancelButton"),e.cancelStyleClass))("buttonProps",e.cancelButtonProps)("pt",e.ptm("pcCancelButton"))("unstyled",e.unstyled())}}function qg(o,n){if(o&1){let e=k();Y(0),p(1,"p-button",13),y("focus",function(){h(e);let i=l(2);return f(i.onFocus())})("blur",function(){h(e);let i=l(2);return f(i.onBlur())})("onClick",function(){h(e);let i=l(2);return f(i.choose())})("keydown.enter",function(){h(e);let i=l(2);return f(i.choose())}),p(2,"input",7,0),y("change",function(i){h(e);let r=l(2);return f(r.onFileSelect(i))}),u(),g(4,Cg,2,2,"ng-template",null,2,ie),u(),g(6,Dg,3,6,"p-button",14)(7,Rg,3,6,"p-button",14),X()}if(o&2){let e=l(2);d(),s("styleClass",e.cn(e.cx("pcChooseButton"),e.chooseStyleClass))("disabled",e.disabled||e.isChooseDisabled())("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps)("pt",e.ptm("pcChooseButton"))("unstyled",e.unstyled()),d(),s("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled())("pBind",e.ptm("input")),x("aria-label",e.browseFilesLabel)("title",""),d(4),s("ngIf",!e.auto&&e.showUploadButton),d(),s("ngIf",!e.auto&&e.showCancelButton)}}function Lg(o,n){o&1&&j(0)}function Bg(o,n){o&1&&j(0)}function zg(o,n){o&1&&j(0)}function Hg(o,n){if(o&1&&g(0,zg,1,0,"ng-container",10),o&2){let e=l(2);s("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",La(2,mg,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs))}}function $g(o,n){if(o&1&&I(0,"p-progressbar",30),o&2){let e=l(3);s("value",e.progress)("showValue",!1)("pt",e.ptm("pcProgressBar"))}}function Gg(o,n){if(o&1&&I(0,"p-message",28),o&2){let e=n.$implicit,t=l(3);s("severity",e.severity)("text",e.text)("pt",t.ptm("pcMessage"))("unstyled",t.unstyled())}}function Ug(o,n){}function jg(o,n){if(o&1){let e=k();p(0,"div",33),y("onRemove",function(i){h(e);let r=l(4);return f(r.onRemoveClick(i))}),u()}if(o&2){let e=l(4);s("unstyled",e.unstyled())("files",e.files)("badgeValue",e.pendingLabel)("previewWidth",e.previewWidth)("fileRemoveIconTemplate",e.cancelIconTemplate||e._cancelIconTemplate)}}function Kg(o,n){if(o&1&&(p(0,"div",8),g(1,Ug,0,0,"ng-template",31),D(2,jg,1,5,"div",32),u()),o&2){let e=l(3);b(e.cx("fileList")),s("pBind",e.ptm("fileList")),d(),s("ngForOf",e.files)("ngForTemplate",e.fileTemplate||e._fileTemplate),d(),F(!e.fileTemplate&&!e._fileTemplate?2:-1)}}function Qg(o,n){}function Wg(o,n){if(o&1){let e=k();p(0,"div",35),y("onRemove",function(i){h(e);let r=l(4);return f(r.onRemoveUploadedFileClick(i))}),u()}if(o&2){let e=l(4);s("unstyled",e.unstyled())("files",e.uploadedFiles)("badgeValue",e.completedLabel())("previewWidth",e.previewWidth)("fileRemoveIconTemplate",e.cancelIconTemplate||e._cancelIconTemplate)}}function Zg(o,n){if(o&1&&(p(0,"div",8),g(1,Qg,0,0,"ng-template",31),D(2,Wg,1,5,"div",34),u()),o&2){let e=l(3);b(e.cx("fileList")),s("pBind",e.ptm("fileList")),d(),s("ngForOf",e.uploadedFiles)("ngForTemplate",e.fileTemplate||e._fileTemplate),d(),F(!e.fileTemplate&&!e._fileTemplate?2:-1)}}function Yg(o,n){if(o&1&&(g(0,$g,1,3,"p-progressbar",27),Ee(1,Gg,1,4,"p-message",28,mi),D(3,Kg,3,6,"div",29),D(4,Zg,3,6,"div",29)),o&2){let e=l(2);s("ngIf",e.hasFiles()),d(),De(e.msgs),d(2),F(e.hasFiles()?3:-1),d(),F(e.hasUploadedFiles()?4:-1)}}function Xg(o,n){if(o&1&&j(0,8),o&2){let e=l(3);s("pBind",e.ptm("empty"))}}function Jg(o,n){if(o&1&&g(0,Xg,1,1,"ng-container",36),o&2){let e=l(2);s("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function e_(o,n){if(o&1){let e=k();p(0,"div",6)(1,"input",7,0),y("change",function(i){h(e);let r=l();return f(r.onFileSelect(i))}),u(),p(3,"div",8),g(4,qg,8,14,"ng-container",9)(5,Lg,1,0,"ng-container",10)(6,Bg,1,0,"ng-container",11),u(),p(7,"div",12,1),y("dragenter",function(i){h(e);let r=l();return f(r.onDragEnter(i))})("dragleave",function(i){h(e);let r=l();return f(r.onDragLeave(i))})("drop",function(i){h(e);let r=l();return f(r.onDrop(i))}),D(9,Hg,1,11,"ng-container")(10,Yg,5,3),D(11,Jg,1,1,"ng-container",8),u()()}if(o&2){let e=l();b(e.cn(e.cx("root"),e.styleClass)),s("ngStyle",e.style)("pBind",e.ptm("root")),d(),s("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled())("pBind",e.ptm("input")),x("aria-label",e.browseFilesLabel)("title",""),d(2),b(e.cx("header")),s("pBind",e.ptm("header")),d(),s("ngIf",!e.headerTemplate&&!e._headerTemplate),d(),s("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",qa(22,ug,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),d(),s("ngTemplateOutlet",e.toolbarTemplate||e._toolbarTemplate),d(),b(e.cx("content")),s("pBind",e.ptm("content")),d(2),F(e.contentTemplate||e._contentTemplate?9:10),d(2),F((e.emptyTemplate||e._emptyTemplate)&&!e.hasFiles()&&!e.hasUploadedFiles()?11:-1)}}function t_(o,n){if(o&1&&I(0,"p-message",28),o&2){let e=n.$implicit,t=l(2);s("severity",e.severity)("text",e.text)("pt",t.ptm("pcMessage"))("unstyled",t.unstyled())}}function i_(o,n){if(o&1&&I(0,"span",40),o&2){let e,t=l(4);s("ngClass",t.uploadIcon)("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function n_(o,n){if(o&1&&(ee(),I(0,"svg",22)),o&2){let e,t=l(5);b("p-button-icon p-button-icon-left"),s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function o_(o,n){}function r_(o,n){o&1&&g(0,o_,0,0,"ng-template")}function a_(o,n){if(o&1&&(p(0,"span",43),g(1,r_,1,0,null,11),u()),o&2){let e,t=l(5);s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),d(),s("ngTemplateOutlet",t._uploadIconTemplate||t.uploadIconTemplate)}}function l_(o,n){if(o&1&&(Y(0),g(1,n_,1,3,"svg",41)(2,a_,2,2,"span",42),X()),o&2){let e=l(4);d(),s("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),d(),s("ngIf",e._uploadIconTemplate||e.uploadIconTemplate)}}function s_(o,n){if(o&1&&g(0,i_,1,2,"span",39)(1,l_,3,2,"ng-container",9),o&2){let e=l(3);s("ngIf",e.uploadIcon),d(),s("ngIf",!e.uploadIcon)}}function d_(o,n){if(o&1&&I(0,"span",45),o&2){let e,t=l(4);s("ngClass",t.chooseIcon)("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function c_(o,n){if(o&1&&(ee(),I(0,"svg",17)),o&2){let e,t=l(5);s("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function p_(o,n){}function u_(o,n){o&1&&g(0,p_,0,0,"ng-template")}function m_(o,n){if(o&1&&(Y(0),g(1,c_,1,1,"svg",15)(2,u_,1,0,null,11),X()),o&2){let e=l(4);d(),s("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),d(),s("ngTemplateOutlet",e.chooseIconTemplate||e._chooseIconTemplate)}}function h_(o,n){if(o&1&&g(0,d_,1,2,"span",44)(1,m_,3,2,"ng-container",9),o&2){let e=l(3);s("ngIf",e.chooseIcon),d(),s("ngIf",!e.chooseIcon)}}function f_(o,n){if(o&1&&D(0,s_,2,2)(1,h_,2,2),o&2){let e=l(2);F(e.hasFiles()&&!e.auto?0:1)}}function g_(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(3);d(),ye(" ",e.basicFileChosenLabel()," ")}}function __(o,n){o&1&&j(0)}function v_(o,n){if(o&1&&g(0,__,1,0,"ng-container",10),o&2){let e=l(3);s("ngTemplateOutlet",e.fileLabelTemplate||e._fileLabelTemplate)("ngTemplateOutletContext",ce(2,hg,e.files))}}function b_(o,n){if(o&1&&D(0,g_,2,1,"span")(1,v_,1,4,"ng-container"),o&2){let e=l(2);F(!e.fileLabelTemplate&&!e._fileLabelTemplate?0:1)}}function y_(o,n){if(o&1){let e=k();p(0,"div",8),Ee(1,t_,1,4,"p-message",28,mi),p(3,"div",8)(4,"p-button",37),y("onClick",function(){h(e);let i=l();return f(i.onBasicUploaderClick())})("keydown",function(i){h(e);let r=l();return f(r.onBasicKeydown(i))}),g(5,f_,2,1,"ng-template",null,2,ie),p(7,"input",38,3),y("change",function(i){h(e);let r=l();return f(r.onFileSelect(i))})("focus",function(){h(e);let i=l();return f(i.onFocus())})("blur",function(){h(e);let i=l();return f(i.onBlur())}),u()(),D(9,b_,2,1),u()()}if(o&2){let e=l();b(e.cn(e.cx("root"),e.styleClass)),s("pBind",e.ptm("root")),d(),De(e.msgs),d(2),b(e.cx("basicContent")),s("pBind",e.ptm("basicContent")),d(),be(e.style),s("styleClass",e.cn(e.cx("pcChooseButton"),e.chooseStyleClass))("disabled",e.disabled)("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps)("pt",e.ptm("pcChooseButton"))("unstyled",e.unstyled()),d(3),s("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)("pBind",e.ptm("input")),x("aria-label",e.browseFilesLabel),d(2),F(e.auto?-1:9)}}var C_={root:({instance:o})=>`p-fileupload p-fileupload-${o.mode} p-component`,header:"p-fileupload-header",pcChooseButton:"p-fileupload-choose-button",pcUploadButton:"p-fileupload-upload-button",pcCancelButton:"p-fileupload-cancel-button",content:"p-fileupload-content",fileList:"p-fileupload-file-list",file:"p-fileupload-file",fileThumbnail:"p-fileupload-file-thumbnail",fileInfo:"p-fileupload-file-info",fileName:"p-fileupload-file-name",fileSize:"p-fileupload-file-size",pcFileBadge:"p-fileupload-file-badge",fileActions:"p-fileupload-file-actions",pcFileRemoveButton:"p-fileupload-file-remove-button",basicContent:"p-fileupload-basic-content"},So=(()=>{class o extends Te{name="fileupload";style=Ts;classes=C_;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Is=new ae("FILEUPLOAD_INSTANCE"),x_=(()=>{class o extends ct{_componentStyle=_(So);$pcFileUpload=_(Is);onRemove=Re();files=R();badgeSeverity=R("warn");badgeValue=R();previewWidth=R(50);fileRemoveIconTemplate=R();onRemoveClick(e,t){this.onRemove.emit({event:e,index:t})}formatSize(e){let r=this.config.getTranslation(ze.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let a=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,a)).toFixed(3)} ${r[a]}`}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["","pFileContent",""]],inputs:{files:[1,"files"],badgeSeverity:[1,"badgeSeverity"],badgeValue:[1,"badgeValue"],previewWidth:[1,"previewWidth"],fileRemoveIconTemplate:[1,"fileRemoveIconTemplate"]},outputs:{onRemove:"onRemove"},features:[Z([So]),ne],attrs:Kf,decls:2,vars:0,consts:[["icon",""],[3,"class","pBind"],[3,"pBind"],["role","presentation",3,"src","width","pBind"],[3,"value","severity","pt","unstyled"],["text","","rounded","","severity","danger",3,"onClick","styleClass","pt","unstyled"],["data-p-icon","times",3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times"]],template:function(t,i){t&1&&Ee(0,tg,12,32,"div",1,Wf),t&2&&De(i.files())},dependencies:[K,we,vl,Ye,Gt,A],encapsulation:2,changeDetection:0})}return o})(),Dr=(()=>{class o extends ct{bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;chooseButtonProps;uploadButtonProps={severity:"secondary"};cancelButtonProps={severity:"secondary"};onBeforeUpload=new M;onSend=new M;onUpload=new M;onError=new M;onClear=new M;onRemove=new M;onSelect=new M;onProgress=new M;uploadHandler=new M;onImageError=new M;onRemoveUploadedFile=new M;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;fileLabelTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let t=0;t<e.length;t++){let i=e[t];this.validate(i)&&(this.isImage(i)&&(i.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[t]))),this._files.push(e[t]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];sanitizer=_(Bn);zone=_(Xe);http=_(Ga);_componentStyle=_(So);onInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}onAfterViewInit(){Ge(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}_headerTemplate;_contentTemplate;_toolbarTemplate;_chooseIconTemplate;_uploadIconTemplate;_cancelIconTemplate;_emptyTemplate;_fileTemplate;_fileLabelTemplate;templates;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"file":this._fileTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"toolbar":this._toolbarTemplate=e.template;break;case"chooseicon":this._chooseIconTemplate=e.template;break;case"uploadicon":this._uploadIconTemplate=e.template;break;case"cancelicon":this._cancelIconTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"filelabel":this._fileLabelTemplate=e.template;break;default:this._fileTemplate=e.template;break}})}basicFileChosenLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles()?this.files&&this.files.length===1?this.files[0].name:this.config.getTranslation("fileChosenMessage")?.replace("{0}",this.files.length):this.config.getTranslation("noFileChosenMessage")||""}completedLabel(){return this.config.getTranslation("completed")||""}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.multiple||(this.files=[]),this.msgs=[],this.files=this.files||[];let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let i=0;i<t.length;i++){let r=t[i];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[i]))),this.files.push(t[i]))}this.onSelect.emit({originalEvent:e,files:t,currentFiles:this.files}),this.checkFileLimit(t),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(Ge(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){if(this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)){let t=`${this.invalidFileTypeMessageSummary.replace("{0}",e.name)} ${this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}`;return this.msgs.push({severity:"error",text:t}),!1}if(this.maxFileSize&&e.size>this.maxFileSize){let t=`${this.invalidFileSizeMessageSummary.replace("{0}",e.name)} ${this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}`;return this.msgs.push({severity:"error",text:t}),!1}return!0}isFileTypeValid(e){let t=this.accept?.split(",").map(i=>i.trim());for(let i of t)if(this.isWildcard(i)?this.getTypeClass(e.type)===this.getTypeClass(i):e.type==i||this.getFileExtension(e).toLowerCase()===i.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}uploader(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let t=0;t<this.files.length;t++)e.append(this.name,this.files[t],this.files[t].name);this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(t=>{switch(t.type){case Ln.Sent:this.onSend.emit({originalEvent:t,formData:e});break;case Ln.Response:this.uploading=!1,this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:t,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles=[...this.uploadedFiles,...this.files],this.clear();break;case Ln.UploadProgress:{t.loaded&&(this.progress=Math.round(t.loaded*100/t.total)),this.onProgress.emit({originalEvent:t,progress:this.progress});break}}this.cd.markForCheck()},t=>{this.uploading=!1,this.onError.emit({files:this.files,error:t})})}}onRemoveClick(e){let{event:t,index:i}=e;this.hasFiles()&&this.remove(t,i)}onRemoveUploadedFileClick(e){let{index:t}=e;this.hasUploadedFiles()&&this.removeUploadedFile(t)}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.msgs=[],this.cd.markForCheck()}remove(e,t){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[t]}),this.files.splice(t,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:t,files:this.uploadedFiles})}isFileLimitExceeded(){let t=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=t&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<t}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let t=this.msgs.length>0&&this.fileLimit&&this.fileLimit<e.length;if(this.isFileLimitExceeded()||t){let i=`${this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString())} ${this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}`;this.msgs.push({severity:"error",text:i})}else this.msgs=this.msgs.filter(i=>!i.text.includes(this.invalidFileLimitMessageSummary))}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(!this.$unstyled()&&wt(this.content?.nativeElement,"p-fileupload-highlight"),this.content?.nativeElement.setAttribute("data-p-highlight",!0),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||(!this.$unstyled()&&Tt(this.content?.nativeElement,"p-fileupload-highlight"),this.content?.nativeElement.setAttribute("data-p-highlight",!1))}onDrop(e){if(!this.disabled){!this.$unstyled()&&Tt(this.content?.nativeElement,"p-fileupload-highlight"),this.content?.nativeElement.setAttribute("data-p-highlight",!1),e.stopPropagation(),e.preventDefault();let t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(ze.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let a=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,a)).toFixed(3)} ${r[a]}`}upload(){this.hasFiles()&&this.uploader()}onBasicUploaderClick(){this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(ze.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(ze.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(ze.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(ze.ARIA)[ze.BROWSE_FILES]}get pendingLabel(){return this.config.getTranslation(ze.PENDING)}onDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-fileupload"],["p-fileUpload"]],contentQueries:function(t,i,r){if(t&1&&(P(r,ig,4),P(r,ng,4),P(r,Ss,4),P(r,og,4),P(r,rg,4),P(r,ag,4),P(r,lg,4),P(r,sg,4),P(r,dg,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.fileTemplate=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.contentTemplate=a.first),w(a=T())&&(i.toolbarTemplate=a.first),w(a=T())&&(i.chooseIconTemplate=a.first),w(a=T())&&(i.fileLabelTemplate=a.first),w(a=T())&&(i.uploadIconTemplate=a.first),w(a=T())&&(i.cancelIconTemplate=a.first),w(a=T())&&(i.emptyTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(cg,5),H(pg,5),H(Ss,5)),t&2){let r;w(r=T())&&(i.advancedFileInput=r.first),w(r=T())&&(i.basicFileInput=r.first),w(r=T())&&(i.content=r.first)}},inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",E],accept:"accept",disabled:[2,"disabled","disabled",E],auto:[2,"auto","auto",E],withCredentials:[2,"withCredentials","withCredentials",E],maxFileSize:[2,"maxFileSize","maxFileSize",re],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",re],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",E],showCancelButton:[2,"showCancelButton","showCancelButton",E],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",E],fileLimit:[2,"fileLimit","fileLimit",e=>re(e,void 0)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",chooseButtonProps:"chooseButtonProps",uploadButtonProps:"uploadButtonProps",cancelButtonProps:"cancelButtonProps",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Z([So,{provide:Is,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["icon",""],["basicfileinput",""],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"ngStyle","pBind"],["type","file",3,"change","multiple","accept","disabled","pBind"],[3,"pBind"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"dragenter","dragleave","drop","pBind"],[3,"focus","blur","onClick","keydown.enter","styleClass","disabled","label","buttonProps","pt","unstyled"],[3,"label","disabled","styleClass","buttonProps","pt","unstyled","onClick",4,"ngIf"],["data-p-icon","plus",3,"pBind",4,"ngIf"],[3,"pBind",4,"ngIf"],["data-p-icon","plus",3,"pBind"],[3,"onClick","label","disabled","styleClass","buttonProps","pt","unstyled"],[3,"ngClass","pBind",4,"ngIf"],[3,"ngClass","pBind"],["data-p-icon","upload",3,"pBind",4,"ngIf"],["data-p-icon","upload",3,"pBind"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"],[3,"value","showValue","pt",4,"ngIf"],[3,"severity","text","pt","unstyled"],[3,"class","pBind"],[3,"value","showValue","pt"],["ngFor","",3,"ngForOf","ngForTemplate"],["pFileContent","",3,"unstyled","files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","",3,"onRemove","unstyled","files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","","badgeSeverity","success",3,"unstyled","files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","","badgeSeverity","success",3,"onRemove","unstyled","files","badgeValue","previewWidth","fileRemoveIconTemplate"],[3,"pBind",4,"ngTemplateOutlet"],[3,"onClick","keydown","styleClass","disabled","label","buttonProps","pt","unstyled"],["type","file",3,"change","focus","blur","accept","multiple","disabled","pBind"],["class","p-button-icon p-button-icon-left",3,"ngClass","pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass","pBind"],["data-p-icon","upload",3,"class","pBind",4,"ngIf"],["class","p-button-icon p-button-icon-left",3,"pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"pBind"],["class","p-button-icon p-button-icon-left pi",3,"ngClass","pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass","pBind"]],template:function(t,i){t&1&&g(0,e_,12,28,"div",4)(1,y_,10,20,"div",5),t&2&&(s("ngIf",i.mode==="advanced"),d(),s("ngIf",i.mode==="basic"))},dependencies:[K,tt,Ct,Ie,we,Oe,Ye,Ul,$l,Tl,Xl,Gt,G,x_,A],encapsulation:2,changeDetection:0})}return o})(),ks=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[Dr,G,G]})}return o})();var T_=["clearicon"],S_=["input"];function I_(o,n){if(o&1){let e=k();ee(),p(0,"svg",5),y("click",function(){h(e);let i=l(2);return f(i.clear())}),u()}if(o&2){let e=l(2);b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon"))}}function k_(o,n){}function E_(o,n){o&1&&g(0,k_,0,0,"ng-template")}function D_(o,n){if(o&1){let e=k();p(0,"span",6),y("click",function(){h(e);let i=l(2);return f(i.clear())}),g(1,E_,1,0,null,7),u()}if(o&2){let e=l(2);b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon")),d(),s("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function F_(o,n){if(o&1&&(Y(0),g(1,I_,1,3,"svg",3)(2,D_,2,4,"span",4),X()),o&2){let e=l();d(),s("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),d(),s("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}var M_=`
    /* For PrimeNG */
    p-inputmask {
        position: relative;
    }

    .p-inputmask-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        inset-inline-end: dt('form.field.padding.x');
        color: dt('form.field.icon.color');
    }

    p-inputMask:has(.p-inputtext-fluid),
    p-input-mask:has(.p-inputtext-fluid),
    p-inputmask:has(.p-inputtext-fluid) {
        width: 100%;
    }

    p-inputMask.ng-invalid.ng-dirty > .p-inputtext,
    p-input-mask.ng-invalid.ng-dirty > .p-inputtext,
    p-inputmask.ng-invalid.ng-dirty > .p-inputtext {
        border-color: dt('inputtext.invalid.border.color');
    }

    p-inputMask.ng-invalid.ng-dirty > .p-inputtext:enabled:focus,
    p-input-mask.ng-invalid.ng-dirty > .p-inputtext:enabled:focus,
    p-inputmask.ng-invalid.ng-dirty > .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
    }

    p-inputMask.ng-invalid.ng-dirty > .p-inputtext::placeholder,
    p-input-mask.ng-invalid.ng-dirty > .p-inputtext::placeholder,
    p-inputmask.ng-invalid.ng-dirty > .p-inputtext::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,O_={root:({instance:o})=>["p-inputmask p-component p-inputwrapper",{"p-variant-filled":o.$variant()==="filled"}],clearIcon:"p-inputmask-clear-icon"},Es=(()=>{class o extends Te{name="inputmask";style=M_;classes=O_;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Ds=new ae("INPUTMASK_INSTANCE"),N_={provide:Se,useExisting:pe(()=>Io),multi:!0},Io=(()=>{class o extends Zn{_componentStyle=_(Es);$pcInputMask=_(Ds,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["root","host"]))}ptmParams=oe(()=>({context:{filled:this.$variant()==="filled"}}));type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;tabindex;title;ariaLabel;ariaLabelledBy;ariaRequired;readonly;unmask;characterPattern="[A-Za-z]";autofocus;autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new M;onFocus=new M;onBlur=new M;onInput=new M;onKeydown=new M;onClear=new M;clearIconTemplate;templates;inputViewChild;value;_mask;input;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;onInit(){if(Ge(this.platformId)){let e=navigator.userAgent;this.androidChrome=/chrome/i.test(e)&&/android/i.test(e)}this.initMask()}_clearIconTemplate;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this._clearIconTemplate=e.template;break}})}initMask(){if(!this.mask)return;this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let t=0;t<e.length;t++){let i=e[t];i=="?"?(this.len--,this.partialPosition=t):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),t<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let t=0;t<e.length;t++){let i=e[t];i!="?"&&(this.defs[i]?this.buffer.push(this.getPlaceholder(t)):this.buffer.push(i))}this.defaultBuffer=this.buffer.join("")}caret(e,t){let i,r,a;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof e=="number")r=e,a=typeof t=="number"?t:r,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(r,a):this.inputViewChild.nativeElement.createTextRange&&(i=this.inputViewChild.nativeElement.createTextRange(),i.collapse(!0),i.moveEnd("character",a),i.moveStart("character",r),i.select());else return this.inputViewChild.nativeElement.setSelectionRange?(r=this.inputViewChild.nativeElement.selectionStart,a=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(i=this.document.createRange(),r=0-i.duplicate().moveStart("character",-1e5),a=r+i.text.length),{begin:r,end:a}}isCompleted(){let e;for(let t=this.firstNonMaskPos;t<=this.lastRequiredNonMaskPos;t++)if(this.tests[t]&&this.buffer[t]===this.getPlaceholder(t))return!1;return!0}getPlaceholder(e){return e<this.slotChar.length?this.slotChar.charAt(e):this.slotChar.charAt(0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,t){let i,r;if(!(e<0)){for(i=e,r=this.seekNext(t);i<this.len;i++)if(this.tests[i]){if(r<this.len&&this.tests[i].test(this.buffer[r]))this.buffer[i]=this.buffer[r],this.buffer[r]=this.getPlaceholder(r);else break;r=this.seekNext(r)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let t,i,r,a;for(t=e,i=this.getPlaceholder(e);t<this.len;t++)if(this.tests[t])if(r=this.seekNext(t),a=this.buffer[t],this.buffer[t]=i,r<this.len&&this.tests[r].test(a))i=a;else break}handleAndroidInput(e){var t=this.inputViewChild?.nativeElement.value,i=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>t.length){for(this.checkVal(!0);i.begin>0&&!this.tests[i.begin-1];)i.begin--;if(i.begin===0)for(;i.begin<this.firstNonMaskPos&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);i.begin<this.len&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.onBlur.emit(e),this.modelValue()!=this.focusText||this.modelValue()!=this.value){this.updateModel(e);let t=this.document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(t)}}onInputKeydown(e){if(this.readonly)return;let t=e.which||e.keyCode,i,r,a,c;Ge(this.platformId)&&(c=/iphone/i.test(yr())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(e),t===8||t===46||c&&t===127?(i=this.caret(),r=i.begin,a=i.end,a-r===0&&(r=t!==46?this.seekPrev(r):a=this.seekNext(r-1),a=t===46?this.seekNext(a):a),this.clearBuffer(r,a),this.keepBuffer?this.shiftL(r,a-2):this.shiftL(r,a-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):t===13?(this.onInputBlur(e),this.updateModel(e)):t===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var t=e.which||e.keyCode,i=this.caret(),r,a,c,m;e.ctrlKey||e.altKey||e.metaKey||t<32||t>34&&t<41||(t&&t!==13&&(i.end-i.begin!==0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1)),r=this.seekNext(i.begin-1),r<this.len&&(a=String.fromCharCode(t),this.tests[r].test(a)&&(this.shiftR(r),this.buffer[r]=a,this.writeBuffer(),c=this.seekNext(r),ol()&&/android/i.test(yr())?setTimeout(()=>{this.caret(c)},0):this.caret(c),i.begin<=this.lastRequiredNonMaskPos&&(m=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),m&&this.onComplete.emit())}}clearBuffer(e,t){if(!this.keepBuffer){let i;for(i=e;i<t&&i<this.len;i++)this.tests[i]&&(this.buffer[i]=this.getPlaceholder(i))}}writeBuffer(){this.buffer&&this.inputViewChild?.nativeElement&&(this.inputViewChild.nativeElement.value=this.buffer.join(""))}checkVal(e){let t=this.inputViewChild?.nativeElement.value,i=-1,r,a,c;for(r=0,c=0;r<this.len;r++)if(this.tests[r]){for(this.buffer[r]=this.getPlaceholder(r);c++<t.length;)if(a=t.charAt(c-1),this.tests[r].test(a)){this.keepBuffer||(this.buffer[r]=a),i=r;break}if(c>t.length){this.clearBuffer(r+1,this.len);break}}else this.buffer[r]===t.charAt(c)&&c++,r<this.partialPosition&&(i=r);return e?this.writeBuffer():i+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,i+1)),this.partialPosition?r:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let t;this.focusText=this.inputViewChild?.nativeElement.value,t=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),t==this.mask?.replace("?","").length?this.caret(0,t):this.caret(t))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||setTimeout(()=>{var t=this.checkVal(!0);this.caret(t),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let t=0;t<this.buffer.length;t++){let i=this.buffer[t];this.tests[t]&&i!=this.getPlaceholder(t)&&e.push(i)}return e.join("")}updateModel(e){let t=e.target;if(!t)return;let i=this.unmask?this.getUnmaskedValue():t.value;i!=null&&(this.value=i,this.writeModelValue(this.value),this.onModelChange(this.value))}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}writeControlValue(e,t){this.value=e,t(this.value),this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-inputmask"],["p-inputMask"],["p-input-mask"]],contentQueries:function(t,i,r){if(t&1&&(P(r,T_,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.clearIconTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&H(S_,7),t&2){let r;w(r=T())&&(i.inputViewChild=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&b(i.cx("root"))},inputs:{type:"type",slotChar:"slotChar",autoClear:[2,"autoClear","autoClear",E],showClear:[2,"showClear","showClear",E],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[2,"ariaRequired","ariaRequired",E],readonly:[2,"readonly","readonly",E],unmask:[2,"unmask","unmask",E],characterPattern:"characterPattern",autofocus:[2,"autofocus","autofocus",E],autocomplete:"autocomplete",keepBuffer:[2,"keepBuffer","keepBuffer",E],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[Z([N_,Es,{provide:Ds,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:3,vars:27,consts:[["input",""],["pInputText","",3,"focus","blur","keydown","keypress","input","paste","pt","unstyled","invalid","ngStyle","pSize","variant","pAutoFocus","fluid"],[4,"ngIf"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"class","pBind","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[3,"click","pBind"],[4,"ngTemplateOutlet"]],template:function(t,i){if(t&1){let r=k();p(0,"input",1,0),y("focus",function(c){return h(r),f(i.onInputFocus(c))})("blur",function(c){return h(r),f(i.onInputBlur(c))})("keydown",function(c){return h(r),f(i.onInputKeydown(c))})("keypress",function(c){return h(r),f(i.onKeyPress(c))})("input",function(c){return h(r),f(i.onInputChange(c))})("paste",function(c){return h(r),f(i.handleInputChange(c))}),u(),g(2,F_,3,2,"ng-container",2)}t&2&&(b(i.styleClass),s("pt",i.ptm("pcInputText",i.ptmParams()))("unstyled",i.unstyled())("invalid",i.invalid())("ngStyle",i.style)("pSize",i.size())("variant",i.$variant())("pAutoFocus",i.autofocus)("fluid",i.hasFluid),x("id",i.inputId)("type",i.type)("name",i.name())("placeholder",i.placeholder)("title",i.title)("size",i.inputSize())("autocomplete",i.autocomplete)("maxlength",i.maxlength())("minlength",i.minlength())("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-required",i.ariaRequired)("required",i.required()?"":void 0)("readonly",i.readonly?"":void 0)("disabled",i.$disabled()?"":void 0),d(2),s("ngIf",i.value!=null&&i.$filled()&&i.showClear&&!i.$disabled()))},dependencies:[K,Ie,we,Oe,it,Ke,Gt,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),Fs=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[Io,G,G]})}return o})();var P_={provide:El,useExisting:pe(()=>A_),multi:!0},Ms={pint:/^[\d]*$/,int:/^[-]?[\d]*$/,pnum:/^[\d\.]*$/,money:/^[\d\.\s,]*$/,num:/^[-]?[\d\.]*$/,hex:/^[0-9a-f]*$/i,email:/^[a-z0-9_\.\-@]*$/i,alpha:/^[a-z_]*$/i,alphanum:/^[a-z0-9_]*$/i},Fr={TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46},Os={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},A_=(()=>{class o{document;platformId;el;pValidateOnly;set pattern(e){this._pattern=e,e instanceof RegExp?this.regex=e:e&&e in Ms?this.regex=Ms[e]:this.regex=/./}get pattern(){return this._pattern}ngModelChange=new M;regex=/./;_pattern;isAndroid;lastValue;constructor(e,t,i){this.document=e,this.platformId=t,this.el=i,Ge(this.platformId)?this.isAndroid=nl():this.isAndroid=!1}isNavKeyPress(e){let t=e.keyCode;return t=an().safari&&Os[t]||t,t>=33&&t<=40||t==Fr.RETURN||t==Fr.TAB||t==Fr.ESC}isSpecialKey(e){let t=e.keyCode||e.charCode;return t==9||t==13||t==27||t==16||t==17||t>=18&&t<=20||an().opera&&!e.shiftKey&&(t==8||t>=33&&t<=35||t>=36&&t<=39||t>=44&&t<=45)}getKey(e){let t=e.keyCode||e.charCode;return an().safari&&Os[t]||t}getCharCode(e){return e.charCode||e.keyCode||e.which}findDelta(e,t){let i="";for(let r=0;r<e.length;r++)e.substr(0,r)+e.substr(r+e.length-t.length)===t&&(i=e.substr(r,e.length-t.length));return i}isValidChar(e){return this.regex.test(e)}isValidString(e){for(let t=0;t<e.length;t++)if(!this.isValidChar(e.substr(t,1)))return!1;return!0}onInput(e){if(this.isAndroid&&!this.pValidateOnly){let t=this.el.nativeElement.value,i=this.lastValue||"",r=this.findDelta(t,i),a=this.findDelta(i,t);r.length>1||!r&&!a?this.isValidString(t)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)):a||this.isValidChar(r)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)),t=this.el.nativeElement.value,this.isValidString(t)&&(this.lastValue=t)}}onKeyPress(e){if(this.isAndroid||this.pValidateOnly)return;let t=an(),i=this.getKey(e);if(t.mozilla&&(e.ctrlKey||e.altKey))return;if(i==17||i==18||i==13)return;let r=this.getCharCode(e),a=String.fromCharCode(r),c=!0;if(!t.mozilla&&(this.isSpecialKey(e)||!a))return;let v=(this.el.nativeElement.value||"")+a;c=this.regex.test(v),c||e.preventDefault()}onPaste(e){let t=e.clipboardData;if(!t&&this.document.defaultView){let i=this.document.defaultView.clipboardData;i&&(t={getData:r=>i.getData("text")})}if(t){let i=/\{[0-9]+\}/,r=t.getData("text");if(i.test(this.regex.toString())){if(!this.regex.test(r)){e.preventDefault();return}}else for(let a of r.toString())if(!this.regex.test(a)){e.preventDefault();return}}}validate(e){if(this.pValidateOnly){let t=this.el.nativeElement.value;if(t&&!this.regex.test(t))return{validatePattern:!1}}}static \u0275fac=function(t){return new(t||o)($e(Et),$e(Pn),$e(ht))};static \u0275dir=Ht({type:o,selectors:[["","pKeyFilter",""]],hostBindings:function(t,i){t&1&&y("input",function(a){return i.onInput(a)})("keypress",function(a){return i.onKeyPress(a)})("paste",function(a){return i.onPaste(a)})},inputs:{pValidateOnly:[2,"pValidateOnly","pValidateOnly",E],pattern:[0,"pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[Z([P_])]})}return o})(),Ns=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({})}return o})();var Mr;function R_(){if(Mr==null){let o=typeof document<"u"?document.head:null;Mr=!!(o&&(o.createShadowRoot||o.attachShadow))}return Mr}function ko(o){if(R_()){let n=o.getRootNode?o.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function un(o){return o.composedPath?o.composedPath()[0]:o.target}function Vs(o){return o.buttons===0||o.detail===0}function Ps(o){let n=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function Eo(o,n=0){return q_(o)?Number(o):arguments.length===2?n:0}function q_(o){return!isNaN(parseFloat(o))&&!isNaN(Number(o))}function Nt(o){return o instanceof ht?o.nativeElement:o}var Do=new WeakMap,As=(()=>{class o{_appRef;_injector=_(pi);_environmentInjector=_(Fa);load(e){let t=this._appRef=this._appRef||this._injector.get(rn),i=Do.get(t);i||(i={loaders:new Set,refs:[]},Do.set(t,i),t.onDestroy(()=>{Do.get(t)?.refs.forEach(r=>r.destroy()),Do.delete(t)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push(qn(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Or;try{Or=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Or=!1}var Nr=(()=>{class o{_platformId=_(Pn);isBrowser=this._platformId?Ge(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Or)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var L_=new ae("cdk-dir-doc",{providedIn:"root",factory:()=>_(Et)}),B_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function z_(o){let n=o?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?B_.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Vr=(()=>{class o{get value(){return this.valueSignal()}valueSignal=U("ltr");change=new M;constructor(){let e=_(L_,{optional:!0});if(e){let t=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(z_(t||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var $_=20,Rs=(()=>{class o{_ngZone=_(Xe);_platform=_(Nr);_renderer=_(wi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ue;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=$_){return this._platform.isBrowser?new di(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=e>0?this._scrolled.pipe(pr(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):mt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ka(r=>!r||i.indexOf(r)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((i,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let i=Nt(t),r=e.getElementRef().nativeElement;do if(i==r)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var G_=20,qs=(()=>{class o{_platform=_(Nr);_listeners;_viewportSize;_change=new ue;_document=_(Et);constructor(){let e=_(Xe),t=_(wi).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=r=>this._change.next(r);this._listeners=[t.listen("window","resize",i),t.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),i=e.documentElement,r=i.getBoundingClientRect(),a=-r.top||e.body.scrollTop||t.scrollY||i.scrollTop||0,c=-r.left||e.body.scrollLeft||t.scrollX||i.scrollLeft||0;return{top:a,left:c}}change(e=G_){return e>0?this._change.pipe(pr(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Ls=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({})}return o})();var Pr={},Fo=class o{_appId=_(Ma);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(n,e=!1){return this._appId!=="ng"&&(n+=this._appId),Pr.hasOwnProperty(n)||(Pr[n]=0),`${n}${e?o._infix+"-":""}${Pr[n]++}`}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};function Bs(o){return Array.isArray(o)?o:[o]}function qr(o){let n=o.cloneNode(!0),e=n.querySelectorAll("[id]"),t=o.nodeName.toLowerCase();n.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return t==="canvas"?$s(o,n):(t==="input"||t==="select"||t==="textarea")&&Hs(o,n),zs("canvas",o,n,$s),zs("input, textarea, select",o,n,Hs),n}function zs(o,n,e,t){let i=n.querySelectorAll(o);if(i.length){let r=e.querySelectorAll(o);for(let a=0;a<i.length;a++)t(i[a],r[a])}}var U_=0;function Hs(o,n){n.type!=="file"&&(n.value=o.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${U_++}`)}function $s(o,n){let e=n.getContext("2d");if(e)try{e.drawImage(o,0,0)}catch{}}function Gr(o){let n=o.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Lr(o,n,e){let{top:t,bottom:i,left:r,right:a}=o;return e>=t&&e<=i&&n>=r&&n<=a}function j_(o,n){let e=n.left<o.left,t=n.left+n.width>o.right,i=n.top<o.top,r=n.top+n.height>o.bottom;return e||t||i||r}function fn(o,n,e){o.top+=n,o.bottom=o.top+o.height,o.left+=e,o.right=o.left+o.width}function Gs(o,n,e,t){let{top:i,right:r,bottom:a,left:c,width:m,height:v}=o,S=m*n,z=v*n;return t>i-z&&t<a+z&&e>c-S&&e<r+S}var Mo=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Gr(e)})})}handleScroll(n){let e=un(n),t=this.positions.get(e);if(!t)return null;let i=t.scrollPosition,r,a;if(e===this._document){let v=this.getViewportScrollPosition();r=v.top,a=v.left}else r=e.scrollTop,a=e.scrollLeft;let c=i.top-r,m=i.left-a;return this.positions.forEach((v,S)=>{v.clientRect&&e!==S&&e.contains(S)&&fn(v.clientRect,c,m)}),i.top=r,i.left=a,{top:c,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function nd(o,n){let e=o.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let t=n.createElement("div");return e.forEach(i=>t.appendChild(i)),t}function Ur(o,n,e){for(let t in n)if(n.hasOwnProperty(t)){let i=n[t];i?o.setProperty(t,i,e?.has(t)?"important":""):o.removeProperty(t)}return o}function Bi(o,n){let e=n?"":"none";Ur(o.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Us(o,n,e){Ur(o.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Oo(o,n){return n&&n!="none"?o+" "+n:o}function js(o,n){o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.transform=gn(n.left,n.top)}function gn(o,n){return`translate3d(${Math.round(o)}px, ${Math.round(n)}px, 0)`}function Ks(o){let n=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*n}function K_(o){let n=getComputedStyle(o),e=Ar(n,"transition-property"),t=e.find(c=>c==="transform"||c==="all");if(!t)return 0;let i=e.indexOf(t),r=Ar(n,"transition-duration"),a=Ar(n,"transition-delay");return Ks(r[i])+Ks(a[i])}function Ar(o,n){return o.getPropertyValue(n).split(",").map(t=>t.trim())}var Q_=new Set(["position"]),Br=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,t,i,r,a,c,m,v,S){this._document=n,this._rootElement=e,this._direction=t,this._initialDomRect=i,this._previewTemplate=r,this._previewClass=a,this._pickupPositionOnPage=c,this._initialTransform=m,this._zIndex=v,this._renderer=S}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),Qs(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return K_(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,t=n?n.template:null,i;if(t&&n){let r=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(t,n.context);a.detectChanges(),i=nd(a,this._document),this._previewEmbeddedView=a,n.matchSize?js(i,r):i.style.transform=gn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=qr(this._rootElement),js(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Ur(i.style,{"pointer-events":"none",margin:Qs(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Q_),Bi(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>i.classList.add(r)):i.classList.add(e)),i}};function Qs(o){return"showPopover"in o}var W_={passive:!0},Ws={passive:!1},Z_={passive:!1,capture:!0},Y_=800,Zs="cdk-drag-placeholder",Ys=new Set(["position"]),zr=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=U(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ue;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=si.EMPTY;_pointerUpSubscription=si.EMPTY;_scrollSubscription=si.EMPTY;_resizeSubscription=si.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Bi(e,n)))}_disabled=!1;beforeStarted=new ue;started=new ue;released=new ue;ended=new ue;entered=new ue;exited=new ue;dropped=new ue;moved=this._moveEvents;data;constrainPosition;constructor(n,e,t,i,r,a,c){this._config=e,this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a,this._renderer=c,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Mo(t),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>Nt(t)),this._handles.forEach(t=>Bi(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=Nt(n);if(e!==this._rootElement){this._removeRootElementListeners();let t=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"mousedown",this._pointerDown,Ws),t.listen(e,"touchstart",this._pointerDown,W_),t.listen(e,"dragstart",this._nativeDragStart,Ws)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Nt(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&j_(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),t=0,i=0;e.left<n.left?t=n.left-e.left:e.right>n.right&&(t=n.right-e.right),e.top<n.top?i=n.top-e.top:e.bottom>n.bottom&&(i=n.bottom-e.bottom);let r=this._activeTransform.x,a=this._activeTransform.y,c=r+t,m=a+i;this._rootElement.style.transform=gn(c,m),this._activeTransform={x:c,y:m},this._passiveTransform={x:c,y:m}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Bi(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Bi(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let i=Math.abs(e.x-this._pickupPositionOnPage.x),r=Math.abs(e.y-this._pickupPositionOnPage.y);if(i+r>=this._config.dragStartThreshold){let c=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),m=this._dropContainer;if(!c){this._endDragSequence(n);return}(!m||!m.isDragging()&&!m.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=t.x-i.x+this._passiveTransform.x,r.y=t.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:n,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){mn(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",X_,Z_)}),t){let i=this._rootElement,r=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),c=this._marker=this._marker||this._document.createComment("");r.insertBefore(c,i),this._initialTransform=i.style.transform||"",this._preview=new Br(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,e)),Us(i,!1,Ys),this._document.body.appendChild(r.replaceChild(a,i)),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),i=mn(e),r=!i&&e.button!==0,a=this._rootElement,c=un(e),m=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+Y_>Date.now(),v=i?Ps(e):Vs(e);if(c&&c.draggable&&e.type==="mousedown"&&e.preventDefault(),t||r||m||v)return;if(this._handles.length){let N=a.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=Gr(this._boundaryElement));let S=this._previewTemplate;this._pickupPositionInElement=S&&S.template&&!S.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let z=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:z.x,y:z.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){Us(this._rootElement,!0,Ys),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),i=this._getPointerPositionOnPage(n),r=this._getDragDistance(i),a=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r,dropPoint:i,event:n}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:i,event:n}),e.drop(this,t,this._initialIndex,this._initialContainer,a,r,i,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),c=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(r,this._dropContainer,c),this._dropContainer=r,this._dropContainer.enter(this,n,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,i),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let i=c=>{(!c||this._preview&&un(c)===this._preview.element&&c.propertyName==="transform")&&(a(),t(),clearTimeout(r))},r=setTimeout(i,e*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=nd(this._placeholderRef,this._document)):t=qr(this._rootElement),t.style.pointerEvents="none",t.classList.add(Zs),t}_getPointerPositionInElement(n,e,t){let i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():n,a=mn(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition(),m=a.pageX-r.left-c.left,v=a.pageY-r.top-c.top;return{x:r.left-n.left+m,y:r.top-n.top+v}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),t=mn(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,i=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=r,c.matrixTransform(a.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:i}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:m,height:v}=this._getPreviewRect(),S=c.top+a,z=c.bottom-(v-a),N=c.left+r,Ce=c.right-(m-r);t=Xs(t,N,Ce),i=Xs(i,S,z)}return{x:t,y:i}}_updatePointerDirectionDelta(n){let{x:e,y:t}=n,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),c=Math.abs(t-r.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),c>this._config.pointerDirectionChangeThreshold&&(i.y=t>r.y?1:-1,r.y=t),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Bi(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let t=1/this.scale,i=gn(n*t,e*t),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=Oo(i,this._initialTransform)}_applyPreviewTransform(n,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,i=gn(n,e);this._preview.setTransform(Oo(i,t))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||t.width===0&&t.height===0)return;let r=i.left-t.left,a=t.right-i.right,c=i.top-t.top,m=t.bottom-i.bottom;i.width>t.width?(r>0&&(n+=r),a>0&&(n-=a)):n=0,i.height>t.height?(c>0&&(e+=c),m>0&&(e-=m)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:mn(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let t=un(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&fn(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ko(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let t=this._previewContainer||"global";if(t==="parent")return n;if(t==="global"){let i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Nt(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}_conditionallyInsertAnchor(n,e,t){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let i=this._anchor??=qr(this._placeholder);i.classList.remove(Zs),i.classList.add("cdk-drag-anchor"),i.style.transform="",t?t.before(i):Nt(e.element).appendChild(i)}}};function Xs(o,n,e){return Math.max(n,Math.min(e,o))}function mn(o){return o.type[0]==="t"}function X_(o){o.preventDefault()}function Vo(o,n,e){let t=Js(n,o.length-1),i=Js(e,o.length-1);if(t===i)return;let r=o[t],a=i<t?-1:1;for(let c=t;c!==i;c+=a)o[c]=o[c+a];o[i]=r}function Js(o,n){return Math.max(0,Math.min(n,o))}var No=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,t,i){let r=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,t,i);if(a===-1&&r.length>0)return null;let c=this.orientation==="horizontal",m=r.findIndex(Le=>Le.drag===n),v=r[a],S=r[m].clientRect,z=v.clientRect,N=m>a?1:-1,Ce=this._getItemOffsetPx(S,z,N),Ze=this._getSiblingOffsetPx(m,r,N),vt=r.slice();return Vo(r,m,a),r.forEach((Le,zt)=>{if(vt[zt]===Le)return;let Pt=Le.drag===n,yi=Pt?Ce:Ze,ai=Pt?n.getPlaceholderElement():Le.drag.getRootElement();Le.offset+=yi;let li=Math.round(Le.offset*(1/Le.drag.scale));c?(ai.style.transform=Oo(`translate3d(${li}px, 0, 0)`,Le.initialTransform),fn(Le.clientRect,0,yi)):(ai.style.transform=Oo(`translate3d(0, ${li}px, 0)`,Le.initialTransform),fn(Le.clientRect,yi,0))}),this._previousSwap.overlaps=Lr(z,e,t),this._previousSwap.drag=v.drag,this._previousSwap.delta=c?i.x:i.y,{previousIndex:m,currentIndex:a}}enter(n,e,t,i){let r=i==null||i<0?this._getItemIndexFromPointerPosition(n,e,t):i,a=this._activeDraggables,c=a.indexOf(n),m=n.getPlaceholderElement(),v=a[r];if(v===n&&(v=a[r+1]),!v&&(r==null||r===-1||r<a.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(v=a[0]),c>-1&&a.splice(c,1),v&&!this._dragDropRegistry.isDragging(v)){let S=v.getRootElement();S.parentElement.insertBefore(m,S),a.splice(r,0,n)}else this._element.appendChild(m),a.push(n);m.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let t=this._itemPositions.find(i=>i.drag===n)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(e=>e.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:t})=>{fn(t,n,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Gr(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,e,t){let i=this.orientation==="horizontal",r=i?e.left-n.left:e.top-n.top;return t===-1&&(r+=i?e.width-n.width:e.height-n.height),r}_getSiblingOffsetPx(n,e,t){let i=this.orientation==="horizontal",r=e[n].clientRect,a=e[n+t*-1],c=r[i?"width":"height"]*t;if(a){let m=i?"left":"top",v=i?"right":"bottom";t===-1?c-=a.clientRect[m]-r[v]:c+=r[m]-a.clientRect[v]}return c}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,i=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let a=t[t.length-1].clientRect;return i?n>=a.right:e>=a.bottom}else{let a=t[0].clientRect;return i?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,t,i){let r=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:c,clientRect:m})=>{if(c===n)return!1;if(i){let v=r?i.x:i.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1}return r?e>=Math.floor(m.left)&&e<Math.floor(m.right):t>=Math.floor(m.top)&&t<Math.floor(m.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},Hr=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let i=e[t];this._relatedNodes.push([i,i.nextSibling])}this.withItems(n)}sort(n,e,t,i){let r=this._getItemIndexFromPointerPosition(n,e,t),a=this._previousSwap;if(r===-1||this._activeItems[r]===n)return null;let c=this._activeItems[r];if(a.drag===c&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let m=this.getItemIndex(n),v=n.getPlaceholderElement(),S=c.getRootElement();r>m?S.after(v):S.before(v),Vo(this._activeItems,m,r);let z=this._getRootNode().elementFromPoint(e,t);return a.deltaX=i.x,a.deltaY=i.y,a.drag=c,a.overlaps=S===z||S.contains(z),{previousIndex:m,currentIndex:r}}enter(n,e,t,i){let r=this._activeItems.indexOf(n);r>-1&&this._activeItems.splice(r,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(n,e,t):i;a===-1&&(a=this._getClosestItemIndexToPointer(n,e,t));let c=this._activeItems[a];c&&!this._dragDropRegistry.isDragging(c)?(this._activeItems.splice(a,0,n),c.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[i,r]=this._relatedNodes[t];i.parentNode===n&&i.nextSibling!==r&&(r===null?n.appendChild(i):r.parentNode===n&&n.insertBefore(i,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,t){let i=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),r=i?this._activeItems.findIndex(a=>{let c=a.getRootElement();return i===c||c.contains(i)}):-1;return r===-1||!this._sortPredicate(r,n)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=ko(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,r=-1;for(let a=0;a<this._activeItems.length;a++){let c=this._activeItems[a];if(c!==n){let{x:m,y:v}=c.getRootElement().getBoundingClientRect(),S=Math.hypot(e-m,t-v);S<i&&(i=S,r=a)}}return r}},ed=.05,od=.05,St=(function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o})(St||{}),ut=(function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o})(ut||{}),$r=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ue;entered=new ue;exited=new ue;dropped=new ue;sorted=new ue;receivingStarted=new ue;receivingStopped=new ue;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=si.EMPTY;_verticalScrollDirection=St.NONE;_horizontalScrollDirection=ut.NONE;_scrollNode;_stopScrollTimers=new ue;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,t,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r;let a=this.element=Nt(n);this._document=t,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Mo(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,t,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,i,r,a,c,m={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:r,distance:a,dropPoint:c,event:m})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>n.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof No&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new Hr(this._document,this._dragDropRegistry);else{let e=new No(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=Nt(this.element),t=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(n);return t>-1&&this._scrollableElements.splice(t,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,i){if(this.sortingDisabled||!this._domRect||!Gs(this._domRect,ed,e,t))return;let r=this._sortStrategy.sort(n,e,t,i);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,i=St.NONE,r=ut.NONE;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||t||Gs(a.clientRect,ed,n,e)&&([i,r]=J_(c,a.clientRect,this._direction,n,e),(i||r)&&(t=c))}),!i&&!r){let{width:a,height:c}=this._viewportRuler.getViewportSize(),m={width:a,height:c,top:0,right:a,bottom:c,left:0};i=rd(m,e),r=ad(m,n),t=window}t&&(i!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=t,(i||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ia(0,cr).pipe(xi(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===St.UP?n.scrollBy(0,-e):this._verticalScrollDirection===St.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===ut.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===ut.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&Lr(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(i=>i._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._domRect||!Lr(this._domRect,e,t)||!this.enterPredicate(n,this))return!1;let i=this._getShadowRoot().elementFromPoint(e,t);return i?i===this._container||this._container.contains(i):!1}_startReceiving(n,e){let t=this._activeSiblings;!t.has(n)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=ko(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function rd(o,n){let{top:e,bottom:t,height:i}=o,r=i*od;return n>=e-r&&n<=e+r?St.UP:n>=t-r&&n<=t+r?St.DOWN:St.NONE}function ad(o,n){let{left:e,right:t,width:i}=o,r=i*od;return n>=e-r&&n<=e+r?ut.LEFT:n>=t-r&&n<=t+r?ut.RIGHT:ut.NONE}function J_(o,n,e,t,i){let r=rd(n,i),a=ad(n,t),c=St.NONE,m=ut.NONE;if(r){let v=o.scrollTop;r===St.UP?v>0&&(c=St.UP):o.scrollHeight-v>o.clientHeight&&(c=St.DOWN)}if(a){let v=o.scrollLeft;e==="rtl"?a===ut.RIGHT?v<0&&(m=ut.RIGHT):o.scrollWidth+v>o.clientWidth&&(m=ut.LEFT):a===ut.LEFT?v>0&&(m=ut.LEFT):o.scrollWidth-v>o.clientWidth&&(m=ut.RIGHT)}return[c,m]}var hn={capture:!0},Rr={passive:!1,capture:!0},e0=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=B({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return o})(),ld=(()=>{class o{_ngZone=_(Xe);_document=_(Et);_styleLoader=_(As);_renderer=_(wi).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ue;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=U([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new ue;pointerUp=new ue;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Rr)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(e0),this._activeDragInstances.update(i=>[...i,e]),this._activeDragInstances().length===1)){let i=t.type.startsWith("touch"),r=c=>this.pointerUp.next(c),a=[["scroll",c=>this._scroll.next(c),hn],["selectstart",this._preventDefaultWhileDragging,Rr]];i?a.push(["touchend",r,hn],["touchcancel",r,hn]):a.push(["mouseup",r,hn]),i||a.push(["mousemove",c=>this.pointerMove.next(c),Rr]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([c,m,v])=>this._renderer.listen(this._document,c,m,v))})}}stopDragging(e){this._activeDragInstances.update(t=>{let i=t.indexOf(e);return i>-1?(t.splice(i,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this._scroll];return e&&e!==this._document&&t.push(new di(i=>this._ngZone.runOutsideAngular(()=>{let r=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},hn);return()=>{r()}}))),On(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),t0={dragStartThreshold:5,pointerDirectionChangeThreshold:5},jr=(()=>{class o{_document=_(Et);_ngZone=_(Xe);_viewportRuler=_(qs);_dragDropRegistry=_(ld);_renderer=_(wi).createRenderer(null,null);constructor(){}createDrag(e,t=t0){return new zr(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new $r(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),td=new ae("CDK_DRAG_PARENT");var i0=new ae("CdkDragHandle");var Po=new ae("CDK_DRAG_CONFIG"),sd=new ae("CdkDropList"),dd=(()=>{class o{element=_(ht);dropContainer=_(sd,{optional:!0,skipSelf:!0});_ngZone=_(Xe);_viewContainerRef=_(on);_dir=_(Vr,{optional:!0});_changeDetectorRef=_(et);_selfHandle=_(i0,{optional:!0,self:!0});_parentDrag=_(td,{optional:!0,skipSelf:!0});_dragDropRegistry=_(ld);_destroyed=new ue;_handles=new Mn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new M;released=new M;ended=new M;entered=new M;exited=new M;dropped=new M;moved=new di(e=>{let t=this._dragRef.moved.pipe(Sa(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=_(pi);constructor(){let e=this.dropContainer,t=_(Po,{optional:!0}),i=_(jr);this._dragRef=i.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(xi(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){nn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),i=t.indexOf(e);i>-1&&(t.splice(i,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Nt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,i=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof i=="object"&&i?i:Eo(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Ea(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){e.withParent(i._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:i,constrainPosition:r,previewClass:a,boundaryElement:c,draggingDisabled:m,rootElementSelector:v,previewContainer:S}=e;this.disabled=m??!1,this.dragStartDelay=i||0,this.lockAxis=t||null,r&&(this.constrainPosition=r),a&&(this.previewClass=a),c&&(this.boundaryElement=c),v&&(this.rootElementSelector=v),S&&(this.previewContainer=S)}_setupHandlesListener(){this._handles.pipe(Da(e=>{let t=e.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Ut(e=>On(...e.map(t=>t._stateChanges.pipe(Nn(t))))),xi(this._destroyed)).subscribe(e=>{let t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ht({type:o,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){t&2&&at("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",E],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",re]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Z([{provide:td,useExisting:o}]),en]})}return o})(),id=new ae("CdkDropListGroup");var cd=(()=>{class o{element=_(ht);_changeDetectorRef=_(et);_scrollDispatcher=_(Rs);_dir=_(Vr,{optional:!0});_group=_(id,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ue;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=_(Fo).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new M;entered=new M;exited=new M;sorted=new M;_unsortedItems=new Set;constructor(){let e=_(jr),t=_(Po,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(i,r)=>this.enterPredicate(i.data,r.data),this._dropListRef.sortPredicate=(i,r,a)=>this.sortPredicate(i,r.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let t=this._latestSortedRefs.indexOf(e._dragRef);t>-1&&(this._latestSortedRefs.splice(t,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=o._dropLists.indexOf(this);e>-1&&o._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Nn(this._dir.value),xi(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=Bs(this.connectedTo).map(i=>{if(typeof i=="string"){let r=o._dropLists.find(a=>a.id===i);return r}return i});if(this._group&&this._group._items.forEach(i=>{t.indexOf(i)===-1&&t.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(i)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Eo(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(t.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),On(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:i,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:c}=e;this.disabled=i??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=a??!1,this.orientation=c||"vertical",this.lockAxis=t||null}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ht({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){t&2&&(x("id",i.id),at("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",E],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",E],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",E],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",E]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Z([{provide:id,useValue:void 0},{provide:sd,useExisting:o}])]})}return o})();var pd=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({providers:[jr],imports:[Ls]})}return o})();var ud=`
    .p-listbox {
        display: block;
        background: dt('listbox.background');
        color: dt('listbox.color');
        border: 1px solid dt('listbox.border.color');
        border-radius: dt('listbox.border.radius');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('listbox.shadow');
    }

    .p-listbox.p-disabled {
        opacity: 1;
        background: dt('listbox.disabled.background');
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-disabled .p-listbox-option {
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-invalid {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        padding: dt('listbox.list.header.padding');
    }

    .p-listbox-filter {
        width: 100%;
    }

    .p-listbox-list-container {
        overflow: auto;
    }

    .p-listbox-list {
        list-style-type: none;
        margin: 0;
        padding: dt('listbox.list.padding');
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('listbox.list.gap');
    }

    .p-listbox-option {
        display: flex;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        padding: dt('listbox.option.padding');
        border: 0 none;
        border-radius: dt('listbox.option.border.radius');
        color: dt('listbox.option.color');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
    }

    .p-listbox-striped li:nth-child(even of .p-listbox-option) {
        background: dt('listbox.option.striped.background');
    }

    .p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {
        background: dt('listbox.option.selected.background');
        color: dt('listbox.option.selected.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {
        background: dt('listbox.option.selected.focus.background');
        color: dt('listbox.option.selected.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox-option-blank-icon {
        flex-shrink: 0;
    }

    .p-listbox-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('listbox.checkmark.gutter.start');
        margin-inline-end: dt('listbox.checkmark.gutter.end');
        color: dt('listbox.checkmark.color');
    }

    .p-listbox-option-group {
        margin: 0;
        padding: dt('listbox.option.group.padding');
        color: dt('listbox.option.group.color');
        background: dt('listbox.option.group.background');
        font-weight: dt('listbox.option.group.font.weight');
    }

    .p-listbox-empty-message {
        padding: dt('listbox.empty.message.padding');
    }

    .p-listbox-fluid {
        width: 100%;
    }
`;var o0=["item"],r0=["group"],a0=["header"],md=["filter"],l0=["footer"],s0=["emptyfilter"],d0=["empty"],c0=["filtericon"],p0=["checkicon"],u0=["checkmark"],m0=["loader"],h0=["headerchkbox"],f0=["lastHiddenFocusableElement"],g0=["firstHiddenFocusableElement"],_0=["scroller"],v0=["list"],b0=["container"],y0=[[["p-header"]],[["p-footer"]]],C0=["p-header","p-footer"],Ao=(o,n)=>({$implicit:o,options:n}),Kr=o=>({$implicit:o}),gd=o=>({options:o}),Qr=o=>({height:o}),x0=()=>({}),w0=(o,n,e)=>({option:o,i:n,scrollerOptions:e}),T0=(o,n,e,t)=>({$implicit:o,index:n,selected:e,disabled:t}),S0=o=>({implicit:o});function I0(o,n){o&1&&j(0)}function k0(o,n){if(o&1&&(p(0,"div",21),Kt(1),g(2,I0,1,0,"ng-container",22),u()),o&2){let e=l();b(e.cx("header")),s("pBind",e.ptm("header")),d(2),s("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",fe(5,Ao,e.modelValue(),e.visibleOptions()))}}function E0(o,n){}function D0(o,n){o&1&&g(0,E0,0,0,"ng-template")}function F0(o,n){if(o&1&&g(0,D0,1,0,null,22),o&2){let e=l(4);s("ngTemplateOutlet",e.checkIconTemplate||e._checkIconTemplate)("ngTemplateOutletContext",ce(2,Kr,e.allSelected()))}}function M0(o,n){o&1&&(Y(0),g(1,F0,1,4,"ng-template",null,5,ie),X())}function O0(o,n){if(o&1){let e=k();p(0,"p-checkbox",25,4),y("onChange",function(i){h(e);let r=l(2);return f(r.onToggleAll(i))}),g(2,M0,3,0,"ng-container",18),u()}if(o&2){let e=l(2);b(e.cx("optionCheckIcon")),s("ngModel",e.allSelected())("disabled",e.$disabled())("tabindex",-1)("variant",e.config.inputStyle()==="filled"||e.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0)("pt",e.ptm("pcCheckbox"))("unstyled",e.unstyled()),x("aria-label",e.toggleAllAriaLabel),d(2),s("ngIf",e.checkIconTemplate||e._checkIconTemplate)}}function N0(o,n){o&1&&j(0)}function V0(o,n){if(o&1&&(Y(0),g(1,N0,1,0,"ng-container",22),X()),o&2){let e=l(2);d(),s("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ce(2,gd,e.filterOptions))}}function P0(o,n){if(o&1&&(ee(),I(0,"svg",31)),o&2){let e=l(4);s("pBind",e.ptm("filterIcon")),x("aria-hidden",!0)}}function A0(o,n){}function R0(o,n){o&1&&g(0,A0,0,0,"ng-template")}function q0(o,n){if(o&1&&(p(0,"span"),g(1,R0,1,0,null,32),u()),o&2){let e=l(4);x("aria-hidden",!0),d(),s("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function L0(o,n){if(o&1){let e=k();p(0,"p-iconfield",26)(1,"input",28,6),y("input",function(i){h(e);let r=l(3);return f(r.onFilterChange(i))})("keydown",function(i){h(e);let r=l(3);return f(r.onFilterKeyDown(i))})("blur",function(i){h(e);let r=l(3);return f(r.onFilterBlur(i))}),u(),p(3,"p-inputicon",29),g(4,P0,1,2,"svg",30)(5,q0,2,2,"span",18),u()()}if(o&2){let e=l(3);s("pt",e.ptm("pcFilterContainer"))("unstyled",e.unstyled()),d(),b(e.cx("pcFilter")),s("value",e._filterValue()||"")("pt",e.ptm("pcFilter"))("unstyled",e.unstyled()),x("disabled",e.$disabled()?"":void 0)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)("tabindex",!e.$disabled()&&!e.focused?e.tabindex:-1),d(2),s("pt",e.ptm("pcFilterIconContainer"))("unstyled",e.unstyled()),d(),s("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),d(),s("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function B0(o,n){if(o&1&&(D(0,L0,6,17,"p-iconfield",26),p(1,"span",27),O(2),u()),o&2){let e=l(2);F(e.filter?0:-1),d(),s("pBind",e.ptm("hiddenFilterResult")),x("aria-live","polite")("data-p-hidden-accessible",!0),d(),ye(" ",e.filterResultMessageText," ")}}function z0(o,n){if(o&1&&(p(0,"div",21),g(1,O0,3,11,"p-checkbox",23)(2,V0,2,4,"ng-container",24)(3,B0,3,5,"ng-template",null,3,ie),u()),o&2){let e=Pe(4),t=l();b(t.cx("header")),s("pBind",t.ptm("header")),d(),s("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),d(),s("ngIf",t.filterTemplate||t._filterTemplate)("ngIfElse",e)}}function H0(o,n){if(o&1&&O(0),o&2){let e=l(2);ye(" ",e.emptyFilterMessageText," ")}}function $0(o,n){o&1&&j(0,null,7)}function G0(o,n){if(o&1&&g(0,$0,2,0,"ng-container",32),o&2){let e=l(2);s("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e._emptyTemplate||e.emptyTemplate)}}function U0(o,n){if(o&1&&(p(0,"div",21),D(1,H0,1,1)(2,G0,1,1,"ng-container"),u()),o&2){let e=l();b(e.cx("emptyMessage")),s("pBind",e.ptm("emptyMessage")),d(),F(!e.emptyFilterTemplate&&!e._emptyFilterTemplate&&!e._emptyTemplate&&!e.emptyTemplate?1:2)}}function j0(o,n){if(o&1&&O(0),o&2){let e=l(2);ye(" ",e.emptyMessage," ")}}function K0(o,n){o&1&&j(0,null,8)}function Q0(o,n){if(o&1&&g(0,K0,2,0,"ng-container",32),o&2){let e=l(2);s("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function W0(o,n){if(o&1&&(p(0,"div",21),D(1,j0,1,1)(2,Q0,1,1,"ng-container"),u()),o&2){let e=l();b(e.cx("emptyMessage")),s("pBind",e.ptm("emptyMessage")),d(),F(!e.emptyTemplate&&!e._emptyTemplate?1:2)}}function Z0(o,n){o&1&&j(0)}function Y0(o,n){if(o&1&&g(0,Z0,1,0,"ng-container",22),o&2){let e=n.$implicit,t=n.options;l(2);let i=Pe(3);s("ngTemplateOutlet",i)("ngTemplateOutletContext",fe(2,Ao,e,t))}}function X0(o,n){o&1&&j(0)}function J0(o,n){if(o&1&&g(0,X0,1,0,"ng-container",22),o&2){let e=n.options,t=l(4);s("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",ce(2,gd,e))}}function ev(o,n){o&1&&g(0,J0,1,4,"ng-template",null,12,ie)}function tv(o,n){if(o&1){let e=k();p(0,"p-scroller",34,10),y("onLazyLoad",function(i){h(e);let r=l(2);return f(r.onLazyLoad.emit(i))}),g(2,Y0,1,5,"ng-template",null,11,ie),D(4,ev,2,0),u()}if(o&2){let e=l(2);be(ce(10,Qr,e.scrollHeight)),s("pt",e.ptm("virtualScroller"))("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),d(4),F(e.loaderTemplate||e._loaderTemplate?4:-1)}}function iv(o,n){o&1&&j(0)}function nv(o,n){if(o&1&&(Y(0),g(1,iv,1,0,"ng-container",22),X()),o&2){l();let e=Pe(3),t=l();d(),s("ngTemplateOutlet",e)("ngTemplateOutletContext",fe(3,Ao,t.visibleOptions(),Ae(2,x0)))}}function ov(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(2).$implicit,t=l(3);d(),te(t.getOptionGroupLabel(e.optionGroup))}}function rv(o,n){o&1&&j(0)}function av(o,n){if(o&1){let e=k();Y(0),p(1,"li",37),y("cdkDragStarted",function(){h(e);let i=l(4);return f(i.isDragging.set(!0))})("cdkDragEnded",function(){h(e);let i=l(4);return f(i.isDragging.set(!1))}),g(2,ov,2,1,"span",18)(3,rv,1,0,"ng-container",22),u(),X()}if(o&2){let e=l(),t=e.$implicit,i=e.index,r=l().options,a=l(2);d(),b(a.cx("optionGroup")),s("pBind",a.getPTOptions(t.optionGroup,r,i,"optionGroup"))("ngStyle",ce(10,Qr,r.itemSize+"px"))("cdkDragData",t)("cdkDragDisabled",!a.dragdrop),x("id",a.id+"_"+a.getOptionIndex(i,r)),d(),s("ngIf",!a.groupTemplate&&!a._groupTemplate),d(),s("ngTemplateOutlet",a.groupTemplate||a._groupTemplate)("ngTemplateOutletContext",ce(12,Kr,t.optionGroup))}}function lv(o,n){}function sv(o,n){o&1&&g(0,lv,0,0,"ng-template")}function dv(o,n){if(o&1&&g(0,sv,1,0,null,22),o&2){let e=l(4).$implicit,t=l(3);s("ngTemplateOutlet",t.checkIconTemplate||t._checkIconTemplate)("ngTemplateOutletContext",ce(2,Kr,t.isSelected(e)))}}function cv(o,n){o&1&&(Y(0),g(1,dv,1,4,"ng-template",null,5,ie),X())}function pv(o,n){if(o&1&&(p(0,"p-checkbox",40),g(1,cv,3,0,"ng-container",18),u()),o&2){let e=l(2).$implicit,t=l(3);b(t.cx("optionCheckIcon")),s("ngModel",t.isSelected(e))("readonly",!0)("disabled",t.$disabled()||t.isOptionDisabled(e))("tabindex",-1)("variant",t.config.inputStyle()==="filled"||t.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0)("pt",t.ptm("pcCheckbox"))("unstyled",t.unstyled()),d(),s("ngIf",t.checkIconTemplate||t._checkIconTemplate)}}function uv(o,n){if(o&1&&(ee(),I(0,"svg",43)),o&2){let e=l(7);b(e.cx("optionBlankIcon")),s("pBind",e.ptm("optionBlankIcon"))}}function mv(o,n){if(o&1&&(ee(),I(0,"svg",44)),o&2){let e=l(7);b(e.cx("optionCheckIcon")),s("pBind",e.ptm("optionCheckIcon"))}}function hv(o,n){if(o&1&&(Y(0),g(1,uv,1,3,"svg",41)(2,mv,1,3,"svg",42),X()),o&2){let e=l(3).$implicit,t=l(3);d(),s("ngIf",!t.isSelected(e)),d(),s("ngIf",t.isSelected(e))}}function fv(o,n){o&1&&j(0)}function gv(o,n){if(o&1&&(Y(0),g(1,hv,3,2,"ng-container",18)(2,fv,1,0,"ng-container",22),X()),o&2){let e=l(2).$implicit,t=l(3);d(),s("ngIf",!t.checkmarkTemplate&&!t._checkmarkTemplate),d(),s("ngTemplateOutlet",t.checkmarkTemplate||t._checkmarkTemplate)("ngTemplateOutletContext",ce(3,S0,t.isSelected(e)))}}function _v(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(2).$implicit,t=l(3);d(),te(t.getOptionLabel(e))}}function vv(o,n){o&1&&j(0)}function bv(o,n){if(o&1){let e=k();Y(0),p(1,"li",38),y("click",function(i){h(e);let r=l(),a=r.$implicit,c=r.index,m=l().options,v=l(2);return f(v.onOptionSelect(i,a,v.getOptionIndex(c,m)))})("dblclick",function(i){h(e);let r=l().$implicit,a=l(3);return f(a.onOptionDoubleClick(i,r))})("mousedown",function(i){h(e);let r=l().index,a=l().options,c=l(2);return f(c.onOptionMouseDown(i,c.getOptionIndex(r,a)))})("mouseenter",function(i){h(e);let r=l().index,a=l().options,c=l(2);return f(c.onOptionMouseEnter(i,c.getOptionIndex(r,a)))})("touchend",function(){h(e);let i=l(4);return f(i.onOptionTouchEnd())})("cdkDragStarted",function(){h(e);let i=l(4);return f(i.isDragging.set(!0))})("cdkDragEnded",function(){h(e);let i=l(4);return f(i.isDragging.set(!1))}),g(2,pv,2,11,"p-checkbox",39)(3,gv,3,5,"ng-container",18)(4,_v,2,1,"span",18)(5,vv,1,0,"ng-container",22),u(),X()}if(o&2){let e=l(),t=e.$implicit,i=e.index,r=l().options,a=l(2);d(),b(a.cx("option",Wt(20,w0,t,i,r))),s("ngStyle",ce(24,Qr,r.itemSize+"px"))("pBind",a.getPTOptions(t,r,i,"option"))("cdkDragData",t)("cdkDragDisabled",!a.dragdrop),x("id",a.id+"_"+a.getOptionIndex(i,r))("aria-label",a.getOptionLabel(t))("aria-selected",a.isSelected(t))("aria-disabled",a.isOptionDisabled(t))("aria-setsize",a.ariaSetSize)("ariaPosInset",a.getAriaPosInset(a.getOptionIndex(i,r)))("data-p-selected",a.isSelected(t))("data-p-focused",a.focusedOptionIndex()===a.getOptionIndex(i,r))("data-p-disabled",a.isOptionDisabled(t)),d(),s("ngIf",a.checkbox&&a.multiple),d(),s("ngIf",a.checkmark),d(),s("ngIf",!a.itemTemplate&&!a._itemTemplate),d(),s("ngTemplateOutlet",a.itemTemplate||a._itemTemplate)("ngTemplateOutletContext",Ra(26,T0,t,a.getOptionIndex(i,r),a.isSelected(t),a.isOptionDisabled(t)))}}function yv(o,n){if(o&1&&g(0,av,4,14,"ng-container",18)(1,bv,6,31,"ng-container",18),o&2){let e=n.$implicit,t=l(3);s("ngIf",t.isOptionGroup(e)),d(),s("ngIf",!t.isOptionGroup(e))}}function Cv(o,n){if(o&1){let e=k();p(0,"ul",35,13),y("focus",function(i){h(e);let r=l(2);return f(r.onListFocus(i))})("blur",function(i){h(e);let r=l(2);return f(r.onListBlur(i))})("keydown",function(i){h(e);let r=l(2);return f(r.onListKeyDown(i))}),g(2,yv,2,2,"ng-template",36),u()}if(o&2){let e=n.$implicit,t=n.options,i=l(2);be(t.contentStyle),b(i.cx("list")),s("id",i.id+"_list")("tabindex",-1)("ngClass",t.contentStyleClass)("pBind",i.ptm("list")),x("aria-multiselectable",!0)("aria-activedescendant",i.focused?i.focusedOptionId:void 0)("aria-label",i.ariaLabel)("aria-disabled",i.$disabled()),d(2),s("ngForOf",e)}}function xv(o,n){if(o&1&&g(0,tv,5,12,"p-scroller",33)(1,nv,2,6,"ng-container",18)(2,Cv,3,13,"ng-template",null,9,ie),o&2){let e=l();s("ngIf",e.virtualScroll),d(),s("ngIf",!e.virtualScroll)}}function wv(o,n){o&1&&j(0)}function Tv(o,n){if(o&1&&(p(0,"div"),Kt(1,1),g(2,wv,1,0,"ng-container",22),u()),o&2){let e=l();d(2),s("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",fe(2,Ao,e.modelValue(),e.visibleOptions()))}}function Sv(o,n){if(o&1&&(p(0,"span",20),O(1),u()),o&2){let e=l();s("pBind",e.ptm("hiddenEmptyMessage")),d(),ye(" ",e.emptyMessage," ")}}var Iv=`
    ${ud}

    /* For PrimeNG */
    .p-listbox.ng-invalid.ng-dirty {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        display: flex;
        align-items: center;
    }

    .p-listbox-header > .p-iconfield {
        flex-grow: 1;
    }

    .p-listbox-list-container {
        height: 100%;
    }

    /* CDK Drag & Drop styles */
    .p-listbox-option.cdk-drag-preview {
        background: dt('listbox.background');
    }

    .p-listbox-dragging .p-listbox-option:not(.cdk-drag-preview) {
        pointer-events: none !important;
    }

    .p-listbox-dragging .p-listbox-option:not(.cdk-drag-preview):hover {
        background: inherit !important;
        color: inherit !important;
    }

    .cdk-drag-placeholder {
        pointer-events: none;
    }
`,kv={root:({instance:o})=>["p-listbox p-component",{"p-listbox-striped":o.striped,"p-disabled":o.$disabled(),"p-invalid":o.invalid(),"p-listbox-fluid":o.fluid(),"p-listbox-dragging":o.isDragging()}],header:"p-listbox-header",pcFilter:"p-listbox-filter",listContainer:"p-listbox-list-container",list:"p-listbox-list",optionGroup:"p-listbox-option-group",option:({instance:o,option:n,i:e,scrollerOptions:t})=>["p-listbox-option",{"p-listbox-option-selected":o.isSelected(n)&&o.highlightOnSelect,"p-focus":o.focusedOptionIndex()===o.getOptionIndex(e,t),"p-disabled":o.isOptionDisabled(n)}],optionCheckIcon:"p-listbox-option-check-icon",optionBlankIcon:"p-listbox-option-blank-icon",emptyMessage:"p-listbox-empty-message"},hd=(()=>{class o extends Te{name="listbox";style=Iv;classes=kv;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var fd=new ae("LISTBOX_INSTANCE"),Ev={provide:Se,useExisting:pe(()=>Ro),multi:!0},Ro=(()=>{class o extends ot{filterService;hostName="";bindDirectiveInstance=_(A,{self:!0});$pcListbox=_(fd,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover=!0;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="14rem";tabindex=0;multiple;styleClass;listStyle;listStyleClass;readonly;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()||""}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}striped=!1;highlightOnSelect=!0;checkmark=!1;dragdrop=!1;dropListData;cdkDropData=oe(()=>this.dropListData||this._options());fluid=R(void 0,{transform:E});onChange=new M;onClick=new M;onDblClick=new M;onFilter=new M;onFocus=new M;onBlur=new M;onSelectAllChange=new M;onLazyLoad=new M;onDrop=new M;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;containerViewChild;headerFacet;footerFacet;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;checkmarkTemplate;loaderTemplate;templates;_itemTemplate;_groupTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_filterIconTemplate;_checkIconTemplate;_checkmarkTemplate;_loaderTemplate;_filterValue=U(null);_filteredOptions;filterOptions;filtered;value;optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";_componentStyle=_(hd);get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return ft(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=U(null);startRangeIndex=U(-1);focusedOptionIndex=U(-1);isDragging=U(!1);onHostFocusOut(e){this.onFocusout(e)}visibleOptions=oe(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e){super(),this.filterService=e}onInit(){this.id=this.id||Ne("pn_id_"),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"checkicon":this._checkIconTemplate=e.template;break;case"checkmark":this._checkmarkTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((t,i,r)=>{t.push({optionGroup:i,group:!0,index:r});let a=this.getOptionGroupChildren(i);return a&&a.forEach(c=>t.push(c)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,t){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:this.value})}removeOption(e){return this.modelValue().filter(t=>!xr(t,this.getOptionValue(e),this.equalityKey()||""))}onOptionSelect(e,t,i=-1){this.$disabled()||this.isOptionDisabled(t)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,t):this.onOptionSelectSingle(e,t),this.optionTouched=!1,i!==-1&&this.focusedOptionIndex.set(i))}onOptionSelectMultiple(e,t){let i=this.isSelected(t),r=[];if(this.optionTouched?!1:this.metaKeySelection){let c=e.metaKey||e.ctrlKey;i?r=c?this.removeOption(t):[this.getOptionValue(t)]:(r=c?this.modelValue()||[]:[],r=[...r||[],this.getOptionValue(t)])}else r=i?this.removeOption(t):[...this.modelValue()||[],this.getOptionValue(t)];this.updateModel(r,e)}onOptionSelectSingle(e,t){let i=this.isSelected(t),r=!1,a=null;if(this.optionTouched?!1:this.metaKeySelection){let m=e.metaKey||e.ctrlKey;i?m&&(a=null,r=!0):(a=this.getOptionValue(t),r=!0)}else a=i?null:this.getOptionValue(t),r=!0;r&&this.updateModel(a,e)}onOptionSelectRange(e,t=-1,i=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(t)),t!==-1&&i!==-1){let r=Math.min(t,i),a=Math.max(t,i),c=this.visibleOptions().slice(r,a+1).filter(m=>this.isValidOption(m)).map(m=>this.getOptionValue(m));this.updateModel(c,e)}}onToggleAll(e){if(!(this.$disabled()||this.readonly))if(Be(this.headerCheckboxViewChild?.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.allSelected()?[]:this.visibleOptions().filter(i=>this.isValidOption(i)).map(i=>this.getOptionValue(i));this.updateModel(t,e),this.onChange.emit({originalEvent:e,value:this.value})}}allSelected(){return this.selectAll!==null?this.selectAll:ft(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.$disabled()||(this.optionTouched=!0)}onOptionMouseDown(e,t){this.changeFocusedOptionIndex(e,t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,t)}onOptionDoubleClick(e,t){this.$disabled()||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onFirstHiddenFocus(e){Be(this.listViewChild?.nativeElement);let t=fi(this.el?.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement?.nativeElement&&(this.lastHiddenFocusableElement.nativeElement.tabIndex=Ii(t)?-1:void 0),this.firstHiddenFocusableElement?.nativeElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=-1)}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild?.nativeElement){let i=fi(this.el?.nativeElement,':not([data-p-hidden-focusable="true"])');Be(i),this.firstHiddenFocusableElement?.nativeElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0)}else Be(this.firstHiddenFocusableElement?.nativeElement);this.lastHiddenFocusableElement?.nativeElement&&(this.lastHiddenFocusableElement.nativeElement.tabIndex=-1)}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(t),this.scrollInView(t),this.onFocus.emit(e),this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue="",this.onBlur.emit(e)}onHeaderCheckboxKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){Be(this.listViewChild?.nativeElement),e.preventDefault()}onFilterChange(e){let t=e.target.value?.trim();this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller?.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&t){let i=this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(i,e),e.preventDefault();break}!t&&zn(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowUpKey(e){let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onHomeKey(e,t=!1){if(t)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let i=e.metaKey||e.ctrlKey,r=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&i&&this.onOptionSelectRange(e,r,this.startRangeIndex()),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onEndKey(e,t=!1){if(t){let i=e.currentTarget,r=i.value.length;i.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}else{let i=e.metaKey||e.ctrlKey,r=this.findLastOptionIndex();this.multiple&&e.shiftKey&&i&&this.onOptionSelectRange(e,this.startRangeIndex(),r),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?Zt(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Zt(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?Zt(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionValue(e){return this.optionValue?Zt(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}getPTOptions(e,t,i,r){return this.ptm(r,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex()===this.getOptionIndex(i,t),disabled:this.isOptionDisabled(e)}})}hasSelectedOption(){return ft(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[t]))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let i=-1,r=!1;return this.focusedOptionIndex()!==-1?(i=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(a=>this.isOptionMatched(a)),i=i===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(a=>this.isOptionMatched(a)):i+this.focusedOptionIndex()):i=this.visibleOptions().findIndex(a=>this.isOptionMatched(a)),i!==-1&&(r=!0),i===-1&&this.focusedOptionIndex()===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e)?.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue?.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,i=xt(this.listViewChild?.nativeElement,`li[id="${t}"]`);i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Yt(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Yt(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(i=>this.isValidOption(i)):-1;return t>-1?t+e+1:e}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(i=>this.isValidSelectedOption(i)):-1;return t>-1?t+e+1:-1}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?Yt(this.visibleOptions().slice(0,e),i=>this.isValidSelectedOption(i)):-1;return t>-1?t:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let t=e>0?Yt(this.visibleOptions().slice(0,e),i=>this.isValidOption(i)):-1;return t>-1?t:e}findSelectedOptionIndex(){if(this.$filled())if(this.multiple)for(let e=this.modelValue().length-1;e>=0;e--){let t=this.modelValue()[e],i=this.visibleOptions().findIndex(r=>this.isValidSelectedOption(r)&&this.isEquals(t,this.getOptionValue(r)));if(i>-1)return i}else return this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e));return-1}findNearestSelectedOptionIndex(e,t=!1){let i=-1;return this.hasSelectedOption()&&(t?(i=this.findPrevSelectedOptionIndex(e),i=i===-1?this.findNextSelectedOptionIndex(e):i):(i=this.findNextSelectedOptionIndex(e),i=i===-1?this.findPrevSelectedOptionIndex(e):i)),i>-1?i:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return al(this.optionDisabled)?this.optionDisabled(e):this.optionDisabled?Zt(e,this.optionDisabled):!1}isEquals(e,t){return xr(e,t,this.equalityKey()||"")}isSelected(e){let t=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(i=>this.isEquals(i,t)):this.isEquals(this.modelValue(),t)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&(this._filterValue()?.trim().length||0)>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}onDragEntered(){this.isDragging.set(!0),this.el.nativeElement.setAttribute("p-listbox-dragging","true")}onDragExited(){this.isDragging.set(!1),this.el.nativeElement.setAttribute("p-listbox-dragging","false")}drop(e){if(this.isDragging.set(!1),e){if(this.dragdrop&&e.previousContainer===e.container){let t=[...this._options()];Vo(t,e.previousIndex,e.currentIndex),this._options.set(t),this.changeFocusedOptionIndex(e,e.currentIndex),this.modelValue()&&(this.writeModelValue(this.modelValue()),this.onModelChange(this.modelValue())),this.cd.markForCheck()}this.onDrop.emit(e)}}get containerDataP(){return this.cn({invalid:this.invalid(),disabled:this.$disabled()})}writeControlValue(e,t){this.value=e,t(this.value),this.cd.markForCheck()}onDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||o)($e(ll))};static \u0275cmp=B({type:o,selectors:[["p-listbox"],["p-listBox"],["p-list-box"]],contentQueries:function(t,i,r){if(t&1&&(P(r,$n,5),P(r,sl,5),P(r,o0,4),P(r,r0,4),P(r,a0,4),P(r,md,4),P(r,l0,4),P(r,s0,4),P(r,d0,4),P(r,c0,4),P(r,p0,4),P(r,u0,4),P(r,m0,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.headerFacet=a.first),w(a=T())&&(i.footerFacet=a.first),w(a=T())&&(i.itemTemplate=a.first),w(a=T())&&(i.groupTemplate=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.filterTemplate=a.first),w(a=T())&&(i.footerTemplate=a.first),w(a=T())&&(i.emptyFilterTemplate=a.first),w(a=T())&&(i.emptyTemplate=a.first),w(a=T())&&(i.filterIconTemplate=a.first),w(a=T())&&(i.checkIconTemplate=a.first),w(a=T())&&(i.checkmarkTemplate=a.first),w(a=T())&&(i.loaderTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(h0,5),H(md,5),H(f0,5),H(g0,5),H(_0,5),H(v0,5),H(b0,5)),t&2){let r;w(r=T())&&(i.headerCheckboxViewChild=r.first),w(r=T())&&(i.filterViewChild=r.first),w(r=T())&&(i.lastHiddenFocusableElement=r.first),w(r=T())&&(i.firstHiddenFocusableElement=r.first),w(r=T())&&(i.scroller=r.first),w(r=T())&&(i.listViewChild=r.first),w(r=T())&&(i.containerViewChild=r.first)}},hostVars:4,hostBindings:function(t,i){t&1&&y("focusout",function(a){return i.onHostFocusOut(a)}),t&2&&(x("id",i.id)("data-p",i.containerDataP),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{hostName:"hostName",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",E],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",E],searchLocale:[2,"searchLocale","searchLocale",E],focusOnHover:[2,"focusOnHover","focusOnHover",E],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",E],virtualScroll:[2,"virtualScroll","virtualScroll",E],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",re],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",re],multiple:[2,"multiple","multiple",E],styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",E],checkbox:[2,"checkbox","checkbox",E],filter:[2,"filter","filter",E],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",E],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",E],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",E],options:"options",filterValue:"filterValue",selectAll:"selectAll",striped:[2,"striped","striped",E],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",E],checkmark:[2,"checkmark","checkmark",E],dragdrop:[2,"dragdrop","dragdrop",E],dropListData:"dropListData",fluid:[1,"fluid"]},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange",onLazyLoad:"onLazyLoad",onDrop:"onDrop"},features:[Z([Ev,hd,{provide:Po,useValue:{zIndex:1200}},{provide:fd,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],ngContentSelectors:C0,decls:15,vars:20,consts:[["firstHiddenFocusableElement",""],["container",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["icon",""],["filterInput",""],["emptyFilter",""],["empty",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["list",""],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex","pBind"],[3,"class","pBind",4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListEntered","cdkDropListExited","ngStyle","cdkDropListData","pBind"],[3,"class","pBind"],[4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",3,"pBind",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible",3,"pBind"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngModel","disabled","tabindex","variant","binary","pt","unstyled","onChange",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"onChange","ngModel","disabled","tabindex","variant","binary","pt","unstyled"],["hostName","listbox",3,"pt","unstyled"],["role","status",1,"p-hidden-accessible",3,"pBind"],["pInputText","","type","text","role","searchbox","hostName","listbox",3,"input","keydown","blur","value","pt","unstyled"],[3,"pt","unstyled"],["data-p-icon","search",3,"pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],[4,"ngTemplateOutlet"],["hostName","listbox",3,"pt","items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],["hostName","listbox",3,"onLazyLoad","pt","items","itemSize","autoSize","lazy","options","tabindex"],["role","listbox",3,"focus","blur","keydown","id","tabindex","ngClass","pBind"],["ngFor","",3,"ngForOf"],["role","option","cdkDrag","",3,"cdkDragStarted","cdkDragEnded","pBind","ngStyle","cdkDragData","cdkDragDisabled"],["pRipple","","role","option","cdkDrag","",3,"click","dblclick","mousedown","mouseenter","touchend","cdkDragStarted","cdkDragEnded","ngStyle","pBind","cdkDragData","cdkDragDisabled"],["hostName","listbox",3,"class","ngModel","readonly","disabled","tabindex","variant","binary","pt","unstyled",4,"ngIf"],["hostName","listbox",3,"ngModel","readonly","disabled","tabindex","variant","binary","pt","unstyled"],["data-p-icon","blank",3,"class","pBind",4,"ngIf"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],["data-p-icon","blank",3,"pBind"],["data-p-icon","check",3,"pBind"]],template:function(t,i){if(t&1){let r=k();hi(y0),p(0,"span",14,0),y("focus",function(c){return h(r),f(i.onFirstHiddenFocus(c))}),u(),g(2,k0,3,8,"div",15)(3,z0,5,6,"div",15),p(4,"div",16,1),y("cdkDropListDropped",function(c){return h(r),f(i.drop(c))})("cdkDropListEntered",function(){return h(r),f(i.onDragEntered())})("cdkDropListExited",function(){return h(r),f(i.onDragExited())}),D(6,U0,3,4,"div",17)(7,W0,3,4,"div",17)(8,xv,4,2),u(),g(9,Tv,3,5,"div",18)(10,Sv,2,2,"span",19),p(11,"span",20),O(12),u(),p(13,"span",14,2),y("focus",function(c){return h(r),f(i.onLastHiddenFocus(c))}),u()}t&2&&(s("tabindex",i.$disabled()?-1:i.tabindex)("pBind",i.ptm("hiddenFirstFocusableElement")),x("data-p-hidden-focusable",!0),d(2),s("ngIf",i.headerFacet||i.headerTemplate||i._headerTemplate),d(),s("ngIf",i.checkbox&&i.multiple&&i.showToggleAll||i.filter),d(),b(i.cn(i.cx("listContainer"),i.listStyleClass)),Je("max-height",i.virtualScroll?"auto":i.scrollHeight||"auto"),s("ngStyle",i.listStyle)("cdkDropListData",i.cdkDropData())("pBind",i.ptm("listContainer")),d(2),F(i.hasFilter()&&i.isEmpty()?6:!i.hasFilter()&&i.isEmpty()?7:8),d(3),s("ngIf",i.footerFacet||i.footerTemplate||i._footerTemplate),d(),s("ngIf",i.isEmpty()),d(),s("pBind",i.ptm("hiddenSelectedMessage")),d(),ye(" ",i.selectedMessageText," "),d(),s("tabindex",i.$disabled()?-1:i.tabindex)("pBind",i.ptm("hiddenLastFocusableEl")),x("data-p-hidden-focusable",!0))},dependencies:[K,tt,Ct,Ie,we,Oe,Xt,Yn,Mi,Kn,ni,xl,Oi,it,Cl,Fe,qe,Ue,G,pd,cd,dd,ke,A],encapsulation:2,changeDetection:0})}return o})(),_d=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[Ro,G,G]})}return o})();var vd=`
    .p-tree {
        display: block;
        background: dt('tree.background');
        color: dt('tree.color');
        padding: dt('tree.padding');
        position: relative;
    }

    .p-tree-root-children,
    .p-tree-node-children {
        display: flex;
        list-style-type: none;
        flex-direction: column;
        margin: 0;
        gap: dt('tree.gap');
    }

    .p-tree-root-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
    }

    .p-tree-node-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
        padding-inline-start: dt('tree.indent');
    }

    .p-tree-node {
        padding: 0;
        outline: 0 none;
    }

    .p-tree-node-content {
        border-radius: dt('tree.node.border.radius');
        padding: dt('tree.node.padding');
        display: flex;
        align-items: center;
        outline-color: transparent;
        color: dt('tree.node.color');
        gap: dt('tree.node.gap');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
    }

    .p-tree-node-content[data-p-dragging] {
        outline: 1px dashed dt('primary.color');
        outline-offset: -1px;
    }

    .p-tree-node-content[data-pc-section="drag-image"] {
        background: dt('tree.background');
    }

    .p-tree-node:focus-visible > .p-tree-node-content {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
        color: dt('tree.node.icon.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected {
        background: dt('tree.node.selected.background');
        color: dt('tree.node.selected.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
        color: inherit;
    }

    .p-tree-node-content.p-tree-node-dragover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content:focus-visible,
    .p-tree-node-content.p-tree-node-contextmenu-selected {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-drop-point {
		outline: 1px solid dt('primary.color');
	}

    .p-tree-node-toggle-button {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
        width: dt('tree.node.toggle.button.size');
        height: dt('tree.node.toggle.button.size');
        color: dt('tree.node.toggle.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('tree.node.toggle.button.border.radius');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            border-color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
        outline-color: transparent;
        padding: 0;
    }

    .p-tree-node-toggle-button:enabled:hover {
        background: dt('tree.node.toggle.button.hover.background');
        color: dt('tree.node.toggle.button.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
        background: dt('tree.node.toggle.button.selected.hover.background');
        color: dt('tree.node.toggle.button.selected.hover.color');
    }

    .p-tree-root {
        overflow: auto;
    }

    .p-tree-node-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
        visibility: hidden;
    }

    .p-tree-node-icon {
        color: dt('tree.node.icon.color');
        transition: color dt('tree.transition.duration');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
        color: dt('tree.node.icon.selected.color');
    }

    .p-tree-filter {
        margin: dt('tree.filter.margin');
    }

    .p-tree-filter-input {
        width: 100%;
    }

    .p-tree-loading-icon {
        font-size: dt('tree.loading.icon.size');
        width: dt('tree.loading.icon.size');
        height: dt('tree.loading.icon.size');
    }

    .p-tree .p-tree-mask {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tree-flex-scrollable {
        display: flex;
        flex: 1;
        height: 100%;
        flex-direction: column;
    }

    .p-tree-flex-scrollable .p-tree-root {
        flex: 1;
    }
`;var xd=o=>({height:o}),Fv=(o,n)=>({$implicit:o,loading:n}),Mv=(o,n,e)=>({$implicit:o,partialSelected:n,class:e}),wd=o=>({$implicit:o}),Ov=()=>({next:!0});function Nv(o,n){if(o&1&&I(0,"div",9),o&2){let e=l(2);b(e.cx("dropPoint")),s("pBind",e.getPTOptions("dropPoint")),x("aria-hidden",!0)}}function Vv(o,n){if(o&1&&(ee(),I(0,"svg",13)),o&2){let e=l(4);b(e.cx("nodeToggleIcon")),s("pBind",e.getPTOptions("nodeToggleIcon"))}}function Pv(o,n){if(o&1&&(ee(),I(0,"svg",14)),o&2){let e=l(4);b(e.cx("nodeToggleIcon")),s("pBind",e.getPTOptions("nodeToggleIcon"))}}function Av(o,n){if(o&1&&(Y(0),g(1,Vv,1,3,"svg",11)(2,Pv,1,3,"svg",12),X()),o&2){let e=l(3);d(),s("ngIf",!e.node.expanded),d(),s("ngIf",e.node.expanded)}}function Rv(o,n){if(o&1&&(Y(0),ee(),I(1,"svg",15),X()),o&2){let e=l(3);d(),b(e.cx("nodeToggleIcon")),s("pBind",e.getPTOptions("nodeToggleIcon"))}}function qv(o,n){if(o&1&&(Y(0),g(1,Av,3,2,"ng-container",6)(2,Rv,2,3,"ng-container",6),X()),o&2){let e=l(2);d(),s("ngIf",!e.node.loading),d(),s("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function Lv(o,n){}function Bv(o,n){o&1&&g(0,Lv,0,0,"ng-template")}function zv(o,n){if(o&1&&(p(0,"span",9),g(1,Bv,1,0,null,16),u()),o&2){let e=l(2);b(e.cx("nodeToggleIcon")),s("pBind",e.getPTOptions("nodeToggleIcon")),d(),s("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",fe(5,Fv,e.node.expanded,e.node.loading))}}function Hv(o,n){}function $v(o,n){o&1&&g(0,Hv,0,0,"ng-template")}function Gv(o,n){if(o&1&&g(0,$v,1,0,null,16),o&2){let e=l(4);s("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",Wt(2,Mv,e.isSelected(),e.node.partialSelected,e.cx("nodeCheckbox")))}}function Uv(o,n){o&1&&(Y(0),g(1,Gv,1,6,"ng-template",null,0,ie),X())}function jv(o,n){if(o&1){let e=k();p(0,"p-checkbox",17),y("click",function(i){return h(e),f(i.preventDefault())}),g(1,Uv,3,0,"ng-container",6),u()}if(o&2){let e=l(2);s("ngModel",e.isSelected())("styleClass",e.cx("nodeCheckbox"))("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",(e.tree==null?null:e.tree.config.inputStyle())==="filled"||(e.tree==null?null:e.tree.config.inputVariant())==="filled"?"filled":"outlined")("tabindex",-1)("pt",e.getPTOptions("pcNodeCheckbox"))("unstyled",e.unstyled()),x("data-p-partialchecked",e.node.partialSelected),d(),s("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function Kv(o,n){if(o&1&&I(0,"span",9),o&2){let e=l(2);b(e.getIcon()),s("pBind",e.getPTOptions("nodeIcon"))}}function Qv(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(2);d(),te(e.node.label)}}function Wv(o,n){o&1&&j(0)}function Zv(o,n){if(o&1&&(p(0,"span"),g(1,Wv,1,0,"ng-container",16),u()),o&2){let e=l(2);d(),s("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",ce(2,wd,e.node))}}function Yv(o,n){if(o&1&&I(0,"div",9),o&2){let e=l(2);b(e.cx("dropPoint",Ae(4,Ov))),s("pBind",e.getPTOptions("dropPoint")),x("aria-hidden",!0)}}function Xv(o,n){if(o&1&&I(0,"p-treeNode",20),o&2){let e=n.$implicit,t=n.first,i=n.last,r=n.index,a=l(3);s("node",e)("parentNode",a.node)("firstChild",t)("lastChild",i)("index",r)("itemSize",a.itemSize)("level",a.level+1)("loadingMode",a.loadingMode)("pt",a.pt)("unstyled",a.unstyled())}}function Jv(o,n){if(o&1&&(p(0,"ul",18),g(1,Xv,1,10,"p-treeNode",19),u()),o&2){let e=l(2);b(e.cx("nodeChildren")),s("pBind",e.ptm("nodeChildren")),d(),s("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function eb(o,n){if(o&1){let e=k();p(0,"li",2),y("keydown",function(i){h(e);let r=l();return f(r.onKeyDown(i))}),D(1,Nv,1,4,"div",3),p(2,"div",4),y("click",function(i){h(e);let r=l();return f(r.onNodeClick(i))})("contextmenu",function(i){h(e);let r=l();return f(r.onNodeRightClick(i))})("dblclick",function(i){h(e);let r=l();return f(r.onNodeDblClick(i))})("touchend",function(){h(e);let i=l();return f(i.onNodeTouchEnd())})("drop",function(i){h(e);let r=l();return f(r.onNodeDrop(i))})("dragstart",function(i){h(e);let r=l();return f(r.onNodeDragStart(i))})("dragover",function(i){h(e);let r=l();return f(r.onNodeDragOver(i))})("dragleave",function(i){h(e);let r=l();return f(r.onNodeDragLeave(i))})("dragend",function(i){h(e);let r=l();return f(r.onNodeDragEnd(i))}),p(3,"button",5),y("click",function(i){h(e);let r=l();return f(r.toggle(i))}),g(4,qv,3,2,"ng-container",6)(5,zv,2,8,"span",7),u(),g(6,jv,2,11,"p-checkbox",8)(7,Kv,1,3,"span",7),p(8,"span",9),g(9,Qv,2,1,"span",6)(10,Zv,2,4,"span",6),u()(),D(11,Yv,1,5,"div",3),g(12,Jv,2,5,"ul",10),u()}if(o&2){let e=l();be(e.node.style),b(e.cn(e.cx("node"),e.node.styleClass)),s("ngStyle",ce(36,xd,e.itemSize+"px"))("pBind",e.getPTOptions("node")),x("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),d(),F(e.isPrevDropPointActive()?1:-1),d(),b(e.cx("nodeContent")),Je("padding-left",e.level*e.indentation+"rem"),s("draggable",e.tree.draggableNodes)("pBind",e.getPTOptions("nodeContent")),d(),b(e.cx("nodeToggleButton")),s("pBind",e.getPTOptions("nodeToggleButton")),d(),s("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),d(),s("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),d(),s("ngIf",e.tree.selectionMode=="checkbox"),d(),s("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),d(),b(e.cx("nodeLabel")),s("pBind",e.getPTOptions("nodeLabel")),d(),s("ngIf",!e.tree.getTemplateForNode(e.node)),d(),s("ngIf",e.tree.getTemplateForNode(e.node)),d(),F(e.isNextDropPointActive()?11:-1),d(),s("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded)}}var bd=["filter"],tb=["node"],ib=["header"],nb=["footer"],ob=["loader"],rb=["empty"],ab=["togglericon"],lb=["checkboxicon"],sb=["loadingicon"],db=["filtericon"],cb=["scroller"],pb=["wrapper"],ub=["content"],mb=o=>({options:o});function hb(o,n){if(o&1&&I(0,"i",11),o&2){let e=l(2);b(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon)),s("pBind",e.ptm("loadingIcon"))}}function fb(o,n){if(o&1&&(ee(),I(0,"svg",13)),o&2){let e=l(3);b(e.cx("loadingIcon")),s("pBind",e.ptm("loadingIcon"))}}function gb(o,n){}function _b(o,n){o&1&&g(0,gb,0,0,"ng-template")}function vb(o,n){if(o&1&&(p(0,"span",11),g(1,_b,1,0,null,8),u()),o&2){let e=l(3);b(e.cx("loadingIcon")),s("pBind",e.ptm("loadingIcon")),d(),s("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function bb(o,n){if(o&1&&(Y(0),g(1,fb,1,3,"svg",12)(2,vb,2,4,"span",7),X()),o&2){let e=l(2);d(),s("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),d(),s("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function yb(o,n){if(o&1&&(p(0,"div",11),Va("p-overlay-mask-leave-active"),Na("p-overlay-mask-enter-active"),g(1,hb,1,3,"i",7)(2,bb,3,2,"ng-container",10),u()),o&2){let e=l();b(e.cx("mask")),s("pBind",e.ptm("mask")),d(),s("ngIf",e.loadingIcon),d(),s("ngIf",!e.loadingIcon)}}function Cb(o,n){o&1&&j(0)}function xb(o,n){o&1&&j(0)}function wb(o,n){if(o&1&&g(0,xb,1,0,"ng-container",14),o&2){let e=l();s("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ce(2,wd,e.filterOptions))}}function Tb(o,n){if(o&1&&(ee(),I(0,"svg",19)),o&2){let e=l(3);b(e.cx("filterIcon")),s("pBind",e.ptm("filterIcon"))}}function Sb(o,n){}function Ib(o,n){o&1&&g(0,Sb,0,0,"ng-template")}function kb(o,n){if(o&1&&(p(0,"span",11),g(1,Ib,1,0,null,8),u()),o&2){let e=l(3);b(e.cx("filterIcon")),s("pBind",e.ptm("filterIcon")),d(),s("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function Eb(o,n){if(o&1){let e=k();p(0,"p-iconfield",16)(1,"input",17,0),y("keydown.enter",function(i){return h(e),f(i.preventDefault())})("input",function(i){h(e);let r=l(2);return f(r._filter(i.target==null?null:i.target.value))}),u(),p(3,"p-inputicon",16),g(4,Tb,1,3,"svg",18)(5,kb,2,4,"span",7),u()()}if(o&2){let e=l(2);b(e.cx("pcFilterContainer")),s("pt",e.ptm("pcFilterContainer"))("unstyled",e.unstyled()),d(),b(e.cx("pcFilterInput")),s("pAutoFocus",e.filterInputAutoFocus)("pt",e.ptm("pcFilterInput"))("unstyled",e.unstyled()),x("placeholder",e.filterPlaceholder),d(2),s("pt",e.ptm("pcFilterIconContainer"))("unstyled",e.unstyled()),d(),s("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),d(),s("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function Db(o,n){if(o&1&&g(0,Eb,6,14,"p-iconfield",15),o&2){let e=l();s("ngIf",e.filter)}}function Fb(o,n){if(o&1&&I(0,"p-treeNode",25,3),o&2){let e=n.$implicit,t=n.first,i=n.last,r=n.index,a=l(2).options,c=l(3);s("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",t)("lastChild",i)("index",c.getIndex(a,r))("itemSize",a.itemSize)("indentation",c.indentation)("loadingMode",c.loadingMode)("pt",c.pt)("unstyled",c.unstyled())}}function Mb(o,n){if(o&1&&(p(0,"ul",23,2),g(2,Fb,2,12,"p-treeNode",24),u()),o&2){let e=l(),t=e.$implicit,i=e.options,r=l(3);be(i.contentStyle),b(r.cx("rootChildren")),s("ngClass",i.contentStyleClass)("pBind",r.ptm("rootChildren")),x("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy),d(2),s("ngForOf",t)("ngForTrackBy",r.trackBy)}}function Ob(o,n){if(o&1&&g(0,Mb,3,10,"ul",22),o&2){let e=n.$implicit;s("ngIf",e)}}function Nb(o,n){o&1&&j(0)}function Vb(o,n){if(o&1&&g(0,Nb,1,0,"ng-container",14),o&2){let e=n.options,t=l(4);s("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",ce(2,mb,e))}}function Pb(o,n){o&1&&(Y(0),g(1,Vb,1,4,"ng-template",null,4,ie),X())}function Ab(o,n){if(o&1){let e=k();p(0,"p-scroller",21,1),y("onScroll",function(i){h(e);let r=l(2);return f(r.onScroll.emit(i))})("onScrollIndexChange",function(i){h(e);let r=l(2);return f(r.onScrollIndexChange.emit(i))})("onLazyLoad",function(i){h(e);let r=l(2);return f(r.onLazyLoad.emit(i))}),g(2,Ob,1,1,"ng-template",null,2,ie)(4,Pb,3,0,"ng-container",10),u()}if(o&2){let e=l(2);be(ce(12,xd,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),s("items",e.serializedValue)("tabindex",-1)("styleClass",e.cx("wrapper"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("lazy",e.lazy)("options",e.virtualScrollOptions)("pt",e.ptm("virtualScroller")),x("data-p",e.wrapperDataP),d(4),s("ngIf",e.loaderTemplate||e._loaderTemplate)}}function Rb(o,n){if(o&1&&I(0,"p-treeNode",29),o&2){let e=n.$implicit,t=n.first,i=n.last,r=n.index,a=l(4);s("node",e)("firstChild",t)("lastChild",i)("index",r)("level",0)("loadingMode",a.loadingMode)("pt",a.pt)("unstyled",a.unstyled())}}function qb(o,n){if(o&1&&(p(0,"ul",27,2),g(2,Rb,1,8,"p-treeNode",28),u()),o&2){let e=l(3);b(e.cx("rootChildren")),s("pBind",e.ptm("rootChildren")),x("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),d(2),s("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function Lb(o,n){if(o&1&&(Y(0),p(1,"div",11,5),g(3,qb,3,7,"ul",26),u(),X()),o&2){let e=l(2);d(),b(e.cx("wrapper")),Je("max-height",e.scrollHeight),s("pBind",e.ptm("wrapper")),x("data-p",e.wrapperDataP),d(2),s("ngIf",e.getRootNode())}}function Bb(o,n){if(o&1&&(Y(0),g(1,Ab,5,14,"p-scroller",20)(2,Lb,4,7,"ng-container",10),X()),o&2){let e=l();d(),s("ngIf",e.virtualScroll),d(),s("ngIf",!e.virtualScroll)}}function zb(o,n){if(o&1&&(Y(0),O(1),X()),o&2){let e=l(2);d(),ye(" ",e.emptyMessageLabel," ")}}function Hb(o,n){}function $b(o,n){o&1&&g(0,Hb,0,0,"ng-template",null,6,ie)}function Gb(o,n){if(o&1&&(p(0,"div",11),g(1,zb,2,1,"ng-container",30)(2,$b,2,0,null,8),u()),o&2){let e=l();b(e.cx("emptyMessage")),s("pBind",e.ptm("emptyMessage")),d(),s("ngIf",!e.emptyTemplate&&!e._emptyTemplate)("ngIfElse",e.emptyFilter),d(),s("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function Ub(o,n){o&1&&j(0)}var jb={root:({instance:o})=>["p-tree p-component",{"p-tree-selectable":o.selectionMode!=null,"p-tree-loading":o.loading,"p-tree-flex-scrollable":o.scrollHeight==="flex","p-tree-node-dragover":o.dragHover}],mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:o})=>({"p-tree-node":!0,"p-tree-node-leaf":o.isLeaf()}),nodeContent:({instance:o})=>({"p-tree-node-content":!0,"p-tree-node-selectable":o.selectable,"p-tree-node-dragover":o.isNodeDropActive(),"p-tree-node-selected":o.selectionMode==="checkbox"&&o.tree.highlightOnSelect?o.checked:o.selected,"p-tree-node-contextmenu-selected":o.isContextMenuSelected()}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children",emptyMessage:"p-tree-empty-message",dropPoint:"p-tree-node-drop-point"},qo=(()=>{class o extends Te{name="tree";style=vd;classes=jb;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var yd=new ae("TREE_INSTANCE"),Cd=new ae("TREENODE_INSTANCE"),Kb=(()=>{class o extends ct{$pcTreeNode=_(Cd,{optional:!0,skipSelf:!0})??void 0;static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=_(pe(()=>qt));timeout;isPrevDropPointHovered=U(!1);isNextDropPointHovered=U(!1);isNodeDropHovered=U(!1);isPrevDropPointActive=oe(()=>this.isPrevDropPointHovered()&&this.isDroppable());isNextDropPointActive=oe(()=>this.isNextDropPointHovered()&&this.isDroppable());isNodeDropActive=oe(()=>this.isNodeDropHovered()&&this.isNodeDroppable());dropPosition=oe(()=>this.isPrevDropPointActive()?-1:this.isNextDropPointActive()?1:0);_componentStyle=_(qo);_selected=oe(()=>(this.tree.selection(),this.tree.isSelected(this.node)));_contextMenuSelected=oe(()=>{let e=this.tree.contextMenuSelection();return!e||!this.node?!1:e===this.node||e.key&&e.key===this.node.key});get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this._selected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this._selected():void 0}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get selectable(){return this.node?.selectable===!1?!1:this.tree?.selectionMode!=null}get subNodes(){return this.node?.parent?this.node.parent.children:this.tree.value}getPTOptions(e){return this.ptm(e,{context:{node:this.node,index:this.index,expanded:this.node?.expanded,selected:this.selected,checked:this.checked,partialChecked:this.node?.partialSelected,leaf:this.isLeaf()}})}onInit(){this.node.parent=this.parentNode;let t=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!t&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,o.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}isSelected(){return this._selected()}isContextMenuSelected(){return this._contextMenuSelected()}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}isDraggable(){return this.tree.draggableNodes}isDroppable(){return this.tree.droppableNodes&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)}isNodeDroppable(){return this.node?.droppable!==!1&&this.isDroppable()}isNodeDraggable(){return this.node?.draggable!==!1&&this.isDraggable()}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}onNodeDblClick(e){this.tree.onNodeDblClick(e,this.node)}insertNodeOnDrop(){let{dragNode:e,dragNodeIndex:t,dragNodeSubNodes:i}=this.tree;if(!this.node||t==null||!e||!i)return;let r=this.dropPosition(),a=this.subNodes||[],c=this.index||0,m=i===a?t>c?c:c-1:c;i.splice(t,1),r<0?a.splice(m,0,e):r>0?a.splice(m+1,0,e):(this.node.children=this.node.children||[],this.node.children.push(e)),this.tree.dragDropService.stopDrag({node:e,subNodes:a,index:t})}onNodeDrop(e){if(e.preventDefault(),e.stopPropagation(),this.isDroppable()){let{dragNode:t}=this.tree,i=this.dropPosition();(i!==0||i===0&&this.isNodeDroppable())&&(this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index,accept:()=>{this.insertNodeOnDrop()}}):(this.insertNodeOnDrop(),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index})))}this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragStart(e){if(this.isNodeDraggable()){e.dataTransfer.effectAllowed="all",e.dataTransfer?.setData("text","data");let t=e.currentTarget,i=t.cloneNode(!0),r=i.querySelector('[data-pc-section="nodetogglebutton"]'),a=i.querySelector('[data-pc-name="pcnodecheckbox"]');t.setAttribute("data-p-dragging","true"),i.style.width=Ti(t)+"px",i.style.height=il(t)+"px",i.setAttribute("data-pc-section","drag-image"),r.style.visibility="hidden",a?.remove(),document.body.appendChild(i),e.dataTransfer?.setDragImage(i,0,0),setTimeout(()=>document.body.removeChild(i),0),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.subNodes,index:this.index,scope:this.tree.draggableScope})}else e.preventDefault()}onNodeDragOver(e){if(this.isDroppable()){e.dataTransfer.dropEffect="copy";let i=e.currentTarget.getBoundingClientRect(),r=e.clientY-parseInt(i.top);this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1),r<i.height*.25?this.isPrevDropPointHovered.set(!0):r>i.height*.75?this.isNextDropPointHovered.set(!0):this.isNodeDroppable()&&this.isNodeDropHovered.set(!0)}else e.dataTransfer.dropEffect="none";this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onNodeDragLeave(){this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragEnd(e){e.currentTarget?.removeAttribute("data-p-dragging"),this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.subNodes,index:this.index})}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(t?.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let i=this.getParentNodeElement(t);i&&this.focusRowChange(t,i)}e.preventDefault()}onArrowDown(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target,i=t?.children[1];if(i&&i.children.length>0)this.focusRowChange(t,i.children[0]);else if(t?.parentElement?.nextElementSibling)this.focusRowChange(t,t.parentElement.nextElementSibling);else{let r=this.findNextSiblingOfAncestor(t?.parentElement);r&&this.focusRowChange(t,r)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let i=this.getParentNodeElement(t?.parentElement);i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=br(this.tree.el.nativeElement,'[data-pc-section="node"]'),t=[...e].some(i=>i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true");if([...e].forEach(i=>{i.tabIndex=-1}),t){let i=[...e].filter(r=>r.getAttribute("aria-selected")==="true"||r.getAttribute("aria-checked")==="true");i[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,t){if(this.tree.selectionMode!==null){let i=[...br(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=t===!1?-1:0,i.every(r=>r.tabIndex===-1)&&(i[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null}findLastVisibleDescendant(e){let i=Array.from(e.children).find(r=>r.getAttribute("data-pc-section")==="node")?.children[1];if(i&&i.children.length>0){let r=i.children[i.children.length-1];return this.findLastVisibleDescendant(r)}else return e}getParentNodeElement(e){let t=e.parentElement?.parentElement?.parentElement;return t?.tagName==="P-TREENODE"?t:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,t,i){e.tabIndex="-1",t.children[0].tabIndex="0",this.focusNode(i||t)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=xt(this.tree?.contentViewChild?.nativeElement,`[data-id="${this.node?.key??this.node?.data}"]`);Be(e)},1)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",E],index:[2,"index","index",re],firstChild:[2,"firstChild","firstChild",E],lastChild:[2,"lastChild","lastChild",E],level:[2,"level","level",re],indentation:[2,"indentation","indentation",re],itemSize:[2,"itemSize","itemSize",re],loadingMode:"loadingMode"},features:[Z([qo,{provide:Cd,useExisting:o},{provide:ge,useExisting:o}]),ne],decls:1,vars:1,consts:[["icon",""],["role","treeitem",3,"class","ngStyle","style","pBind"],["role","treeitem",3,"keydown","ngStyle","pBind"],[3,"class","pBind"],[3,"click","contextmenu","dblclick","touchend","drop","dragstart","dragover","dragleave","dragend","draggable","pBind"],["type","button","pRipple","","tabindex","-1",3,"click","pBind"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt","unstyled","click",4,"ngIf"],[3,"pBind"],["role","group",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"pBind"],["data-p-icon","chevron-down",3,"pBind"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt","unstyled"],["role","group",3,"pBind"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled"]],template:function(t,i){t&1&&D(0,eb,13,38,"li",1),t&2&&F(i.node?0:-1)},dependencies:[o,K,Ct,Ie,we,Oe,Xt,ni,Fe,qe,Ue,wl,Di,Sr,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),qt=(()=>{class o extends ct{dragDropService;bindDirectiveInstance=_(A,{self:!0});$pcTree=_(yd,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value;selectionMode;loadingMode="mask";selection=At(null);styleClass;contextMenu;contextMenuSelectionMode="joint";contextMenuSelection=At(null);draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterInputAutoFocus=!1;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,t)=>t;highlightOnSelect=!1;onNodeSelect=new M;onNodeUnselect=new M;onNodeExpand=new M;onNodeCollapse=new M;onNodeContextMenuSelect=new M;onNodeDoubleClick=new M;onNodeDrop=new M;onLazyLoad=new M;onScroll=new M;onScrollIndexChange=new M;onFilter=new M;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;contentViewChild;templates;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;onAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=_(qo);handleDropEvent(e){this.onDrop(e)}handleDragOverEvent(e){this.onDragOver(e)}handleDragEnterEvent(){this.onDragEnter()}handleDragLeaveEvent(e){this.onDragLeave(e)}constructor(e){super(),this.dragDropService=e}onInit(){this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}onChanges(e){e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild?.nativeElement?.value))}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ze.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,t,i,r){if(t&&t.length)for(let a of t){a.parent=e;let c={node:a,parent:e,level:i,visible:r&&(e?e.expanded:!0)};this.serializedValue.push(c),c.visible&&a.expanded&&this.serializeNodes(a,a.children,i+1,c.visible)}}onNodeClick(e,t){let r=e.target?.getAttribute?.("data-pc-section");if(!(r==="nodetogglebutton"||r==="nodetoggleicon")){if(this.selectionMode){if(t.selectable===!1){t.style="--p-focus-ring-color: none;";return}else t.style?.includes("--p-focus-ring-color")||(t.style=t.style?`${t.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(t=this.getNodeWithKey(t.key,this.filteredNodes),!t))return;let a=this.findIndexInSelection(t),c=a>=0,m=this.selection();if(this.isCheckboxSelectionMode())c?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection.set(m.filter((v,S)=>S!=a)),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection.set([...m||[],t]),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(this.nodeTouched?!1:this.metaKeySelection){let S=e.metaKey||e.ctrlKey;if(c&&S)this.isSingleSelectionMode()?this.selection.set(null):this.selection.set(m.filter((z,N)=>N!=a)),this.onNodeUnselect.emit({originalEvent:e,node:t});else{if(this.isSingleSelectionMode())this.selection.set(t);else if(this.isMultipleSelectionMode()){let z=S?m||[]:[];this.selection.set([...z,t])}this.onNodeSelect.emit({originalEvent:e,node:t})}}else this.isSingleSelectionMode()?c?(this.selection.set(null),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set(t),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})):c?(this.selection.set(m.filter((S,z)=>z!=a)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set([...m||[],t]),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})}))}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,t){if(this.contextMenu){let r=e.target.getAttribute("data-pc-section");if(r==="nodetogglebutton"||r==="nodetoggleicon")return;let c=this.findIndexInSelection(t)>=0,m=()=>{this.contextMenu.show(e),this.contextMenu.hideCallback=()=>{this.contextMenuSelection.set(null)},this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})};this.contextMenuSelectionMode==="separate"?(this.contextMenuSelection.set(t),m()):this.contextMenuSelectionMode==="joint"&&(c||(this.isSingleSelectionMode()?this.selection.set(t):this.selection.set([t])),m())}}onNodeDblClick(e,t){this.onNodeDoubleClick.emit({originalEvent:e,node:t})}findIndexInSelection(e){let t=-1,i=this.selection();if(this.selectionMode&&i)if(this.isSingleSelectionMode()){let r=i;t=r.key&&r.key===e.key||r==e?0:-1}else{let r=i;for(let a=0;a<r.length;a++){let c=r[a];if(c.key&&c.key===e.key||c==e){t=a;break}}}return t}syncNodeOption(e,t,i,r){let a=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;a&&(a[i]=r||e[i])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,t){for(let i of t){if(i.key===e)return i;if(i.children){let r=this.getNodeWithKey(e,i.children);if(r)return r}}}propagateUp(e,t){if(e.children&&e.children.length){let r=0,a=!1;for(let m of e.children)this.isSelected(m)?r++:m.partialSelected&&(a=!0);let c=this.selection()||[];if(t&&r==e.children.length)this.selection.set([...c,e]),e.partialSelected=!1;else{if(!t){let m=this.findIndexInSelection(e);m>=0&&this.selection.set(c.filter((v,S)=>S!=m))}a||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let i=e.parent;i&&this.propagateUp(i,t)}propagateDown(e,t){let i=this.findIndexInSelection(e),r=this.selection()||[];if(t&&i==-1?this.selection.set([...r,e]):!t&&i>-1&&this.selection.set(r.filter((a,c)=>c!=i)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let a of e.children)this.propagateDown(a,t)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(e.dataTransfer.dropEffect="copy",e.preventDefault())}onDrop(e){if(this.droppableNodes){e.preventDefault();let t=this.dragNode;if(this.isSameTreeScope(this.dragNodeScope))return;if(this.allowDrop(t,null,this.dragNodeScope)){let i=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:i,accept:()=>{this.processTreeDrop(t,i)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:i}),this.processTreeDrop(t,i))}}}processTreeDrop(e,t){this.dragNodeSubNodes.splice(t,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>parseInt(t.left)+t.width||e.x<parseInt(t.left)||e.y>parseInt(t.top)+t.height||e.y<parseInt(t.top))&&(this.dragHover=!1)}}allowDrop(e,t,i){if(e)if(this.isValidDragScope(i)){let r=!0;if(t)if(e===t)r=!1;else{let a=t.parent;for(;a!=null;){if(a===e){r=!1;break}a=a.parent}}return r}else return!1;else return!1}hasCommonScope(e,t){if(typeof t=="string"){if(typeof e=="string")return t===e;if(Array.isArray(e))return e.indexOf(t)!=-1}else if(Array.isArray(t)){if(typeof e=="string")return t.indexOf(e)!=-1;if(Array.isArray(e)){for(let i of t)for(let r of e)if(i===r)return!0}}return!1}isSameTreeScope(e){return this.hasCommonScope(e,this.draggableScope)}isValidDragScope(e){let t=this.droppableScope;return t?this.hasCommonScope(e,t):!0}_filter(e){let t=e;if(t==="")this.filteredNodes=null;else{this.filteredNodes=[];let i=this.filterBy.split(","),r=Tr(t).toLocaleLowerCase(this.filterLocale),a=this.filterMode==="strict";for(let c of this.value){let m=L({},c),v={searchFields:i,filterText:r,isStrictMode:a};(a&&(this.findFilteredNodes(m,v)||this.isFilterMatched(m,v))||!a&&(this.isFilterMatched(m,v)||this.findFilteredNodes(m,v)))&&this.filteredNodes.push(m)}}this.updateSerializedValue(),this.onFilter.emit({filter:t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,t){if(e){let i=!1;if(e.children){let r=[...e.children];e.children=[];for(let a of r){let c=L({},a);this.isFilterMatched(c,t)&&(i=!0,e.children.push(c))}}if(i)return e.expanded=!0,!0}}isFilterMatched(e,t){let{searchFields:i,filterText:r,isStrictMode:a}=t,c=!1;for(let m of i)Tr(String(Zt(e,m))).toLocaleLowerCase(this.filterLocale).indexOf(r)>-1&&(c=!0);return(!c||a&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{searchFields:i,filterText:r,isStrictMode:a})||c),c}getIndex(e,t){let i=e.getItemOptions;return i?i(t).index:t}getBlockableElement(){return this.el.nativeElement.children[0]}onDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}get containerDataP(){return this.cn({loading:this.loading,scrollable:this.scrollHeight==="flex"})}get wrapperDataP(){return this.cn({scrollable:this.scrollHeight==="flex"})}static \u0275fac=function(t){return new(t||o)($e(dl,8))};static \u0275cmp=B({type:o,selectors:[["p-tree"]],contentQueries:function(t,i,r){if(t&1&&(P(r,bd,4),P(r,tb,4),P(r,ib,4),P(r,nb,4),P(r,ob,4),P(r,rb,4),P(r,ab,4),P(r,lb,4),P(r,sb,4),P(r,db,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.filterTemplate=a.first),w(a=T())&&(i.nodeTemplate=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.footerTemplate=a.first),w(a=T())&&(i.loaderTemplate=a.first),w(a=T())&&(i.emptyTemplate=a.first),w(a=T())&&(i.togglerIconTemplate=a.first),w(a=T())&&(i.checkboxIconTemplate=a.first),w(a=T())&&(i.loadingIconTemplate=a.first),w(a=T())&&(i.filterIconTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(bd,5),H(cb,5),H(pb,5),H(ub,5)),t&2){let r;w(r=T())&&(i.filterViewChild=r.first),w(r=T())&&(i.scroller=r.first),w(r=T())&&(i.wrapperViewChild=r.first),w(r=T())&&(i.contentViewChild=r.first)}},hostVars:3,hostBindings:function(t,i){t&1&&y("drop",function(a){return i.handleDropEvent(a)})("dragover",function(a){return i.handleDragOverEvent(a)})("dragenter",function(){return i.handleDragEnterEvent()})("dragleave",function(a){return i.handleDragLeaveEvent(a)}),t&2&&(x("data-p",i.containerDataP),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:[1,"selection"],styleClass:"styleClass",contextMenu:"contextMenu",contextMenuSelectionMode:"contextMenuSelectionMode",contextMenuSelection:[1,"contextMenuSelection"],draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",E],droppableNodes:[2,"droppableNodes","droppableNodes",E],metaKeySelection:[2,"metaKeySelection","metaKeySelection",E],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",E],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",E],loading:[2,"loading","loading",E],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",E],filter:[2,"filter","filter",E],filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",E],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",E],virtualScroll:[2,"virtualScroll","virtualScroll",E],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",re],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",re],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",E]},outputs:{selection:"selectionChange",contextMenuSelection:"contextMenuSelectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDoubleClick:"onNodeDoubleClick",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[Z([qo,{provide:yd,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:7,vars:6,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"class","pt","unstyled"],[4,"ngIf"],[3,"pBind"],["data-p-icon","spinner","spin","",3,"class","pBind",4,"ngIf"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","pt","unstyled",4,"ngIf"],[3,"pt","unstyled"],["pInputText","","type","search","autocomplete","off",3,"keydown.enter","input","pAutoFocus","pt","unstyled"],["data-p-icon","search",3,"class","pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],["hostName","tree",3,"items","tabindex","styleClass","style","scrollHeight","itemSize","lazy","options","pt","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["hostName","tree",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","styleClass","scrollHeight","itemSize","lazy","options","pt"],["role","tree",3,"class","ngClass","style","pBind",4,"ngIf"],["role","tree",3,"ngClass","pBind"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled"],["role","tree",3,"class","pBind",4,"ngIf"],["role","tree",3,"pBind"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled"],[4,"ngIf","ngIfElse"]],template:function(t,i){if(t&1&&(g(0,yb,3,5,"div",7)(1,Cb,1,0,"ng-container",8),D(2,wb,1,4,"ng-container")(3,Db,1,1,"p-iconfield",9),g(4,Bb,3,2,"ng-container",10)(5,Gb,3,6,"div",7)(6,Ub,1,0,"ng-container",8)),t&2){let r;s("ngIf",i.loading&&i.loadingMode==="mask"),d(),s("ngTemplateOutlet",i.headerTemplate||i._headerTemplate),d(),F(i.filterTemplate||i._filterTemplate?2:3),d(2),s("ngIf",(r=i.getRootNode())==null?null:r.length),d(),s("ngIf",!i.loading&&(i.getRootNode()==null||i.getRootNode().length===0)),d(),s("ngTemplateOutlet",i.footerTemplate||i._footerTemplate)}},dependencies:[K,tt,Ct,Ie,we,Yn,G,Kn,Sr,it,Fe,Oi,Mi,Kb,jn,Ke,A],encapsulation:2,changeDetection:0})}return o})(),zi=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[qt,G,G]})}return o})();var Td=`
    .p-treeselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('treeselect.background');
        border: 1px solid dt('treeselect.border.color');
        transition:
            background dt('treeselect.transition.duration'),
            color dt('treeselect.transition.duration'),
            border-color dt('treeselect.transition.duration'),
            outline-color dt('treeselect.transition.duration'),
            box-shadow dt('treeselect.transition.duration');
        border-radius: dt('treeselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('treeselect.shadow');
    }

    .p-treeselect:not(.p-disabled):hover {
        border-color: dt('treeselect.hover.border.color');
    }

    .p-treeselect:not(.p-disabled).p-focus {
        border-color: dt('treeselect.focus.border.color');
        box-shadow: dt('treeselect.focus.ring.shadow');
        outline: dt('treeselect.focus.ring.width') dt('treeselect.focus.ring.style') dt('treeselect.focus.ring.color');
        outline-offset: dt('treeselect.focus.ring.offset');
    }

    .p-treeselect.p-variant-filled {
        background: dt('treeselect.filled.background');
    }

    .p-treeselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('treeselect.filled.hover.background');
    }

    .p-treeselect.p-variant-filled.p-focus {
        background: dt('treeselect.filled.focus.background');
    }

    .p-treeselect.p-invalid {
        border-color: dt('treeselect.invalid.border.color');
    }

    .p-treeselect.p-disabled {
        opacity: 1;
        background: dt('treeselect.disabled.background');
    }

    .p-treeselect-clear-icon {
        align-self: center;
        color: dt('treeselect.clear.icon.color');
        inset-inline-end: dt('treeselect.dropdown.width');
    }

    .p-treeselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('treeselect.dropdown.color');
        width: dt('treeselect.dropdown.width');
        border-start-end-radius: dt('border.radius.md');
        border-end-end-radius: dt('border.radius.md');
    }

    .p-treeselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-treeselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('treeselect.padding.y') / 2);
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('treeselect.padding.y') dt('treeselect.padding.x');
        color: dt('treeselect.color');
    }

    .p-treeselect-label.p-placeholder {
        color: dt('treeselect.placeholder.color');
    }

    .p-treeselect.p-invalid .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }

    .p-treeselect:has(.p-select-clear-icon) .p-treeselect-label {
        padding-inline-end: dt('treeselect.padding.x');
    }

    .p-treeselect.p-disabled .p-treeselect-label {
        color: dt('treeselect.disabled.color');
    }

    .p-treeselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-treeselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('treeselect.overlay.background');
        color: dt('treeselect.overlay.color');
        border: 1px solid dt('treeselect.overlay.border.color');
        border-radius: dt('treeselect.overlay.border.radius');
        box-shadow: dt('treeselect.overlay.shadow');
        overflow: hidden;
        min-width: 100%;
        will-change: transform;
    }

    .p-treeselect-tree-container {
        overflow: auto;
    }

    .p-treeselect-empty-message {
        padding: dt('treeselect.empty.message.padding');
        background: transparent;
    }

    .p-treeselect-fluid {
        display: flex;
    }

    .p-treeselect-overlay .p-tree {
        padding: dt('treeselect.tree.padding');
    }

    .p-treeselect-overlay .p-tree-loading {
        min-height: 3rem;
    }

    .p-treeselect-label .p-chip {
        padding-block-start: calc(dt('treeselect.padding.y') / 2);
        padding-block-end: calc(dt('treeselect.padding.y') / 2);
        border-radius: dt('treeselect.chip.border.radius');
    }

    .p-treeselect-label:has(.p-chip) {
        padding: calc(dt('treeselect.padding.y') / 2) calc(dt('treeselect.padding.x') / 2);
    }

    .p-treeselect-sm .p-treeselect-label {
        font-size: dt('treeselect.sm.font.size');
        padding-block: dt('treeselect.sm.padding.y');
        padding-inline: dt('treeselect.sm.padding.x');
    }

    .p-treeselect-sm .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.sm.font.size');
        width: dt('treeselect.sm.font.size');
        height: dt('treeselect.sm.font.size');
    }

    .p-treeselect-lg .p-treeselect-label {
        font-size: dt('treeselect.lg.font.size');
        padding-block: dt('treeselect.lg.padding.y');
        padding-inline: dt('treeselect.lg.padding.x');
    }

    .p-treeselect-lg .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.lg.font.size');
        width: dt('treeselect.lg.font.size');
        height: dt('treeselect.lg.font.size');
    }
`;var Qb=["value"],Wb=["header"],Zb=["empty"],Yb=["footer"],Xb=["clearicon"],Jb=["triggericon"],ey=["dropdownicon"],ty=["filtericon"],iy=["closeicon"],ny=["itemtogglericon"],oy=["itemcheckboxicon"],ry=["itemloadingicon"],ay=["focusInput"],ly=["filter"],sy=["tree"],dy=["panel"],cy=["overlay"],py=["firstHiddenFocusableEl"],uy=["lastHiddenFocusableEl"],my=(o,n)=>({$implicit:o,placeholder:n}),Sd=(o,n)=>({$implicit:o,options:n}),hy=o=>({"max-height":o}),fy=o=>({$implicit:o}),gy=(o,n)=>({$implicit:o,partialSelected:n});function _y(o,n){o&1&&j(0)}function vy(o,n){if(o&1&&(Y(0),g(1,_y,1,0,"ng-container",23),X()),o&2){let e=l();d(),s("ngTemplateOutlet",e.valueTemplate||e._valueTemplate)("ngTemplateOutletContext",fe(2,my,e.value,e.placeholder))}}function by(o,n){if(o&1&&(Y(0),O(1),X()),o&2){let e=l(2);d(),ye(" ",e.label||"empty"," ")}}function yy(o,n){if(o&1&&(p(0,"div",15),I(1,"p-chip",25),u()),o&2){let e=n.$implicit,t=l(3);b(t.cx("chipItem")),s("pBind",t.ptm("chipItem")),d(),b(t.cx("pcChip")),s("unstyled",t.unstyled())("label",e.label)("pt",t.ptm("pcChip"))}}function Cy(o,n){if(o&1&&(Y(0),O(1),X()),o&2){let e=l(3);d(),te(e.placeholder||"empty")}}function xy(o,n){if(o&1&&g(0,yy,2,8,"div",24)(1,Cy,2,1,"ng-container",18),o&2){let e=l(2);s("ngForOf",e.value),d(),s("ngIf",e.emptyValue)}}function wy(o,n){if(o&1&&g(0,by,2,1,"ng-container",17)(1,xy,2,2,"ng-template",null,4,ie),o&2){let e=Pe(2),t=l();s("ngIf",t.display==="comma")("ngIfElse",e)}}function Ty(o,n){if(o&1){let e=k();ee(),p(0,"svg",28),y("click",function(i){h(e);let r=l(2);return f(r.clear(i))}),u()}if(o&2){let e=l(2);b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon"))}}function Sy(o,n){}function Iy(o,n){o&1&&g(0,Sy,0,0,"ng-template")}function ky(o,n){if(o&1){let e=k();p(0,"span",29),y("click",function(i){h(e);let r=l(2);return f(r.clear(i))}),g(1,Iy,1,0,null,30),u()}if(o&2){let e=l(2);b(e.cx("clearIcon")),s("pBind",e.ptm("clearIcon")),d(),s("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function Ey(o,n){if(o&1&&(Y(0),g(1,Ty,1,3,"svg",26)(2,ky,2,4,"span",27),X()),o&2){let e=l();d(),s("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),d(),s("ngIf",e.clearIconTemplate||e.clearIconTemplate)}}function Dy(o,n){if(o&1&&(ee(),I(0,"svg",31)),o&2){let e=l();b(e.cx("dropdownIcon")),s("pBind",e.ptm("dropdownIcon"))}}function Fy(o,n){}function My(o,n){o&1&&g(0,Fy,0,0,"ng-template")}function Oy(o,n){if(o&1&&(p(0,"span",15),g(1,My,1,0,null,30),u()),o&2){let e=l();b(e.cx("dropdownIcon")),s("pBind",e.ptm("dropdownIcon")),d(),s("ngTemplateOutlet",e.triggerIconTemplate||e._triggerIconTemplate||e.dropdownIconTemplate||e._dropdownIconTemplate)}}function Ny(o,n){o&1&&j(0)}function Vy(o,n){o&1&&j(0)}function Py(o,n){if(o&1&&g(0,Vy,1,0,"ng-container",30),o&2){let e=l(3);s("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function Ay(o,n){o&1&&(Y(0),g(1,Py,1,1,"ng-template",null,9,ie),X())}function Ry(o,n){o&1&&j(0)}function qy(o,n){if(o&1&&g(0,Ry,1,0,"ng-container",23),o&2){let e=n.$implicit,t=l(3);s("ngTemplateOutlet",t.itemTogglerIconTemplate||t._itemTogglerIconTemplate)("ngTemplateOutletContext",ce(2,fy,e))}}function Ly(o,n){o&1&&g(0,qy,1,4,"ng-template",null,10,ie)}function By(o,n){o&1&&j(0)}function zy(o,n){if(o&1&&g(0,By,1,0,"ng-container",23),o&2){let e=n.$implicit,t=n.partialSelected,i=l(3);s("ngTemplateOutlet",i.itemCheckboxIconTemplate||i._itemCheckboxIconTemplate)("ngTemplateOutletContext",fe(2,gy,e,t))}}function Hy(o,n){o&1&&g(0,zy,1,5,"ng-template",null,11,ie)}function $y(o,n){o&1&&j(0)}function Gy(o,n){if(o&1&&g(0,$y,1,0,"ng-container",30),o&2){let e=l(3);s("ngTemplateOutlet",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate)}}function Uy(o,n){o&1&&g(0,Gy,1,1,"ng-template",null,12,ie)}function jy(o,n){o&1&&j(0)}function Ky(o,n){if(o&1){let e=k();p(0,"div",16,5)(2,"span",32,6),y("focus",function(i){h(e);let r=l();return f(r.onFirstHiddenFocus(i))}),u(),g(4,Ny,1,0,"ng-container",23),p(5,"div",16)(6,"p-tree",33,7),y("selectionChange",function(i){h(e);let r=l();return f(r.onSelectionChange(i))})("onNodeExpand",function(i){h(e);let r=l();return f(r.nodeExpand(i))})("onNodeCollapse",function(i){h(e);let r=l();return f(r.nodeCollapse(i))})("onNodeSelect",function(i){h(e);let r=l();return f(r.onSelect(i))})("onNodeUnselect",function(i){h(e);let r=l();return f(r.onUnselect(i))}),g(8,Ay,3,0,"ng-container",18)(9,Ly,2,0,null,18)(10,Hy,2,0,null,18)(11,Uy,2,0,null,18),u()(),g(12,jy,1,0,"ng-container",23),p(13,"span",32,8),y("focus",function(i){h(e);let r=l();return f(r.onLastHiddenFocus(i))}),u()()}if(o&2){let e=l();b(e.cn(e.cx("panel"),e.panelStyleClass,e.panelClass)),s("ngStyle",e.panelStyle)("pBind",e.ptm("panel")),x("id",e.listId),d(2),s("pBind",e.ptm("hiddenFirstFocusableEl")),x("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),d(2),s("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",fe(47,Sd,e.value,e.options)),d(),b(e.cx("treeContainer")),s("ngStyle",ce(50,hy,e.scrollHeight))("pBind",e.ptm("treeContainer")),d(),s("value",e.options)("propagateSelectionDown",e.propagateSelectionDown)("propagateSelectionUp",e.propagateSelectionUp)("selectionMode",e.selectionMode)("selection",e.value)("metaKeySelection",e.metaKeySelection)("emptyMessage",e.emptyMessage)("filter",e.filter)("filterBy",e.filterBy)("filterMode",e.filterMode)("filterPlaceholder",e.filterPlaceholder)("filterLocale",e.filterLocale)("filteredNodes",e.filteredNodes)("virtualScroll",e.virtualScroll)("virtualScrollItemSize",e.virtualScrollItemSize)("virtualScrollOptions",e.virtualScrollOptions)("_templateMap",e.templateMap)("loading",e.loading)("filterInputAutoFocus",e.filterInputAutoFocus)("loadingMode",e.loadingMode)("pt",e.ptm("pcTree"))("unstyled",e.unstyled()),d(2),s("ngIf",e.emptyTemplate||e._emptyTemplate),d(),s("ngIf",e.itemTogglerIconTemplate||e._itemTogglerIconTemplate),d(),s("ngIf",e.itemCheckboxIconTemplate||e._itemCheckboxIconTemplate),d(),s("ngIf",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate),d(),s("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",fe(52,Sd,e.value,e.options)),d(),s("pBind",e.ptm("hiddenLastFocusableEl")),x("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Qy=`
    ${Td}

    /* For PrimeNG */

    .p-treeselect.ng-invalid.ng-dirty {
        border-color: dt('treeselect.invalid.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty.p-focus {
        border-color: dt('treeselect.focus.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }

    .p-treeselect-clear-icon.p-icon {
        flex-shrink: 0;
    }
`,Wy={root:({instance:o})=>L({position:o.$appendTo()==="self"?"relative":void 0},o.containerStyle)},Zy={root:({instance:o})=>["p-treeselect p-component p-inputwrapper",{"p-treeselect-display-chip":o.display==="chip","p-disabled":o.$disabled(),"p-invalid":o.invalid(),"p-focus":o.focused,"p-variant-filled":o.$variant()==="filled","p-inputwrapper-filled":!o.emptyValue,"p-inputwrapper-focus":o.focused||o.overlayVisible,"p-treeselect-open":o.overlayVisible,"p-treeselect-clearable":o.showClear,"p-treeselect-fluid":o.hasFluid,"p-treeselect-sm p-inputfield-sm":o.size()==="small","p-treeselect-lg p-inputfield-lg":o.size()==="large"}],labelContainer:"p-treeselect-label-container",label:({instance:o})=>["p-treeselect-label",{"p-placeholder":o.label===o.placeholder,"p-treeselect-label-empty":!o.placeholder&&o.emptyValue}],clearIcon:"p-treeselect-clear-icon",chip:"p-treeselect-chip-item",pcChip:"p-treeselect-chip",dropdown:"p-treeselect-dropdown",dropdownIcon:"p-treeselect-dropdown-icon",panel:"p-treeselect-overlay p-component-overlay p-component",treeContainer:"p-treeselect-tree-container",emptyMessage:"p-treeselect-empty-message"},Id=(()=>{class o extends Te{name="treeselect";style=Qy;classes=Zy;inlineStyles=Wy;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Yy={provide:Se,useExisting:pe(()=>oi),multi:!0},kd=new ae("TREESELECT_INSTANCE"),oi=(()=>{class o extends ot{$pcTreeSelect=_(kd,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});_componentStyle=_(Id);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}inputId;scrollHeight="400px";metaKeySelection=!1;display="comma";selectionMode="single";tabindex="0";ariaLabel;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autofocus;get options(){return this._options}set options(e){this._options=e,this.updateTreeState()}loading;loadingMode="mask";size=R();variant=R();fluid=R(void 0,{transform:E});appendTo=R(void 0);motionOptions=R(void 0);onNodeExpand=new M;onNodeCollapse=new M;onShow=new M;onHide=new M;onClear=new M;onFilter=new M;onFocus=new M;onBlur=new M;onNodeUnselect=new M;onNodeSelect=new M;$appendTo=oe(()=>this.appendTo()||this.config.overlayAppendTo());focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;$variant=oe(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());pcFluid=_(bl,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;dropdownIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;templates;_valueTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_clearIconTemplate;_triggerIconTemplate;_filterIconTemplate;_closeIconTemplate;_itemTogglerIconTemplate;_itemCheckboxIconTemplate;_itemLoadingIconTemplate;_dropdownIconTemplate;focused;overlayVisible;value;expandedNodes=[];_options;templateMap;listId="";onHostClick(e){this.onClick(e)}onInit(){this.listId=Ne("pn_id_")+"_list",this.updateTreeState()}onAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"value":this._valueTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"triggericon":this._triggerIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"itemtogglericon":this._itemTogglerIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemloadingicon":this._itemLoadingIconTemplate=e.template;break;default:e.name?this.templateMap[e.name]=e.template:this.valueTemplate=e.template;break}})}onOverlayBeforeEnter(){if(this.filter)ft(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus();else{let e=ln(this.panelEl?.nativeElement);e&&e.length>0&&e[0].focus()}}onOverlayBeforeHide(){let e=ln(this.el.nativeElement);e&&e.length>0&&e[0].focus()}onSelectionChange(e){this.value=e,this.onModelChange(this.value),this.cd.markForCheck()}onClick(e){if(this.$disabled())return;let t=e.target?.getAttribute?.("data-pc-section");!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&t!=="box"&&t!=="icon"&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(e){switch(e.code){case"ArrowDown":this.overlayVisible||(this.show(),e.preventDefault()),this.onArrowDown(e),e.preventDefault();break;case"Space":case"Enter":this.overlayVisible||(this.show(),e.preventDefault());break;case"Escape":this.overlayVisible&&(this.hide(),this.focusInput?.nativeElement.focus(),e.preventDefault());break;case"Tab":this.onTabKey(e);break;default:break}}onFilterInput(e){this.filterValue=e.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({filter:this.filterValue,filteredValue:this.treeViewChild?.filteredNodes}),setTimeout(()=>{this.overlayViewChild?.alignOverlay()})}onArrowDown(e){if(this.overlayVisible&&this.panelEl?.nativeElement){let t=ln(this.panelEl.nativeElement,'[data-pc-section="node"]');t&&t.length>0&&t[0].focus(),e.preventDefault()}}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInput?.nativeElement?fi(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;Be(t)}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInput?.nativeElement?tl(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;Be(t)}show(){this.overlayVisible=!0}hide(e){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(e),this.cd.markForCheck()}clear(e){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),e.stopPropagation()}checkValue(){return this.value!==null&&ft(this.value)}onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(Be(e.shiftKey?this.lastHiddenFocusableElementOnOverlay?.nativeElement:this.firstHiddenFocusableElementOnOverlay?.nativeElement),e.preventDefault()):this.overlayVisible&&this.hide(this.filter))}hasFocusableElements(){return ln(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let e=this.selectionMode==="single"?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),e&&this.options&&this.updateTreeBranchState(null,null,e)}}updateTreeBranchState(e,t,i){if(e){if(this.isSelected(e)&&(this.expandPath(t),i.splice(i.indexOf(e),1)),i.length>0&&e.children)for(let r of e.children)this.updateTreeBranchState(r,[...t,e],i)}else for(let r of this.options)this.updateTreeBranchState(r,[],i)}expandPath(e){for(let t of e)t.expanded=!0;this.expandedNodes=[...e]}nodeExpand(e){this.onNodeExpand.emit(e),this.expandedNodes.push(e.node),setTimeout(()=>{this.overlayViewChild?.alignOverlay()})}nodeCollapse(e){this.onNodeCollapse.emit(e),this.expandedNodes.splice(this.expandedNodes.indexOf(e.node),1),setTimeout(()=>{this.overlayViewChild?.alignOverlay()})}resetExpandedNodes(){for(let e of this.expandedNodes)e.expanded=!1;this.expandedNodes=[]}resetPartialSelected(e=this.options){if(e)for(let t of e)t.partialSelected=!1,t.children&&t.children?.length>0&&this.resetPartialSelected(t.children)}findSelectedNodes(e,t,i){if(e){if(this.isSelected(e)&&(i.push(e),delete t[e.key]),Object.keys(t).length&&e.children)for(let r of e.children)this.findSelectedNodes(r,t,i)}else for(let r of this.options)this.findSelectedNodes(r,t,i)}isSelected(e){return this.findIndexInSelection(e)!=-1}findIndexInSelection(e){let t=-1;if(this.value)if(this.selectionMode==="single")t=this.value.key&&this.value.key===e.key||this.value==e?0:-1;else for(let i=0;i<this.value.length;i++){let r=this.value[i];if(r.key&&r.key===e.key||r==e){t=i;break}}return t}onSelect(e){this.onNodeSelect.emit(e),this.selectionMode==="single"&&(this.hide(),this.focusInput?.nativeElement.focus())}onUnselect(e){this.onNodeUnselect.emit(e)}onInputFocus(e){this.$disabled()||(this.focused=!0,this.onFocus.emit(e))}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}writeControlValue(e){this.value=e,this.updateTreeState(),this.cd.markForCheck()}get emptyValue(){return!this.value||Object.keys(this.value).length===0}get emptyOptions(){return!this.options||this.options.length===0}get label(){let e=this.value||[];return e.length?e.map(t=>t.label).join(", "):this.selectionMode==="single"&&this.value?e.label:this.placeholder}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-treeSelect"],["p-treeselect"],["p-tree-select"]],contentQueries:function(t,i,r){if(t&1&&(P(r,Qb,4),P(r,Wb,4),P(r,Zb,4),P(r,Yb,4),P(r,Xb,4),P(r,Jb,4),P(r,ey,4),P(r,ty,4),P(r,iy,4),P(r,ny,4),P(r,oy,4),P(r,ry,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.valueTemplate=a.first),w(a=T())&&(i.headerTemplate=a.first),w(a=T())&&(i.emptyTemplate=a.first),w(a=T())&&(i.footerTemplate=a.first),w(a=T())&&(i.clearIconTemplate=a.first),w(a=T())&&(i.triggerIconTemplate=a.first),w(a=T())&&(i.dropdownIconTemplate=a.first),w(a=T())&&(i.filterIconTemplate=a.first),w(a=T())&&(i.closeIconTemplate=a.first),w(a=T())&&(i.itemTogglerIconTemplate=a.first),w(a=T())&&(i.itemCheckboxIconTemplate=a.first),w(a=T())&&(i.itemLoadingIconTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(ay,5),H(ly,5),H(sy,5),H(dy,5),H(cy,5),H(py,5),H(uy,5)),t&2){let r;w(r=T())&&(i.focusInput=r.first),w(r=T())&&(i.filterViewChild=r.first),w(r=T())&&(i.treeViewChild=r.first),w(r=T())&&(i.panelEl=r.first),w(r=T())&&(i.overlayViewChild=r.first),w(r=T())&&(i.firstHiddenFocusableElementOnOverlay=r.first),w(r=T())&&(i.lastHiddenFocusableElementOnOverlay=r.first)}},hostVars:4,hostBindings:function(t,i){t&1&&y("mousedown",function(a){return i.onHostClick(a)}),t&2&&(be(i.sx("root")),b(i.cn(i.cx("root"),i.containerStyleClass)))},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",metaKeySelection:[2,"metaKeySelection","metaKeySelection",E],display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",filter:[2,"filter","filter",E],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",E],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",E],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",E],showClear:[2,"showClear","showClear",E],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",E],virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autofocus:[2,"autofocus","autofocus",E],options:"options",loading:[2,"loading","loading",E],loadingMode:"loadingMode",size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"],motionOptions:[1,"motionOptions"]},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[Z([Yy,Id,{provide:kd,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:16,vars:37,consts:[["focusInput",""],["defaultValueTemplate",""],["overlay",""],["content",""],["chipsValueTemplate",""],["panel",""],["firstHiddenFocusableEl",""],["tree",""],["lastHiddenFocusableEl",""],["empty",""],["togglericon",""],["checkboxicon",""],["loadingicon",""],[1,"p-hidden-accessible",3,"pBind"],["type","text","role","combobox","readonly","",3,"focus","blur","keydown","pAutoFocus","pBind"],[3,"pBind"],[3,"ngStyle","pBind"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","tree",3,"pBind"],["data-p-icon","chevron-down",3,"class","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"visibleChange","onBeforeEnter","onBeforeHide","onShow","onHide","hostAttrSelector","visible","options","target","appendTo","unstyled","pt","motionOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","pBind",4,"ngFor","ngForOf"],[3,"unstyled","label","pt"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"class","pBind","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[3,"click","pBind"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down",3,"pBind"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","pBind"],[3,"selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect","value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filter","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","virtualScroll","virtualScrollItemSize","virtualScrollOptions","_templateMap","loading","filterInputAutoFocus","loadingMode","pt","unstyled"]],template:function(t,i){if(t&1){let r=k();p(0,"div",13)(1,"input",14,0),y("focus",function(c){return h(r),f(i.onInputFocus(c))})("blur",function(c){return h(r),f(i.onInputBlur(c))})("keydown",function(c){return h(r),f(i.onKeyDown(c))}),u()(),p(3,"div",15)(4,"div",16),g(5,vy,2,5,"ng-container",17)(6,wy,3,2,"ng-template",null,1,ie),u()(),g(8,Ey,3,2,"ng-container",18),p(9,"div",19),g(10,Dy,1,3,"svg",20)(11,Oy,2,4,"span",21),u(),p(12,"p-overlay",22,2),de("visibleChange",function(c){return h(r),le(i.overlayVisible,c)||(i.overlayVisible=c),f(c)}),y("onBeforeEnter",function(){return h(r),f(i.onOverlayBeforeEnter())})("onBeforeHide",function(){return h(r),f(i.onOverlayBeforeHide())})("onShow",function(c){return h(r),f(i.onShow.emit(c))})("onHide",function(c){return h(r),f(i.hide(c))}),g(14,Ky,15,55,"ng-template",null,3,ie),u()}if(t&2){let r=Pe(7);s("pBind",i.ptm("hiddenInputContainer")),x("data-p-hidden-accessible",!0),d(),s("pAutoFocus",i.autofocus)("pBind",i.ptm("hiddenInput")),x("id",i.inputId)("disabled",i.$disabled()?"":void 0)("tabindex",i.$disabled()?-1:i.tabindex)("aria-controls",i.overlayVisible?i.listId:null)("aria-haspopup","tree")("aria-expanded",i.overlayVisible??!1)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel||(i.label==="p-emptylabel"?void 0:i.label)),d(2),b(i.cx("labelContainer")),s("pBind",i.ptm("labelContainer")),d(),b(i.cn(i.cx("label"),i.labelStyleClass)),s("ngStyle",i.labelStyle)("pBind",i.ptm("label")),d(),s("ngIf",i.valueTemplate||i._valueTemplate)("ngIfElse",r),d(3),s("ngIf",i.checkValue()&&!i.$disabled()&&i.showClear),d(),b(i.cx("dropdown")),s("pBind",i.ptm("dropdown")),x("aria-expanded",i.overlayVisible??!1)("aria-label","treeselect trigger"),d(),s("ngIf",!i.triggerIconTemplate&&!i._triggerIconTemplate&&!i.dropdownIconTemplate&&!i._dropdownIconTemplate),d(),s("ngIf",i.triggerIconTemplate||i._triggerIconTemplate||i.dropdownIconTemplate||i._dropdownIconTemplate),d(),s("hostAttrSelector",i.$attrSelector),se("visible",i.overlayVisible),s("options",i.overlayOptions)("target","@parent")("appendTo",i.$appendTo())("unstyled",i.unstyled())("pt",i.ptm("pcOverlay"))("motionOptions",i.motionOptions())}},dependencies:[K,Ct,Ie,we,Oe,We,G,qt,Ke,Gt,Di,Bl,A],encapsulation:2,changeDetection:0})}return o})(),ri=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[oi,G,G]})}return o})();var Ed=`
    .p-scrollpanel-content-container {
        overflow: hidden;
        width: 100%;
        height: 100%;
        position: relative;
        z-index: 1;
        float: left;
    }

    .p-scrollpanel-content {
        height: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        width: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        padding-inline: 0 calc(2 * dt('scrollpanel.bar.size'));
        padding-block: 0 calc(2 * dt('scrollpanel.bar.size'));
        position: relative;
        overflow: auto;
        box-sizing: border-box;
        scrollbar-width: none;
    }

    .p-scrollpanel-content::-webkit-scrollbar {
        display: none;
    }

    .p-scrollpanel-bar {
        position: relative;
        border-radius: dt('scrollpanel.bar.border.radius');
        z-index: 2;
        cursor: pointer;
        opacity: 0;
        outline-color: transparent;
        background: dt('scrollpanel.bar.background');
        border: 0 none;
        transition:
            outline-color dt('scrollpanel.transition.duration'),
            opacity dt('scrollpanel.transition.duration');
    }

    .p-scrollpanel-bar:focus-visible {
        box-shadow: dt('scrollpanel.bar.focus.ring.shadow');
        outline: dt('scrollpanel.barfocus.ring.width') dt('scrollpanel.bar.focus.ring.style') dt('scrollpanel.bar.focus.ring.color');
        outline-offset: dt('scrollpanel.barfocus.ring.offset');
    }

    .p-scrollpanel-bar-y {
        width: dt('scrollpanel.bar.size');
        inset-block-start: 0;
    }

    .p-scrollpanel-bar-x {
        height: dt('scrollpanel.bar.size');
        inset-block-end: 0;
    }

    .p-scrollpanel-hidden {
        visibility: hidden;
    }

    .p-scrollpanel:hover .p-scrollpanel-bar,
    .p-scrollpanel:active .p-scrollpanel-bar {
        opacity: 1;
    }

    .p-scrollpanel-grabbed {
        user-select: none;
    }
`;var Dd=["content"],Xy=["xBar"],Jy=["yBar"],eC=["*"];function tC(o,n){o&1&&Kt(0)}function iC(o,n){o&1&&j(0)}var nC=`
    ${Ed}

    .p-scrollpanel {
        display: block;
    }
`,oC={root:"p-scrollpanel p-component",contentContainer:"p-scrollpanel-content-container",content:"p-scrollpanel-content",barX:"p-scrollpanel-bar p-scrollpanel-bar-x",barY:"p-scrollpanel-bar p-scrollpanel-bar-y"},Fd=(()=>{class o extends Te{name="scrollpanel";style=nC;classes=oC;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Md=new ae("SCROLLPANEL_INSTANCE"),Yr=(()=>{class o extends ct{$pcScrollPanel=_(Md,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;step=5;contentViewChild;xBarViewChild;yBarViewChild;contentTemplate;templates;_contentTemplate;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;_componentStyle=_(Fd);zone=_(Xe);onInit(){this.contentId=Ne("pn_id_")+"_content"}onAfterViewInit(){Ge(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}calculateContainerHeight(){let e=this.el.nativeElement,t=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,r=this.document.defaultView,a=r.getComputedStyle(e),c=r.getComputedStyle(i),m=el(e)-parseInt(c.height,10);a["max-height"]!="none"&&m==0&&(t.offsetHeight+parseInt(c.height,10)>parseInt(a["max-height"],10)?e.style.height=a["max-height"]:e.style.height=t.offsetHeight+parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)+"px")}moveBar(){let e=this.el.nativeElement,t=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,r=t.scrollWidth,a=t.clientWidth,c=(e.clientHeight-i.clientHeight)*-1;this.scrollXRatio=a/r;let m=this.yBarViewChild.nativeElement,v=t.scrollHeight,S=t.clientHeight,z=(e.clientWidth-m.clientWidth)*-1;this.scrollYRatio=S/v,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)i.setAttribute("data-p-scrollpanel-hidden","true"),!this.$unstyled()&&wt(i,"p-scrollpanel-hidden");else{i.setAttribute("data-p-scrollpanel-hidden","false"),!this.$unstyled()&&Tt(i,"p-scrollpanel-hidden");let N=Math.max(this.scrollXRatio*100,10),Ce=Math.abs(t.scrollLeft*(100-N)/(r-a));i.style.cssText="width:"+N+"%; inset-inline-start:"+Ce+"%;bottom:"+c+"px;"}if(this.scrollYRatio>=1)m.setAttribute("data-p-scrollpanel-hidden","true"),!this.$unstyled()&&wt(m,"p-scrollpanel-hidden");else{m.setAttribute("data-p-scrollpanel-hidden","false"),!this.$unstyled()&&Tt(m,"p-scrollpanel-hidden");let N=Math.max(this.scrollYRatio*100,10),Ce=t.scrollTop*(100-N)/(v-S);m.style.cssText="height:"+N+"%; top: calc("+Ce+"% - "+i.clientHeight+"px); inset-inline-end:"+z+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(e,t){this.contentViewChild?.nativeElement&&(this.contentViewChild.nativeElement[e]+=t),this.moveBar()}setTimer(e,t){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,t)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild?.nativeElement?.focus(),this.lastPageY=e.pageY,this.yBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","true"),!this.$unstyled()&&wt(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),!this.$unstyled()&&wt(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild?.nativeElement?.focus(),this.lastPageX=e.pageX,this.xBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&wt(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&wt(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let t=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=t/this.scrollXRatio})}onMouseMoveForYBar(e){let t=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=t/this.scrollYRatio})}scrollTop(e){let t=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;e=e>t?t:e>0?e:0,this.contentViewChild.nativeElement.scrollTop=e}onFocus(e){this.xBarViewChild?.nativeElement?.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild?.nativeElement?.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&Tt(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&Tt(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&Tt(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}onDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-scroll-panel"],["p-scrollPanel"],["p-scrollpanel"]],contentQueries:function(t,i,r){if(t&1&&(P(r,Dd,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.contentTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(Dd,5),H(Xy,5),H(Jy,5)),t&2){let r;w(r=T())&&(i.contentViewChild=r.first),w(r=T())&&(i.xBarViewChild=r.first),w(r=T())&&(i.yBarViewChild=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&b(i.cn(i.cx("root"),i.styleClass))},inputs:{styleClass:"styleClass",step:[2,"step","step",re]},features:[Z([Fd,{provide:Md,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],ngContentSelectors:eC,decls:9,vars:22,consts:[["content",""],["xBar",""],["yBar",""],[3,"pBind"],[3,"mouseenter","scroll","pBind"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","blur","pBind"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","pBind"]],template:function(t,i){if(t&1){let r=k();hi(),p(0,"div",3)(1,"div",4,0),y("mouseenter",function(){return h(r),f(i.moveBar())})("scroll",function(c){return h(r),f(i.onScroll(c))}),D(3,tC,1,0),g(4,iC,1,0,"ng-container",5),u()(),p(5,"div",6,1),y("mousedown",function(c){return h(r),f(i.onXBarMouseDown(c))})("keydown",function(c){return h(r),f(i.onKeyDown(c))})("keyup",function(){return h(r),f(i.onKeyUp())})("focus",function(c){return h(r),f(i.onFocus(c))})("blur",function(){return h(r),f(i.onBlur())}),u(),p(7,"div",7,2),y("mousedown",function(c){return h(r),f(i.onYBarMouseDown(c))})("keydown",function(c){return h(r),f(i.onKeyDown(c))})("keyup",function(){return h(r),f(i.onKeyUp())})("focus",function(c){return h(r),f(i.onFocus(c))}),u()}t&2&&(b(i.cx("contentContainer")),s("pBind",i.ptm("contentContainer")),d(),b(i.cx("content")),s("pBind",i.ptm("content")),d(2),F(!i.contentTemplate&&!i._contentTemplate?3:-1),d(),s("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),d(),b(i.cx("barX")),s("pBind",i.ptm("barX")),x("aria-orientation","horizontal")("aria-valuenow",i.lastScrollLeft)("aria-controls",i.contentId)("data-pc-group-section","bar"),d(2),b(i.cx("barY")),s("pBind",i.ptm("barY")),x("aria-orientation","vertical")("aria-valuenow",i.lastScrollTop)("aria-controls",i.contentId)("data-pc-group-section","bar"))},dependencies:[K,we,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),Od=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[Yr,G,ke,G,ke]})}return o})();function lC(o,n){if(o&1&&(p(0,"span",14),O(1),u(),p(2,"span",15),O(3),u()),o&2){let e=l();x("aria-label","Selected icon: "+e.value()),d(),ye(" ",e.value()," "),d(2),te(e.value())}}function sC(o,n){o&1&&(p(0,"span",2),O(1,"No icon selected"),u())}function dC(o,n){if(o&1){let e=k();p(0,"p-button",16),y("onClick",function(){h(e);let i=l();return f(i.clearSelection())}),u()}o&2&&(s("outlined",!0),x("aria-label","Clear selected icon"))}function cC(o,n){if(o&1){let e=k();p(0,"button",17),y("click",function(){let i=h(e).$implicit,r=l();return f(r.selectIcon(i))}),p(1,"span",18),O(2),u(),p(3,"span",19),O(4),u()()}if(o&2){let e=n.$implicit,t=l();at("selected",e===t.value()),x("aria-label","Select "+e+" icon"),d(2),ye(" ",e," "),d(2),te(e)}}function pC(o,n){if(o&1&&(p(0,"div",13),I(1,"span",20),p(2,"p"),O(3),u()()),o&2){let e=l();d(3),ye('No icons found matching "',e.searchTerm(),'"')}}var uC=["warning","error","info","check_circle","cancel","help","priority_high","notification_important","report_problem","security","directions_car","local_shipping","directions_bus","motorcycle","local_taxi","airport_shuttle","fire_truck","emergency","location_on","gps_fixed","place","map","navigation","my_location","location_off","location_searching","schedule","access_time","timer","alarm","today","event","history","update","notifications","notifications_active","notifications_off","email","message","phone","chat","announcement","visibility","visibility_off","monitor","dashboard","analytics","trending_up","trending_down","speed","play_arrow","pause","stop","refresh","sync","power_settings_new","settings","tune","home","business","person","group","folder","description","assignment","bookmark","memory","storage","wifi","signal_cellular_alt","battery_alert","battery_full","network_check","router"],Lo=class o{placeholder=R("Select an icon");disabled=R(!1);iconChange=Re();dialogVisible=U(!1);searchTerm=U("");value=U(null);availableIcons=U(uC);filteredIcons=oe(()=>{let n=this.searchTerm().toLowerCase().trim();return n?this.availableIcons().filter(e=>e.toLowerCase().includes(n)):this.availableIcons()});onChange=n=>{};onTouched=()=>{};showDialog(){this.disabled()||(this.dialogVisible.set(!0),this.searchTerm.set(""))}selectIcon(n){this.value.set(n),this.onChange(n),this.onTouched(),this.iconChange.emit(n),this.dialogVisible.set(!1)}clearSelection(){this.value.set(null),this.onChange(null),this.onTouched(),this.iconChange.emit(null)}writeValue(n){this.value.set(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-icon-selector"]],inputs:{placeholder:[1,"placeholder"],disabled:[1,"disabled"]},outputs:{iconChange:"iconChange"},features:[Z([{provide:Se,useExisting:o,multi:!0}])],decls:17,vars:10,consts:[[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","flex-1"],[1,"text-sm","text-gray-500"],["label","Select Icon","icon","pi pi-search","size","small",3,"onClick","outlined"],["icon","pi pi-times","severity","secondary","size","small",3,"outlined"],["header","Select Icon","styleClass","icon-selector-dialog",3,"visibleChange","visible","modal","dismissableMask"],[1,"flex","flex-col","h-full"],[1,"my-4"],["pInputText","","placeholder","Search icons...",1,"w-full",3,"ngModelChange","ngModel"],[1,"pi","pi-search"],["styleClass","icon-grid-scroll"],[1,"grid","grid-cols-6","sm:grid-cols-8","md:grid-cols-10","gap-3","p-2"],["type","button",1,"flex","flex-col","items-center","p-3","border","rounded","cursor-pointer","hover:bg-primary","transition-colors","icon-item","focus:outline-none","focus:ring-2","focus:ring-primary",3,"selected"],[1,"text-center","p-8","text-gray-500","search-no-results"],[1,"material-icons-outlined","text-2xl"],[1,"text-sm","text-gray-600"],["icon","pi pi-times","severity","secondary","size","small",3,"onClick","outlined"],["type","button",1,"flex","flex-col","items-center","p-3","border","rounded","cursor-pointer","hover:bg-primary","transition-colors","icon-item","focus:outline-none","focus:ring-2","focus:ring-primary",3,"click"],[1,"material-icons-outlined","text-2xl","mb-1"],[1,"text-xs","text-center","break-all"],[1,"pi","pi-search","text-4xl","mb-4","block"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"div",1),D(2,lC,4,3)(3,sC,2,0,"span",2),u(),p(4,"p-button",3),y("onClick",function(){return t.showDialog()}),u(),D(5,dC,1,2,"p-button",4),u(),p(6,"p-dialog",5),de("visibleChange",function(r){return le(t.dialogVisible,r)||(t.dialogVisible=r),r}),p(7,"div",6)(8,"div",7)(9,"p-iconfield")(10,"input",8),y("ngModelChange",function(r){return t.searchTerm.set(r)}),u(),I(11,"p-inputicon",9),u()(),p(12,"p-scrollPanel",10)(13,"div",11),Ee(14,cC,5,5,"button",12,mi),u(),D(16,pC,4,1,"div",13),u()()()),e&2&&(d(2),F(t.value()?2:3),d(2),s("outlined",!0),x("aria-label","Open icon selector dialog"),d(),F(t.value()?5:-1),d(),se("visible",t.dialogVisible),s("modal",!0)("dismissableMask",!0),d(4),s("ngModel",t.searchTerm()),x("aria-label","Search for icons"),d(4),De(t.filteredIcons()),d(2),F(t.filteredIcons().length===0?16:-1))},dependencies:[K,Fe,Jt,qe,Ue,Qe,Ye,Qn,gi,nt,it,Od,Yr,Oi,Mi],styles:['[_nghost-%COMP%]{display:block}.material-icons-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.icon-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.icon-item[_ngcontent-%COMP%]:not(.selected):hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a;color:var(--color-primary-contrast)}.icon-item.selected[_ngcontent-%COMP%]{border-color:var(--color-primary-contrast);background-color:var(--color-primary-color);color:var(--color-primary-contrast)}.search-no-results[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]     .icon-selector-dialog{width:60vw;height:80vh}[_nghost-%COMP%]     .icon-grid-scroll{width:100%}']})};var Bo=class o{sanitizer=_(Bn);transform(n,e){if(!e||!n)return n;let t=this.escapeHtml(n),i=e.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),r=new RegExp(`(${i})`,"gi"),a=t.replace(r,m=>`<mark class="highlight-match">${m}</mark>`);return this.sanitizer.sanitize(Oa.HTML,a)??n}escapeHtml(n){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return n.replaceAll(/[&<>"']/g,t=>e[t])}static \u0275fac=function(e){return new(e||o)};static \u0275pipe=mr({name:"highlight",type:o,pure:!0})};var It=class o{clientDataService=_(Ei);entitiesService=_(gt);authDataService=_(fl);utilityService=_(kl);cacheService=_(hl);cache={};globalClientId=this.clientDataService.getSelectedClient()?.id;buildFilterQuery(n){return C(n)?`&name=*${this.utilityService.escapeRqlValue(n)}*`:""}async getEntities(n,e,t,i){let r=e??this.globalClientId??"",a=`${r}/${n}`,c=this.cache[a];if(C(c))return c.items.map(v=>L({},v));let m=await t(r,i);return m.items.sort((v,S)=>(v.name??"").localeCompare(S.name??"")),this.cache[a]={items:o.toAssetGroupingItems(m.items),count:m.count,limit:m.limit},C(i)&&n!=="costCentres"&&n!=="assetGroups"&&n!=="zoneGroups"&&n!=="assetCategories"?this.cache[a].items.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())===!0):this.cache[a].items.map(v=>L({},v))}async getEntitiesAsTree(n,e,t){let i=await e(n,t);return o.toTree(i)}traverseTree(n,e){let t=[],i=r=>{for(let a of r){let c=e(a);if(c.collect!==void 0&&t.push(c.collect),C(c.stop)||C(a.children)&&a.children.length>0&&i(a.children))return!0}return!1};return i(n),t}static toTree(n){let e=new Map;for(let r of n)e.set(r.id,J(L({},r),{name:r.name,label:r.name,children:[]}));let t=[];for(let r of n){let a=e.get(r.id);if(C(r.parent)&&r.parent!==Ft&&e.has(r.parent)){let c=e.get(r.parent);C(a)&&C(c?.children)&&c.children.push(a)}else C(a)&&t.push(a)}let i=r=>{r.sort((a,c)=>a.name.localeCompare(c.name));for(let a of r)C(a.children)&&a.children.length>0&&i(a.children)};return i(t),t}static toAssetGroupingItems(n){return n.map(e=>({id:e.id,name:e.name??"",parent:C(e.parent)?e.parent.id:Ft,index:e.index??0,contacts:e.contacts??[],data:e}))}static treeToComboValues(n,e=0){let t=[],i=(r,a)=>{if(C(r)){r.sort((c,m)=>c.name.localeCompare(m.name));for(let c of r)t.push({key:c.id,value:c.name,indent:a}),C(c.children)&&c.children.length>0&&i(c.children,a+1)}};return i(n,e),t}static createRootNode(n){let e={id:Ft,name:"Root",parent:{id:null},contacts:[],owner:{id:n}};return{id:e.id,name:e.name,parent:null,data:e}}ngOnDestroy(){this.clear()}clear(){this.cache={}}findCCInCCTree(n,e){return $(e)?[]:this.traverseTree(n,t=>({collect:t.id===e.id?t:void 0}))}getFilteredCostCentres(n,e){let t=[];return this.traverseTree(n,i=>{let r=e.find(a=>a.id===i.id);return C(r)&&t.push(r),{}}),t}findInTree(n,e){for(let t of n){if(t.id===e)return t;if(t.children&&t.children.length>0){let i=this.findInTree(t.children,e);if(i)return i}}return null}getGroupResultInfo(n,e){let{count:t,limit:i}=this.cache[`${n}/${e}`];return{count:t,limit:i}}getCostCentres(n,e){return this.getEntities("costCentres",n,(t,i)=>xe(this.entitiesService.listCostCentres(t,0,1e3,"name",this.buildFilterQuery(i))),e)}getCostCentresAsTree(n,e){return this.getEntitiesAsTree(n,this.getCostCentres.bind(this),e)}async getCostCentresAsTreeForUser(n,e){let t=await this.getCostCentresAsTree(n,e),i=this.authDataService.getUserProfile()?.costCentre?.id;return C(i)?[this.findInTree(t,i)].filter(a=>C(a)):t}getAssetGroups(n,e){return this.cacheService.getOrFetchAsync(`assetGroups-${n??this.globalClientId}-${e??""}`,()=>this.getEntities("assetGroups",n,(t,i)=>xe(this.entitiesService.listAssetGroups(t,0,1e3,"name",this.buildFilterQuery(i))),e),120*1e3)}getAssetGroupsAsTree(n,e){return this.getEntitiesAsTree(n,this.getAssetGroups.bind(this),e)}getAssetCategories(n,e){return this.cacheService.getOrFetchAsync(`assetCategories-${n??this.globalClientId}-${e??""}`,()=>this.getEntities("assetCategories",n,(t,i)=>xe(this.entitiesService.listAssetCategories(t,0,1e3,"name",this.buildFilterQuery(i))),e),300*1e3)}getAssetCategoriesAsTree(n,e){return this.getEntitiesAsTree(n,this.getAssetCategories.bind(this),e)}async getAssetTypes(n,e){return this.getEntities("assetTypes",n,async t=>xe(this.entitiesService.listAssetTypes(t)),e)}async getAssetTypesAsTree(n,e){return this.getEntitiesAsTree(n,this.getAssetTypes.bind(this),e)}async getDeviceTypes(n,e){return this.getEntities("deviceTypes",n,async t=>xe(this.entitiesService.listDeviceTypes(t)),e)}getDeviceTypesAsTree(n,e){return this.getEntitiesAsTree(n,this.getDeviceTypes.bind(this),e)}getAssetTagTypes(n,e){return this.getEntities("assetTagTypes",n,async t=>xe(this.entitiesService.listAssetTagTypes(t)))}getAssetTagTypesAsTree(n,e){return this.getEntitiesAsTree(n,this.getAssetTagTypes.bind(this),e)}getZoneGroups(n,e){return this.getEntities("zoneGroups",n,(t,i)=>xe(this.entitiesService.listZoneGroups(t,0,1e3,"name",this.buildFilterQuery(i))),e)}getZoneGroupsAsTree(n,e){return this.getEntitiesAsTree(n,this.getZoneGroups.bind(this),e)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var Nd={"GEOCODING.SPEED":{name:"Modify Speed Limit",action:"Modify speed limit"},"ZONEEVENT.ENTER":{name:"Enter",action:"enters"},"ZONEEVENT.EXIT":{name:"Exit",action:"leaves"},"ZONEEVENT.RANGE_ENTER":{name:"In Range",action:"goes in range of"},"ZONEEVENT.RANGE_EXIT":{name:"Out of Range",action:"goes out of range of"},"ASSETACTIVATIONEVENT.ACTIVATE":{name:"Start",action:"starts a trip"},"ASSETACTIVATIONEVENT.DEACTIVATE":{name:"End",action:"ends a trip"},"TRIGGEREDEVENT.PANIC":{name:"Panic",action:"triggers a Panic event"},"TRIGGEREDEVENT.HARSH_BRAKE":{name:"Harsh Brake",action:"triggers a Harsh Brake event"},"TRIGGEREDEVENT.HARSH_ACCEL":{name:"Harsh Accel",action:"triggers a Harsh Accel event"},"TRIGGEREDEVENT.POWER_LOW":{name:"Power Low",action:"triggers a Power Low event"},"TRIGGEREDEVENT.POWER_HIGH":{name:"Power High",action:"triggers a Power High event"},"TRIGGEREDEVENT.POWER_DISCONNECT":{name:"Power Disconnect",action:"triggers a Power Disconnect event"},"TRIGGEREDEVENT.POWER_RECONNECT":{name:"Power Reconnect",action:"triggers a Power Reconnect event"},"TRIGGEREDEVENT.BATTERY_LOW":{name:"Battery Low",action:"triggers a Battery Low event"},"TRIGGEREDEVENT.BATTERY_DISCONNECT":{name:"Battery Disconnect",action:"triggers a Battery Disconnect event"},"TRIGGEREDEVENT.BATTERY_RECONNECT":{name:"Battery Reconnect",action:"triggers a Battery Reconnect event"},"TRIGGEREDEVENT.BATTERY_ACTIVE":{name:"Battery Active",action:"triggers a Battery Active event"},"TRIGGEREDEVENT.GSM_SIGNAL_LOW":{name:"Gsm Signal Low",action:"triggers a Gsm Signal Low event"},"TRIGGEREDEVENT.GSM_ANTENNA_FAULT":{name:"Gsm Antenna Fault",action:"triggers a Gsm Antenna Fault event"},"TRIGGEREDEVENT.GSM_JAMMED":{name:"Gsm Jammed",action:"triggers a Gsm Jammed event"},"TRIGGEREDEVENT.GPS_FAILURE":{name:"Gps Failure",action:"triggers a Gps Failure event"},"TRIGGEREDEVENT.GPS_SIGNAL_LOW":{name:"Gps Signal Low",action:"triggers a Gps Signal Low event"},"TRIGGEREDEVENT.GPS_ANTENNA_FAULT":{name:"Gps Antenna Fault",action:"triggers a Gps Antenna Fault event"},"TRIGGEREDEVENT.GPS_JAMMED":{name:"Gps Jammed",action:"triggers a Gps Jammed event"},"TRIGGEREDEVENT.IMPACT":{name:"Impact",action:"triggers a Impact event"},"TRIGGEREDEVENT.UNAUTHORIZED_MOVEMENT":{name:"Unauthorized Movement",action:"triggers a Unauthorized Movement event"},"TRIGGEREDEVENT.TOWING":{name:"Towing",action:"triggers a Towing event"},"TRIGGEREDEVENT.OVER_RPM":{name:"Over Rpm",action:"triggers a Over Rpm event"},"TRIGGEREDEVENT.MOTION_START":{name:"Motion Start",action:"triggers a Motion Start event"},"TRIGGEREDEVENT.MOTION_END":{name:"Motion End",action:"triggers a Motion End event"},"TRIGGEREDEVENT.EXCESSIVE_STOP_START":{name:"Excessive Stop Start",action:"triggers a Excessive Stop Start event"},"TRIGGEREDEVENT.EXCESSIVE_STOP_END":{name:"Excessive Stop End",action:"triggers a Excessive Stop End event"},"TRIGGEREDEVENT.VOICE_CALL_STARTED":{name:"Voice Call Started",action:"triggers a Voice Call Started event"},"TRIGGEREDEVENT.VOICE_CALL_ENDED":{name:"Voice Call Ended",action:"triggers a Voice Call Ended event"},"TRIGGEREDEVENT.VOICE_CALLBACK":{name:"Voice Callback",action:"triggers a Voice Callback event"},"TRIGGEREDEVENT.ALARM_ACTIVE":{name:"Alarm Active",action:"triggers a Alarm Active event"},"TRIGGEREDEVENT.ALARM_ARMED":{name:"Alarm Armed",action:"triggers a Alarm Armed event"},"TRIGGEREDEVENT.ALARM_DISARMED":{name:"Alarm Disarmed",action:"triggers a Alarm Disarmed event"},"TRIGGEREDEVENT.CURFEW_VIOLATION":{name:"Curfew Violation",action:"triggers a Curfew Violation event"},"TRIGGEREDEVENT.HARSH_CORNER":{name:"Harsh Corner",action:"triggers a Harsh Corner event"},"TRIGGEREDEVENT.POWER_ON":{name:"Power On",action:"triggers a Power On event"},"TRIGGEREDEVENT.POWER_OFF":{name:"Power Off",action:"triggers a Power Off event"},"TRIGGEREDEVENT.ANALOG_RANGE":{name:"Analog Range",action:"triggers a Analog Range event"},"TRIGGEREDEVENT.ANALOG_JUMP":{name:"Analog Jump",action:"triggers a Analog Jump event"},"TRIGGEREDEVENT.TILT":{name:"Tilt",action:"triggers a Tilt event"},"TRIGGEREDEVENT.VIN_CHANGED":{name:"Vin Changed",action:"triggers a Vin Changed event"},"ASSETSTATECHANGEEVENT.CHANGE":{name:"State",action:"changes"},"DIGITALINPUTEVENT.ACTIVATE":{name:"Activate",action:"activates"},"DIGITALINPUTEVENT.DEACTIVATE":{name:"Deactivate",action:"deactivates"},"VALUEINPUTEVENT.ACTIVATE":{name:"Activate",action:"activates"},"VALUEINPUTEVENT.DEACTIVATE":{name:"Deactivate",action:"deactivates"},"ANALOGINPUTEVENT.LOW":{name:"Low Range Violation",action:"exceeds low limit for"},"ANALOGINPUTEVENT.HIGH":{name:"High Range Violation",action:"exceeds high limit for"},"ANALOGINPUTEVENT.DROP":{name:"Sudden Drop",action:"experiences sudden drop in"},"ANALOGINPUTEVENT.JUMP":{name:"Sudden Jump",action:"experiences sudden jump in"},"TEMPERATUREINPUTEVENT.OUT_RANGE":{name:"Range Violation",action:"exceeds min/max temperature for"},"TEMPERATUREINPUTEVENT.IN_RANGE":{name:"Range Return",action:"returns to temperature range for"},"TEMPERATUREINPUTEVENT.LOW":{name:"Low Range Violation",action:"exceeds low temperature for"},"TEMPERATUREINPUTEVENT.HIGH":{name:"High Range Violation",action:"exceeds high temperature for"},"OVERSPEEDEVENT.START":{name:"Start",action:"exceeds the speed limit"},"OVERSPEEDEVENT.BAND_END":{name:"Band",action:"exceeds the speed limit in the"},"EXCESSIVEIDLEEVENT.START":{name:"Excessive Idle",action:"idles for longer than the idling limit"},"TRIPVIOLATIONEVENT.ACTIVE":{name:"Max Trip Time",action:"exceeds the trip time limit"},"TRIPVIOLATIONEVENT.INACTIVE":{name:"Max Trip Inactive Time",action:"exceeds the inactive trip time limit"},"TRIPVIOLATIONEVENT.DISTANCE":{name:"Max Trip Distance",action:"exceeds the trip distance limit"},"REMINDEREVENT.ODO":{name:"Odometer Reminder",action:"triggers an odometer reminder"},"REMINDEREVENT.HOURS":{name:"Engine Hours Reminder",action:"triggers an engine hours reminder"},"REMINDEREVENT.TIME":{name:"Time Based Reminder",action:"triggers a time based reminder"},"TAGEVENT.GAINED":{name:"Regained",action:"gains a tag"},"TAGEVENT.LOST":{name:"Lost",action:"loses a tag"},"TAGEVENT.ALARM":{name:"Notification",action:"receives a tag notification"},"TEXTMESSAGEEVENT.INCOMING":{name:"Text Message",action:"sends a text message"},"GEOLOCKEVENT.VIOLATION":{name:"Geo Lock Violation",action:"violates a Geo Lock"},"GEOBORDEREVENT.COUNTRY":{name:"Country",action:"crosses country borders"},"GEOBORDEREVENT.STATE":{name:"State/Province",action:"crosses state/province borders"},"CAMERAINPUTEVENT.VIDEO":{name:"Video",action:"creates a video"},"FUELINGEVENT.TRANSACTION":{name:"Fuel Fill Up",action:"fills tank with fuel"}},mC={GEOCODING:"Geocoding",ZONEEVENT:"Geofence",ASSETACTIVATIONEVENT:"Trip",TRIGGEREDEVENT:"Triggered Event",ASSETSTATECHANGEEVENT:"State",DIGITALINPUTEVENT:"Digital",VALUEINPUTEVENT:"Value",ANALOGINPUTEVENT:"Analog/CAN Violations",TEMPERATUREINPUTEVENT:"Temperature Violation",OVERSPEEDEVENT:"Overspeed",EXCESSIVEIDLEEVENT:"Excessive Idle",TRIPVIOLATIONEVENT:"Trip Limit",REMINDEREVENT:"Reminder",TAGEVENT:"Tag",TEXTMESSAGEEVENT:"Text Message",GEOLOCKEVENT:"Geo Lock Violation",GEOBORDEREVENT:"Border Crossing",CAMERAINPUTEVENT:"Camera",FUELINGEVENT:"Fuel"};function Vd(o,n){let e=`${o}.${n}`;return Nd[e]?.name||e}function Pd(o,n){let e=`${o}.${n}`;return Nd[e]?.action||e}function Ad(o){return mC[o]||o}var hC={TIME:{name:"Time Range",text:"time is {mode} {time1} and {time2} on {dow}",modes:{MODE_INSIDE:"between",MODE_OUTSIDE:"outside of"},fields:{TIME1:"start",TIME2:"end",DOW_0:"Sun",DOW_1:"Mon",DOW_2:"Tue",DOW_3:"Wed",DOW_4:"Thu",DOW_5:"Fri",DOW_6:"Sat"}},ZONE:{name:"Geofence",text:"current position is {mode} of {zone}",modes:{MODE_INSIDE:"inside",MODE_OUTSIDE:"outside"}},LINKED:{name:"Linked Asset",text:"current linked asset {mode} {asset}",modes:{MODE_IN:"is",MODE_OUT:"is not"}},ACTIVE:{name:"Ignition",text:"ignition is {state}",fields:{STATE_0:"Off",STATE_1:"On"}},SPEED:{name:"Speed",text:"speed is {mode} than {speed}",modes:{MODE_GREATER:"greater",MODE_LESS:"less"}},DIGITAL:{name:"Digital State",text:"digital {input} is {state}",fields:{STATE_0:"inactive",STATE_1:"active"}},STATE:{name:"Asset State",text:"state {profile} is {state}"},DISTANCE:{name:"Distance",text:"distance is {mode} than {distance}",modes:{MODE_GREATER:"greater",MODE_LESS:"less"}},DURATION:{name:"Duration",text:"duration is {mode} than {duration}",modes:{MODE_GREATER:"greater",MODE_LESS:"less"}},ROUTENUMBER:{name:"Road Route Number",text:"route number {mode} {value}",modes:{MODE_EQUALS:"equals",MODE_CONTAINS:"contains",MODE_STARTS:"starts with",MODE_ENDS:"ends with",MODE_NOT_EQUALS:"does not equal",MODE_NOT_CONTAINS:"does not contain",MODE_NOT_STARTS:"does not start with",MODE_NOT_ENDS:"does not end with"}},ROADNAME:{name:"Road Name",text:"road name {mode} {value}",modes:{MODE_EQUALS:"equals",MODE_CONTAINS:"contains",MODE_STARTS:"starts with",MODE_ENDS:"ends with",MODE_NOT_EQUALS:"does not equal",MODE_NOT_CONTAINS:"does not contain",MODE_NOT_STARTS:"does not start with",MODE_NOT_ENDS:"does not end with"}},BOUNDARY:{name:"Boundary",text:"{boundary} {mode} {value}",fields:{BOUNDARY_SUBURB:"suburb",BOUNDARY_TOWN:"town",BOUNDARY_STATE:"state/province",BOUNDARY_COUNTRY:"country"},modes:{MODE_EQUALS:"equals",MODE_CONTAINS:"contains",MODE_STARTS:"starts with",MODE_ENDS:"ends with",MODE_NOT_EQUALS:"does not equal",MODE_NOT_CONTAINS:"does not contain",MODE_NOT_STARTS:"does not start with",MODE_NOT_ENDS:"does not end with"}},SPEEDLIMIT:{name:"Speed Limit",text:"speed limit {mode} {speed}",modes:{MODE_GREATER:"is greater than",MODE_LESS:"is less than",MODE_EQUALS:"equals"}},CARRIAGEWAY:{name:"Carriageway",text:"road is a {mode} carriageway",modes:{MODE_SINGLE:"single",MODE_DUAL:"dual"}}};function Rd(o){return hC[o]?.name||o}var zo=class o{apiUrlService=_(gl);modernSchemaBackendUrl=cl.modernSchemaBackendUrl;schema={SmsGatewayProvider:{typePropertyName:"smsgatewayproviderType"},EmailProvider:{typePropertyName:"emailproviderType"},ioType:{typePropertyName:"iotypeType"}};constructor(){}getTypePropertyNameInternal(n){return this.schema[n]?.typePropertyName||"type"}getEntityTypePropertyName(n){return this.getTypePropertyNameInternal(n)}usesModernSchema(){return this.apiUrlService.getCurrentApiUrl()===this.modernSchemaBackendUrl}getTypePropertyKey(n){return this.usesModernSchema()?`${n.charAt(0).toLowerCase()}${n.slice(1)}Type`:"type"}getEntityType(n,e){let t=this.getTypePropertyKey(e);return t in n&&typeof n[t]<"u"?n[t]:null}setEntityType(n,e,t){let i=this.getTypePropertyNameInternal(e);n[i]=t}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var kt=class o{grouping=_(It);entitiesService=_(gt);clientDataService=_(Ei);router=_(Ua);apiSchemaService=_(zo);EVENT_CONDITIONS={time:{mode:{type:"dropdown",values:["inside","outside"]},time1:{type:"time"},time2:{type:"time"},dow:{type:"checklist",values:["0","1","2","3","4","5","6"]}},zone:{mode:{type:"dropdown",values:["inside","outside"]},zone:{type:"dropdown",values:()=>this.getZoneSelectionTree()}},linked:{mode:{type:"dropdown",values:["in","out"]},asset:{type:"searchableTree",values:()=>this.getAssetSelectionTree(["categories","costcentres","groups","types"])}},active:{state:{type:"dropdown",values:["0","1"]}},speed:{mode:{type:"dropdown",values:["greater","less"]},speed:{type:"speed"}},distance:{mode:{type:"dropdown",values:["greater","less"]},distance:{type:"distance"}},duration:{mode:{type:"dropdown",values:["greater","less"]},duration:{type:"duration"}},digital:{input:{type:"dropdown",values:()=>this.getIoTargetList(["digital_input"]),linkedTo:"state"},state:{type:"dropdown",values:n=>this.getIoValues(n)}},state:{profile:{type:"dropdown",values:()=>this.getStateTargetList(),linkedTo:"state"},state:{type:"dropdown",values:n=>this.getStateValues(n)}}};ACTION_EVENTS={zoneevent:["enter","exit","range_enter","range_exit"],assetactivationevent:["activate","deactivate"],triggeredevent:["alarm_active","alarm_armed","alarm_disarmed","analog_jump","analog_range","battery_active","battery_disconnect","battery_low","battery_reconnect","curfew_violation","excessive_stop_end","excessive_stop_start","gps_antenna_fault","gps_failure","gps_jammed","gps_signal_low","gsm_antenna_fault","gsm_jammed","gsm_signal_low","harsh_accel","harsh_brake","harsh_corner","impact","motion_end","motion_start","over_rpm","panic","power_disconnect","power_high","power_low","power_off","power_on","power_reconnect","tilt","towing","unauthorized_movement","vin_changed","voice_call_ended","voice_call_started","voice_callback"],assetstatechangeevent:["change"],digitalinputevent:["activate","deactivate"],valueinputevent:["activate"],analoginputevent:["low","high","drop","jump"],temperatureinputevent:["out_range","in_range","low","high"],overspeedevent:["start","band_end"],excessiveidleevent:["start"],fuelingevent:["transaction"],reminderevent:["odo","hours","time"],tagevent:["gained","lost","alarm"],textmessageevent:["incoming"],geolockevent:["violation"],geoborderevent:["country","state"],camerainputevent:["video"]};ACTION_TARGETS={zoneevent:"zones",assetstatechangeevent:"state",overspeedevent:{band_end:"overspeedband"},digitalinputevent:"digitals",valueinputevent:"values",analoginputevent:"analogs",temperatureinputevent:"temperatures"};static ALLOWED_ASSET_TYPE_NAMES=["aircraft","container","driver","fixed asset","person","site","trailer","vehicle","car","ship"];getOwnerId(){let n=this.router.routerState.snapshot.root;for(;n.firstChild;)n=n.firstChild;let e={};for(;C(n);)e=L(L({},n.params),e),n=n.parent;return e.clientId??e.vendorId??e.distributorId}buildAssetSelectionTree(n,e,t,i,r){let a=[],c=m=>{let v=m.name,S=`any ${v}`,z={id:m.id,label:v,children:[],data:{actorId:Ft,actorSelectionType:"any",actorType:"asset",actorTypeId:m.id,actorTypeName:v,text:S}};a.push(z),z.children=z.children??[],z.children.push({id:"any."+m.id,label:S,children:void 0,data:{actorId:Ft,actorSelectionType:"any",actorType:"asset",actorTypeId:m.id,actorTypeName:v,text:S}}),n.length>0&&z.children.push({id:"costcentre."+m.id,label:"In Cost Centre",children:It.toTree(n.map(N=>{let Ce=`any ${v} in ${N.name}`;return J(L({},N),{id:`costcentre.${m.id}.${N.id}`,label:N.name,data:{actorId:N.id,actorName:N.name,actorSelectionType:"accessGroup",actorType:"asset",actorTypeId:m.id,actorTypeName:v,text:Ce}})}))}),t.length>0&&z.children.push({id:"group."+m.id,label:"In Group",children:It.toTree(t.map(N=>{let Ce=`any ${v} in ${N.name}`;return J(L({},N),{id:`group.${m.id}.${N.id}`,data:{actorId:N.id,actorName:N.name,actorSelectionType:"group",actorType:"asset",actorTypeId:m.id,actorTypeName:v,text:Ce}})}))}),i.length>0&&z.children.push({id:"category."+m.id,label:"In Category",children:It.toTree(i.map(N=>{let Ce=`any ${v} in ${N.name}`;return J(L({},N),{id:`category.${m.id}.${N.id}`,data:{actorId:N.id,actorName:N.name,actorSelectionType:"category",actorType:"asset",actorTypeId:m.id,actorTypeName:v,text:Ce}})}))})};(r?.includes("asset")??!1)&&c({id:Ft,name:"Asset"}),e.sort((m,v)=>m.name.localeCompare(v.name));for(let m of e)($(r)||r.length===0||r.includes(m.name.toLowerCase()))&&c(m);return a}async getAssetSelectionTree(n){n=n??["costcentres","groups","types","categories"];let e=this.getOwnerId();return Promise.all([n.includes("costcentres")?this.grouping.getCostCentres(e):Promise.resolve([]),n.includes("types")?this.grouping.getAssetTypes(e):Promise.resolve([]),n.includes("groups")?this.grouping.getAssetGroups(e):Promise.resolve([]),n.includes("categories")?this.grouping.getAssetCategories(e):Promise.resolve([])]).then(([t,i,r,a])=>{let c=i.filter(m=>C(m?.name)&&o.ALLOWED_ASSET_TYPE_NAMES.includes(m.name.trim().toLowerCase()));return this.buildAssetSelectionTree(t,c,r,a)})}buildZoneSelectionTree(n){let e=[];for(let t of["location","nogo","keepin","route"]){let i=t,r=`any ${i}`,a={id:t,label:i,children:[],data:{targetId:Ft,targetSelectionType:"any",targetType:"zone",targetTypeId:t,targetTypeName:i,text:r}};e.push(a),a.children=a.children??[],a.children.push({id:"any."+t,label:r,children:void 0,data:{targetId:Ft,targetSelectionType:"any",targetType:"zone",targetTypeId:t,targetTypeName:i,text:r}}),n.length>0&&a.children.push({id:"group."+t,label:"In Group",children:It.toTree(n.map(c=>{let m=`any ${i} in group ${c.name}`;return J(L({},c),{id:`${t}.${c.id}`,data:{targetId:c.id,targetName:c.name,targetSelectionType:"group",targetType:"zone",targetTypeId:t,targetTypeName:i,text:m}})}))})}return e}getZoneSelectionTree(){return this.grouping.getZoneGroups(this.getOwnerId()).then(n=>this.buildZoneSelectionTree(n))}async getValueInputSelectionTree(){let n=this.getOwnerId();return(await xe(this.entitiesService.listIoTypes(n??"",!0,0,300,"name","state=active,type=value_input"))).items.map(t=>({id:t.id,label:t.name??"",hasChildren:!0,getChildren:async()=>{let i=await xe(this.entitiesService.getIoType(t.id));return[{id:"any."+t.id,label:"Any",data:{targetType:"value_input",targetTypeId:i.id,targetTypeName:i.name,targetSelectionType:"any",targetId:Ft,targetName:"Any",text:i.name}},...(i.lookups??[]).map(r=>({id:r.id,label:r.id+": "+r.name,data:{targetType:"value_input",targetTypeId:i.id,targetTypeName:i.name,targetSelectionType:"specific",targetId:r.id,targetName:r.name,text:`${i.name} ${r.id} - ${r.name}`}}))]}}))}getActionEventsTree(){let n=Object.keys(this.ACTION_EVENTS).map(e=>({id:`event-${e}`,label:Ad(e.toUpperCase()),children:this.ACTION_EVENTS[e].map(t=>{let i="";return st(this.ACTION_TARGETS[e])?i=this.ACTION_TARGETS[e][t]:i=this.ACTION_TARGETS[e],{id:`event-${e}-${t}`,label:Vd(e.toUpperCase(),t.toUpperCase()),data:{eventClass:e,eventType:t,targetType:i,text:Pd(e.toUpperCase(),t.toUpperCase())}}}),selectable:!1}));return n.sort((e,t)=>e.label.localeCompare(t.label)),n}async getTargetNodes(n){switch(n){case"zones":return this.getZoneSelectionTree();case"digitals":return this.getIoTargetTree(["digital_input"]);case"analogs":return this.getIoTargetTree(["analog_input","can_input"]);case"temperatures":return this.getIoTargetTree(["temperature_input"]);case"values":return this.getValueInputSelectionTree();case"state":return this.getStateTargetTree();case"overspeedband":return this.getOverspeedBandTargetTree()}return[]}async getIoTargetTree(n){let e=this.getOwnerId(),t=this.apiSchemaService.getTypePropertyKey("iotype"),i=n.map(m=>`${t}=${m}`).join("|"),r=n.length>1?`(${i})`:i,a=r?`state=active,${r}`:"state=active";return(await xe(this.entitiesService.listIoTypes(e??"",!0,0,300,"name",a))).items.map(m=>({id:m.id,label:m.name??"",data:{targetType:m.type,targetTypeId:m.type,targetTypeName:m.type,targetSelectionType:"specific",targetId:m.id,targetName:m.name,text:m.name}}))}async getIoTargetList(n){let e=this.getOwnerId(),t=this.apiSchemaService.getTypePropertyKey("iotype"),i=n.map(m=>`${t}=${m}`).join("|"),r=n.length>1?`(${i})`:i,a=r?`state=active,${r}`:"state=active";return(await xe(this.entitiesService.listIoTypes(e??"",!0,0,300,"name",a))).items.map(m=>({id:m.id,label:m.name??""}))}async getIoValues(n){if(C(n?.input))try{let e=await xe(this.entitiesService.getIoType(n.input));return[{id:"0",label:e?.text?.inactive??"inactive"},{id:"1",label:e?.text?.active??"active"}]}catch{return[]}else return[]}async getOverspeedBandTargetTree(){let n=this.getOwnerId(),e=await xe(this.clientDataService.fetchClientWithCache(n??"")),[t,i]=await Promise.all([xe(this.entitiesService.listOverspeedProfiles(e.owner.id,void 0,void 0,void 0,void 0,"state=active")),xe(this.entitiesService.listOverspeedProfiles(e.id,void 0,void 0,void 0,void 0,"state=active"))]);return[...t.items,...i.items].sort((a,c)=>(a.name??"").localeCompare(c.name??"")).map(a=>({id:a.id,label:a.name??"",children:(a.items??[]).map(c=>({id:c.id,label:c.name,data:{targetType:"overspeedband",targetTypeId:a.id,targetTypeName:a.name,targetSelectionType:"specific",targetId:c.id,targetName:c.name,text:`${c.name} ${a.name} band`}}))}))}async getStateTargetTree(){let n=this.getOwnerId();return(await xe(this.entitiesService.listAssetStateProfiles(n??"",void 0,void 0,"name","state=active"))).items.map(t=>({id:t.id,label:t.name,children:t.items.map(i=>({id:i.id,label:i.state,data:{targetType:"state",targetTypeId:t.id,targetTypeName:t.name,targetSelectionType:"specific",targetId:i.id,targetName:i.state,text:`${t.name} "${i.state} - ${i.name}"`}}))}))}async getStateTargetList(){let n=this.getOwnerId();return(await xe(this.entitiesService.listAssetStateProfiles(n??"",void 0,void 0,"name","state=active"))).items.map(t=>({id:t.id,label:t.name}))}async getStateValues(n){return C(n?.profile)?xe(this.entitiesService.getAssetStateProfile(n.profile)).then(e=>(e.items??[]).map(t=>({id:t.state,label:t.state}))).catch(()=>[]):[]}getConditionsTree(n){return Object.keys(this.EVENT_CONDITIONS).filter(e=>{switch(e){case"distance":return n.eventClass==="fuelingevent"||n.eventClass==="overspeedevent"&&n.eventType==="band_end";case"duration":return n.eventClass==="overspeedevent"&&n.eventType==="band_end";default:return!0}}).map(e=>({id:e,label:Rd(e.toUpperCase()),data:{type:e,values:{},text:{}}}))}replacePlaceholders(n,e){return n.replaceAll(/\{\{([^}]+)\}\}/g,(t,i)=>{let r=e[i.trim()];return r==null?"":typeof r=="string"||typeof r=="number"||typeof r=="boolean"?String(r):Array.isArray(r)?r.map(a=>typeof a=="string"||typeof a=="number"||typeof a=="boolean"?String(a):"").filter(Boolean).join(", "):""})}isRecord(n){return typeof n=="object"&&n!==null}getPrecomputedText(n){let e=n.display;if(typeof e=="string"&&e.trim()!=="")return e;let t=n.text;if(typeof t=="string"&&t.trim()!=="")return this.replacePlaceholders(t,n)}formatAction(n){let e=this.getPrecomputedText(n);if(e!==void 0)return e;let t=n.eventType;if(typeof t=="string"&&t.length>0)return t.replaceAll("_"," ");let i=n.eventClass;return typeof i=="string"&&i.length>0?i.replaceAll("_"," "):"action"}formatActor(n){let e=this.getPrecomputedText(n);if(C(e))return e;let t=n.actorName,i=n.actorTypeName,r=n.actorType;return C(t)?t:C(i)?i:C(r)?r:"actor"}formatTarget(n){let e=this.getPrecomputedText(n);if(C(e))return e;let t=n.targetName,i=n.targetTypeName,r=n.targetType;return C(t)&&t?t:C(i)&&i?i:C(r)&&r?r:"target"}formatValueText(n,e){if(!n)return`[${e}]`;switch(e){case"action":return this.formatAction(n);case"actor":return this.formatActor(n);case"target":return this.formatTarget(n);default:return`[${e}]`}}formatConditionText(n){return typeof n=="string"?n:this.isRecord(n)?Object.values(n).filter(e=>Array.isArray(e)?e.length>0:C(e)&&e!==""&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")).map(e=>Array.isArray(e)?e.join(", "):String(e)).join(" "):Array.isArray(n)?n.join(", "):C(n)&&(typeof n=="string"||typeof n=="number"||typeof n=="boolean")?String(n):""}valueToText(n){if(Array.isArray(n))return n.map(e=>this.valueToText(e)).filter(Boolean).join(", ");if(this.isRecord(n)){let e=n,t=e.name??e.label??e.text??e.targetName??e.actorName??e.targetTypeName??e.actorTypeName;return C(t)&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean")?String(t):""}return C(n)&&(typeof n=="string"||typeof n=="number"||typeof n=="boolean")?String(n):""}mapDow(n){let e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=[];if(Array.isArray(n))t=n.map(String);else if(typeof n=="string")t=n.split(",").map(i=>i.trim()).filter(Boolean);else return this.valueToText(n);return t.map(i=>{let r=Number(i);return Number.isFinite(r)&&r>=0&&r<=6?e[r]:i}).join(", ")}renderCondition(n,e){if(!this.isRecord(e))return this.formatConditionText(e);let t=this.getPrecomputedText(e);if(t!==void 0)return t;switch(n.toLowerCase()){case"time":return this.renderTimeCondition(e);case"zone":return this.renderZoneCondition(e);case"linked":return this.renderLinkedCondition(e);case"active":return this.renderActiveCondition(e);case"speed":return this.renderSpeedCondition(e);case"distance":return this.renderDistanceCondition(e);case"duration":return this.renderDurationCondition(e);case"digital":return this.renderDigitalCondition(e);case"state":return this.renderStateCondition(e);default:return this.formatConditionText(e)}}renderTimeCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getModeText(e,"inside","between","outside","outside of"),i=this.valueToText(n.time1),r=this.valueToText(n.time2),a=this.mapDow(n.dow);return["time is",t,i&&r?`${i} and ${r}`:i||r||"",a?`on ${a}`:""].filter(Boolean).join(" ")}renderZoneCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getModeText(e,"inside","inside","outside","outside"),i=this.valueToText(n.zone);return`current position is ${t} of ${i}`}renderLinkedCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getModeText(e,"in","is","out","is not"),i=this.valueToText(n.asset);return`current linked asset ${t} ${i}`}renderActiveCondition(n){let e=this.valueToText(n.state);return`ignition is ${e==="0"?"Off":e==="1"?"On":e}`}renderSpeedCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getComparisonMode(e),i=this.valueToText(n.speed);return`speed is ${t} than ${i}`}renderDistanceCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getComparisonMode(e),i=this.valueToText(n.distance);return`distance is ${t} than ${i}`}renderDurationCondition(n){let e=typeof n.mode=="string"?n.mode:"",t=this.getComparisonMode(e),i=this.valueToText(n.duration);return`duration is ${t} than ${i}`}renderDigitalCondition(n){let e=this.getPrecomputedText(n);if(e!==void 0)return e;let t=this.valueToText(n.inputName??n.input),i=this.valueToText(n.stateName??n.state);return`digital ${t} is ${i==="0"?"inactive":i==="1"?"active":i}`}renderStateCondition(n){let e=this.getPrecomputedText(n);if(e!==void 0)return e;let t=this.valueToText(n.profileName??n.profile),i=this.valueToText(n.stateName??n.state);return`state ${t} is ${i}`}getModeText(n,e,t,i,r){return n===e?t:n===i?r:this.valueToText(n)}getComparisonMode(n){return n==="greater"?"greater":n==="less"?"less":this.valueToText(n)}formatConditions(n){return!n||n.length===0?"":n.map(e=>{let t=e?.type;if(typeof t=="string"&&t!=="null"&&t.length>0){let i=this.renderCondition(t,e?.text);return i===""&&(i=t),` and (${i})`}return""}).join("")}getEventFilterText(n){if($(n))return"";let e=n,t=e.actor,i=e.action,r=e.target,a=this.isRecord(t)?t:void 0,c=this.isRecord(i)?i:void 0,m=this.isRecord(r)?r:void 0,v=this.formatValueText(a,"actor"),S=this.formatValueText(c,"action"),z=this.formatValueText(m,"target"),N=a?"When {actor} {action} {target}":"{action} {target}";return N=N.replace("{actor}",v).replace("{action}",S),!!c&&typeof c.targetType=="string"&&c.targetType.length>0?N=N.replace("{target}",z):N=N.replace(" {target}",""),N+=this.formatConditions(n.conditions),N+=".",N}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};function fC(o,n){if(o&1){let e=k();p(0,"span",0),y("click",function(){h(e);let i=l();return f(i.showTargetDropdown=!0)})("keydown.enter",function(){h(e);let i=l();return f(i.showTargetDropdown=!0)}),O(1),u(),p(2,"p-overlay",1),de("visibleChange",function(i){h(e);let r=l();return le(r.showTargetDropdown,i)||(r.showTargetDropdown=i),f(i)}),p(3,"div",2)(4,"p-select",3),de("ngModelChange",function(i){h(e);let r=l();return le(r.target,i)||(r.target=i),f(i)}),y("onChange",function(){h(e);let i=l();return f(i.onTargetSelected())}),u()()()}if(o&2){let e,t=l();d(),ye(" ",((e=t.target())==null?null:e.label)||"target"," "),d(),se("visible",t.showTargetDropdown),d(2),s("options",t.targets()),se("ngModel",t.target),s("showClear",!0)}}var Ho=class o{targetType=R(void 0);targets=R([]);showTargetDropdown=!1;target=At(void 0);onTargetSelected(){this.showTargetDropdown=!1}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-target-selector"]],inputs:{targetType:[1,"targetType"],targets:[1,"targets"],target:[1,"target"]},outputs:{target:"targetChange"},decls:1,vars:1,consts:[[1,"underlined-field","cursor-pointer",3,"click","keydown.enter"],["appendTo","body",3,"visibleChange","visible"],[1,"dropdown-panel","p-3","surface-card","shadow-2","border-round"],["placeholder","Select Target","optionLabel","label",1,"w-full","min-w-[200px]",3,"ngModelChange","onChange","options","ngModel","showClear"]],template:function(e,t){e&1&&D(0,fC,5,5),e&2&&F(t.targetType()?0:-1)},dependencies:[K,Fe,qe,Ue,_t,We,ii,Ni],styles:["[_nghost-%COMP%]{--p-treeselect-background: var(--p-tree-background) !important}[_nghost-%COMP%]   .p-treeselect-label.p-placeholder[_ngcontent-%COMP%]{color:var(--p-select-option-color)}"],changeDetection:0})};function gC(o,n){if(o&1){let e=k();p(0,"p-button",12),y("onClick",function(){h(e);let i=l().$implicit,r=l(2);return f(r.onConditionRemoved(i))}),u()}}function _C(o,n){if(o&1){let e=k();p(0,"div",8)(1,"div",9)(2,"div",10),y("click",function(){let i=h(e),r=i.$implicit,a=i.$index,c=l(2);return f(c.onConditionClicked(r,a))})("keydown.enter",function(){let i=h(e),r=i.$implicit,a=i.$index,c=l(2);return f(c.onConditionClicked(r,a))}),p(3,"span"),O(4),u()(),D(5,gC,1,0,"p-button",11),u()()}if(o&2){let e=n.$implicit,t=n.$index,i=l(2);d(4),Qt("",t===0?"If":"And"," ",i.displayConditionText(e)),d(),F(i.canRemoveCondition()?5:-1)}}function vC(o,n){if(o&1&&(p(0,"div",1),Ee(1,_C,6,3,"div",8,Aa),u()),o&2){let e=l();d(),De(e.conditions())}}var $o=class o{conditions=R([]);availableConditions=R([]);minConditions=R(0);editCondition=Re();removeCondition=Re();addCondition=Re();showConditionDropdown=!1;conditionFormControl=new Fi(null);displayConditionText(n){if($(n))return"";if(C(n.text.display))return n.text.display.trim();let e="";switch(n.type){case"speed":{let t=n.values.value??"0",i=n.values.unit??"mph",r=n.values.operator??"gt",a="equal to";r==="gt"?a="greater than":r==="lt"&&(a="less than"),e=`speed is ${a} ${t} ${i}`;break}case"time":{e=`time is ${n.values.time??"00:00"}`;break}case"zone":{e=`inside zone ${n.values.zoneName??n.text.zoneName??"unknown zone"}`;break}case"distance":{let t=n.values.value??"0",i=n.values.unit??"mi";e=`distance is ${t} ${i}`;break}case"duration":{let t=n.values.value??"0",i=n.values.unit??"seconds";e=`duration is ${t} ${i}`;break}case"days":{let t=n.values.days??[];t.length>0?e=`on days: ${t.join(", ")}`:e="on all days";break}case"active":{e="condition is active";break}default:e=`condition of type ${n.type}`}return e}onConditionClicked(n,e){this.editCondition.emit({condition:n,index:e})}onConditionRemoved(n){this.conditions().length>this.minConditions()&&this.removeCondition.emit(n)}onConditionSelected(n){C(n?.node)&&(this.addCondition.emit(n.node),this.showConditionDropdown=!1,this.conditionFormControl.reset())}canRemoveCondition(){return this.conditions().length>this.minConditions()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-condition-list"]],inputs:{conditions:[1,"conditions"],availableConditions:[1,"availableConditions"],minConditions:[1,"minConditions"]},outputs:{editCondition:"editCondition",removeCondition:"removeCondition",addCondition:"addCondition"},decls:9,vars:6,consts:[[1,"condition-list"],[1,"condition-items","mb-3"],[1,"add-condition-section"],[1,"p-relative"],[1,"underlined-field","cursor-pointer",3,"click","keydown.enter"],[3,"visibleChange","visible","appendTo"],[1,"p-0","border-round"],["placeholder","Search condition types...","selectionMode","single","appendTo","body",1,"w-full","bg-(--p-tree-background)","min-w-[200px]",3,"onNodeSelect","options","formControl","filter"],[1,"condition-item"],[1,"flex","items-center","px-3","py-2","rounded","mb-2","w-full","justify-between","condition-display"],["pTooltip","Click to edit condition",1,"condition-text","flex-grow-1","cursor-pointer",3,"click","keydown.enter"],["icon","pi pi-times","pTooltip","Remove condition"],["icon","pi pi-times","pTooltip","Remove condition",3,"onClick"]],template:function(e,t){e&1&&(p(0,"div",0),D(1,vC,3,0,"div",1),p(2,"div",2)(3,"div",3)(4,"span",4),y("click",function(){return t.showConditionDropdown=!t.showConditionDropdown})("keydown.enter",function(){return t.showConditionDropdown=!t.showConditionDropdown}),O(5," and "),u(),p(6,"p-overlay",5),de("visibleChange",function(r){return le(t.showConditionDropdown,r)||(t.showConditionDropdown=r),r}),p(7,"div",6)(8,"p-treeselect",7),y("onNodeSelect",function(r){return t.onConditionSelected(r)}),u()()()()()()),e&2&&(d(),F(t.conditions().length>0?1:-1),d(5),se("visible",t.showConditionDropdown),s("appendTo","body"),d(2),s("options",t.availableConditions())("formControl",t.conditionFormControl)("filter",!0))},dependencies:[K,Fe,qe,ei,Wn,Qe,Ye,ri,oi,_t,We,Ot,ti],styles:[".underlined-field[_ngcontent-%COMP%]{color:green;font-weight:500;padding:.25rem 0}.underlined-field[_ngcontent-%COMP%]:hover{text-decoration:underline}.underlined-field.disabled-text[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed}.underlined-field.disabled-text[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:underline}.dropdown-panel[_ngcontent-%COMP%]{min-width:250px}.condition-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:calc(var(--padding) / 2)}.condition-editor[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:1rem}.condition-editor[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.condition-editor[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin-bottom:.5rem}.condition-editor[_ngcontent-%COMP%]   .checklist[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid #ced4da;border-radius:4px;padding:8px}.condition-list[_ngcontent-%COMP%]   .condition-items[_ngcontent-%COMP%]   .condition-item[_ngcontent-%COMP%]   .condition-display[_ngcontent-%COMP%]{border:1px solid;transition:all .2s}.condition-list[_ngcontent-%COMP%]   .condition-items[_ngcontent-%COMP%]   .condition-item[_ngcontent-%COMP%]   .condition-display[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 .2rem #3f51b51a}.condition-list[_ngcontent-%COMP%]   .condition-items[_ngcontent-%COMP%]   .condition-item[_ngcontent-%COMP%]   .condition-display[_ngcontent-%COMP%]   .condition-text[_ngcontent-%COMP%]{line-height:1.5}.condition-list[_ngcontent-%COMP%]   .empty-conditions[_ngcontent-%COMP%]{border-style:dashed;color:#6c757d}.condition-list[_ngcontent-%COMP%]   .add-condition-section[_ngcontent-%COMP%]{margin-top:.5rem}.condition-list[_ngcontent-%COMP%]   .condition-dropdown[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-top:0}.p-error[_ngcontent-%COMP%]{font-size:.875rem}[_nghost-%COMP%]{--p-treeselect-background: var(--p-tree-background) !important}"]})};var bC=["searchInput"],yC=["treePanel"],CC=o=>({"p-disabled":o}),xC=o=>({"cursor-pointer":o});function wC(o,n){o&1&&(p(0,"div",13),I(1,"i",14),u())}function TC(o,n){if(o&1){let e=k();p(0,"div",8)(1,"div",3)(2,"input",12,1),de("ngModelChange",function(i){h(e);let r=l(2);return le(r.searchValue,i)||(r.searchValue=i),f(i)}),y("ngModelChange",function(i){h(e);let r=l(2);return f(r.onSearchInput(i))}),u(),D(4,wC,2,0,"div",13),u()()}if(o&2){let e=l(2);d(2),s("placeholder",e.searchPlaceholder),se("ngModel",e.searchValue),d(2),F(e.isSearching?4:-1)}}function SC(o,n){if(o&1){let e=k();p(0,"li",17),y("click",function(){let i=h(e).$implicit,r=l(3);return f(r.onSearchResultSelect(i))})("keydown.enter",function(){let i=h(e).$implicit,r=l(3);return f(r.onSearchResultSelect(i))}),p(1,"span"),O(2),u()()}if(o&2){let e=n.$implicit;d(2),te(e.value)}}function IC(o,n){if(o&1&&(p(0,"div",9)(1,"ul",15),Ee(2,SC,3,1,"li",16,mi),u()()),o&2){let e=l(2);d(2),De(e.searchNodes)}}function kC(o,n){if(o&1){let e=k();p(0,"div",10)(1,"p-tree",18),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.nodes)("emptyMessage","No data available")}}function EC(o,n){o&1&&(p(0,"div",11),O(1,"No data available"),u())}function DC(o,n){if(o&1){let e=k();p(0,"p-overlay",6),de("visibleChange",function(i){h(e);let r=l();return le(r.showDropdown,i)||(r.showDropdown=i),f(i)}),p(1,"div",7),D(2,TC,5,3,"div",8),D(3,IC,4,0,"div",9),D(4,kC,2,2,"div",10),D(5,EC,2,0,"div",11),u()()}if(o&2){let e=l(),t=Pe(1);Je("--trigger-w",(t==null?null:t.offsetWidth)||250,"px"),se("visible",e.showDropdown),s("appendTo","body"),d(2),F(e.searchEnabled?2:-1),d(),F(e.searchNodes.length>0?3:-1),d(),F(e.nodes.length>0?4:-1),d(),F(e.searchNodes.length===0&&e.nodes.length===0?5:-1)}}var Go=class o{treeData=[];searchEnabled=!0;searchPlaceholder="Search...";valueField="name";childrenField="children";idField="id";expandedByDefault=!1;debounceTime=300;clientId;entityType;displayField="label";disabled=!1;nodeSelected=new M;searchChanged=new M;searchInput;treePanel;nodes=[];searchValue="";displayValue="";searchNodes=[];flattenedNodes=[];isSearching=!1;showDropdown=!1;onChange=()=>{};onTouched=()=>{};innerValue=null;searchSubject=new ue;destroyRef=_(ui);entitiesService=_(gt);cdr=_(et);constructor(){}ngOnInit(){this.transformData(),this.setupSearchDebounce(),this.updateDisplayValueFromSelection(),document.addEventListener("click",this.onDocumentClick.bind(this))}ngOnChanges(n){C(n.treeData)&&this.transformData(),C(n.selectedNodeKey)&&this.updateDisplayValueFromSelection()}ngOnDestroy(){document.removeEventListener("click",this.onDocumentClick.bind(this))}writeValue(n){n!==this.innerValue&&(this.innerValue=n,C(n)?(typeof n=="object"&&n!==null?this.selectedNodeKey=n[this.idField]??null:this.selectedNodeKey=n,this.updateDisplayValueFromSelection()):(this.selectedNodeKey=null,this.displayValue=""),this.cdr.markForCheck())}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}selectedNodeKey=null;onDocumentClick(n){this.showDropdown&&$(this.treePanel?.nativeElement?.contains(n.target))&&$(this.searchInput?.nativeElement?.contains(n.target))&&(this.closeDropdown(),this.cdr.markForCheck())}updateDisplayValueFromSelection(){if(C(this.selectedNodeKey)){let n=this.findNodeById(this.selectedNodeKey);n?(this.displayValue=n.label??"",this.cdr.markForCheck()):typeof this.innerValue=="object"&&this.innerValue!==null&&(this.displayValue=this.innerValue[this.displayField]??this.innerValue[this.valueField]??"")}}findNodeById(n){let e=t=>{for(let i of t){if(i.key===n)return i;if(i.children){let r=e(i.children);if(r)return r}}return null};return e(this.nodes)}setupSearchDebounce(){this.searchSubject.pipe(Ci(this.debounceTime),ci(),dt(this.destroyRef),Ut(n=>!n||n.length<2?(this.isSearching=!1,this.searchNodes=[],this.cdr.markForCheck(),mt([])):(this.isSearching=!0,this.cdr.markForCheck(),C(this.entityType)&&C(this.clientId)?this.performApiSearch(n):mt(this.performLocalSearch(n))))).subscribe({next:n=>{this.searchNodes=n,this.isSearching=!1,this.searchChanged.emit(this.searchValue),this.cdr.markForCheck()},error:n=>{console.error("Error during search:",n),this.isSearching=!1,this.searchNodes=[],this.cdr.markForCheck()}})}onSearchInput(n){this.searchValue=n,this.searchSubject.next(n)}toggleDropdown(n){this.disabled||(n.stopPropagation(),this.showDropdown=!this.showDropdown,this.showDropdown&&C(this.searchInput)&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.onTouched(),this.cdr.markForCheck())}closeDropdown(){this.showDropdown=!1,this.searchValue="",this.searchNodes=[]}performLocalSearch(n){if(!n.trim())return[];let e=n.toLowerCase().trim();return this.flattenedNodes.filter(t=>t.value.toLowerCase().includes(e))}performApiSearch(n){if($(this.clientId))return mt([]);let e=n.trim();if(e.length===0)return mt([]);let t=`name=*${e}*&state=active`,i=10;switch(this.entityType){case"asset":return this.entitiesService.listAssets(this.clientId,0,i,"name:asc",t).pipe(Ut(r=>$(r.items)?mt([]):mt(r.items.map(a=>({id:a.id,value:a.name||"Unnamed Asset",data:J(L({},a),{text:`${a.assetType?.name??"Asset"} "${a.name??"Unnamed"}"`,actorId:a.id,actorName:a.name,actorSelectionType:"specific",actorType:"asset",actorTypeId:a.assetType?.id,actorTypeName:a.assetType?.name??"Asset"})})))));case"zone":return this.entitiesService.listZones(this.clientId,0,i,"name:asc",t).pipe(Ut(r=>$(r.items)?mt([]):mt(r.items.map(a=>({id:a.id,value:a.name??"Unnamed Zone",data:J(L({},a),{text:`${a.zoneType??"Zone"} "${a.name??"Unnamed"}"`,targetId:a.id,targetName:a.name,targetSelectionType:"specific",targetType:"zone",targetTypeId:a.zoneType,targetTypeName:a.zoneType??"Zone"})})))));case"device":return this.entitiesService.listDevices(this.clientId,0,i,"name:asc",t).pipe(Ut(r=>$(r.items)?mt([]):mt(r.items.map(a=>({id:a.id,value:a.name??"Unnamed Device",data:J(L({},a),{text:`${a.deviceType?.name??"Device"} "${a.name??"Unnamed"}"`,deviceId:a.id,deviceName:a.name})})))));default:return mt(this.performLocalSearch(n))}}transformData(){if(!Array.isArray(this.treeData)||!this.treeData.length){this.nodes=[],this.flattenedNodes=[];return}this.nodes=this.mapDataToTreeNodes(this.treeData),this.flattenedNodes=this.flattenTreeData(this.treeData)}mapDataToTreeNodes(n){return Array.isArray(n)?n.map(e=>{let t={key:e[this.idField],label:e[this.displayField]??e[this.valueField],data:e,expanded:this.expandedByDefault},i=e[this.childrenField];return Array.isArray(i)&&i.length>0&&(t.children=this.mapDataToTreeNodes(i)),t}):[]}flattenTreeData(n){if(!Array.isArray(n))return[];let e=[];for(let t of n)if(C(t)){e.push({id:t[this.idField],value:t[this.displayField]??t[this.valueField],data:t});let i=t[this.childrenField];Array.isArray(i)&&i.length>0&&(e=[...e,...this.flattenTreeData(i)])}return e}onNodeSelect(n){C(n?.node?.data)&&(this.displayValue=n.node.label??"",this.selectedNodeKey=n.node.key,this.innerValue=n.node.data,this.onChange(this.innerValue),this.onTouched(),this.nodeSelected.emit(n.node.data),this.closeDropdown(),this.cdr.markForCheck())}onSearchResultSelect(n){$(n)||(this.displayValue=n.value,this.selectedNodeKey=n.id,this.innerValue=n.data,this.onChange(this.innerValue),this.onTouched(),this.nodeSelected.emit(n.data),this.closeDropdown(),this.cdr.markForCheck())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-searchable-tree"]],viewQuery:function(e,t){if(e&1&&(H(bC,5),H(yC,5)),e&2){let i;w(i=T())&&(t.searchInput=i.first),w(i=T())&&(t.treePanel=i.first)}},inputs:{treeData:"treeData",searchEnabled:"searchEnabled",searchPlaceholder:"searchPlaceholder",valueField:"valueField",childrenField:"childrenField",idField:"idField",expandedByDefault:"expandedByDefault",debounceTime:"debounceTime",clientId:"clientId",entityType:"entityType",displayField:"displayField",disabled:"disabled"},outputs:{nodeSelected:"nodeSelected",searchChanged:"searchChanged"},features:[Z([{provide:Se,useExisting:pe(()=>o),multi:!0}]),en],decls:5,vars:9,consts:[["treePanel",""],["searchInput",""],[1,"searchable-tree-container",3,"ngClass"],[1,"p-inputgroup"],["type","text","pInputText","","readonly","",1,"p-inputtext","p-component","w-full",3,"click","disabled","value","ngClass"],[1,"z-[10000]","min-w-[250px]","searchable-tree-overlay",3,"visible","appendTo","--trigger-w"],[1,"z-[10000]","min-w-[250px]","searchable-tree-overlay",3,"visibleChange","visible","appendTo"],[1,"tree-dropdown","p-2","border-round","shadow-2"],[1,"search-input-container","mb-2"],[1,"search-results","mb-2"],[1,"tree-view-container","border","shadow-md"],[1,"p-2","text-center"],["type","text","pInputText","",1,"p-inputtext","p-component","w-full",3,"ngModelChange","placeholder","ngModel"],[1,"p-progress-spinner"],[1,"pi","pi-spinner","animate-spin"],[1,"list-none","p-0","m-0","p-tree","border","shadow-md"],[1,"p-2","cursor-pointer","hover:surface-hover","transition-colors","transition-duration-150","border-round"],[1,"p-2","cursor-pointer","hover:surface-hover","transition-colors","transition-duration-150","border-round",3,"click","keydown.enter"],["selectionMode","single",1,"w-full",3,"onNodeSelect","value","emptyMessage"]],template:function(e,t){if(e&1){let i=k();p(0,"div",2,0)(2,"div",3)(3,"input",4),y("click",function(a){return h(i),f(t.toggleDropdown(a))}),u()(),D(4,DC,6,8,"p-overlay",5),u()}e&2&&(s("ngClass",ce(5,CC,t.disabled)),d(3),s("disabled",t.disabled)("value",t.displayValue)("ngClass",ce(7,xC,!t.disabled)),d(),F(t.showDropdown?4:-1))},dependencies:[K,tt,Fe,Jt,qe,Ue,zi,qt,nt,it,Qe,ri,_t,We],styles:["[_nghost-%COMP%]{display:block;position:relative;--p-treeselect-background: var(--p-tree-background) !important}.searchable-tree-container[_ngcontent-%COMP%]{width:100%;position:relative}.searchable-tree-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative}.searchable-tree-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .p-progress-spinner[_ngcontent-%COMP%]{position:absolute;right:48px;top:50%;transform:translateY(-50%);z-index:2}.searchable-tree-container[_ngcontent-%COMP%]   .tree-dropdown[_ngcontent-%COMP%]{position:absolute;width:100%;min-width:250px;z-index:100;max-height:350px;overflow-y:auto;margin-top:4px;cursor:default;background:var(--p-select-overlay-background);color:var(--p-select-overlay-color);border:1px solid var(--p-select-overlay-border-color);border-radius:var(--p-select-overlay-border-radius);box-shadow:var(--p-select-overlay-shadow)}.searchable-tree-container[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{margin-top:.25rem}.searchable-tree-container[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:4px}[_nghost-%COMP%]     .p-treeselect{width:100%}[_nghost-%COMP%]     .p-treeselect .p-treeselect-label{padding:.5rem .75rem}[_nghost-%COMP%]     .p-tree{border:none;padding:.25rem}.max-h-15rem[_ngcontent-%COMP%]{max-height:15rem}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})};var Ld=dr(ml());var $i=class o{eventFilterService=_(kt);conditionPartsCache=new Map;zoneOptions=U([]);digitalInputOptions=U([]);digitalStateOptions=U([]);stateProfileOptions=U([]);stateValueOptions=U([]);linkedAssetOptions=U([]);async initializeConditionParts(n){if(n.type==="zone"){let e=this.zoneOptions();(0,Ld.isEmpty)(e)||e.length===0?this.eventFilterService.getZoneSelectionTree().then(t=>{this.zoneOptions.set(t),this.updateOptionsInCache(n,"zone","zone")}).catch(()=>{this.zoneOptions.set([])}):this.updateOptionsInCache(n,"zone","zone")}n.type==="digital"&&(await this.loadDigitalInputOptions(n),await this.loadDigitalStateOptions(n)),n.type==="state"&&await this.loadStateProfileOptions(n),n.type==="linked"&&await this.loadLinkedAssetOptions(n)}updateOptionsInCache(n,e,t){let i=`${n.type}-${n.id}`,r=this.conditionPartsCache.get(i);if(!r)return;let a=r.find(m=>m.key===e);if(!C(a))return;switch(`${t}-${e}`){case"zone-zone":a.options=this.zoneOptions();break;case"digital-input":a.options=this.digitalInputOptions();break;case"digital-state":a.options=this.digitalStateOptions();break;case"state-profile":a.options=this.stateProfileOptions();break;case"state-state":a.options=this.stateValueOptions();break;case"linked-asset":a.options=this.linkedAssetOptions();break}}async loadDigitalInputOptions(n){try{let t=this.eventFilterService.EVENT_CONDITIONS.digital.input;if(typeof t.values=="function"){let r=(await t.values()).map(a=>({label:a.label,value:a.id}));this.digitalInputOptions.set(r),this.updateOptionsInCache(n,"input","digital"),C(n.values.input)&&await this.loadDigitalStateOptions(n)}}catch(e){console.error("Error loading digital input options:",e),this.digitalInputOptions.set([])}}async loadDigitalStateOptions(n){try{let e=n.values.input;if(!C(e)||e===""){this.digitalStateOptions.set([]);return}let i=this.eventFilterService.EVENT_CONDITIONS.digital.state;if(typeof i.values=="function"){let a=(await i.values({input:e})).map(c=>({label:c.label,value:c.id}));this.digitalStateOptions.set(a),this.updateOptionsInCache(n,"state","digital")}}catch(e){console.error("Error loading digital state options:",e),this.digitalStateOptions.set([])}}async loadStateProfileOptions(n){try{let t=this.eventFilterService.EVENT_CONDITIONS.state.profile;if(typeof t.values=="function"){let r=(await t.values()).map(a=>({label:a.label,value:a.id}));this.stateProfileOptions.set(r),this.updateOptionsInCache(n,"profile","state"),C(n.values.profile)&&await this.loadStateValues(n)}}catch(e){console.error("Error loading state profile options:",e),this.stateProfileOptions.set([])}}async loadStateValues(n){try{let t=this.eventFilterService.EVENT_CONDITIONS.state.state;if(typeof t.values=="function"){let r=(await t.values({profile:n.values.profile})).map(a=>({label:a.label,value:a.id}));this.stateValueOptions.set(r),this.updateOptionsInCache(n,"state","state")}}catch(e){console.error("Error loading state values:",e),this.stateValueOptions.set([])}}async loadLinkedAssetOptions(n){try{let t=this.eventFilterService.EVENT_CONDITIONS.linked.asset;if(typeof t.values=="function"){let i=await t.values();this.linkedAssetOptions.set(i),this.updateOptionsInCache(n,"asset","linked")}}catch(e){console.error("Error loading linked asset options:",e),this.linkedAssetOptions.set([])}}async onConditionFieldChange(n,e){return n.type==="state"&&e==="profile"?await this.loadStateValues(n):n.type==="digital"&&e==="input"&&await this.loadDigitalStateOptions(n),this.getConditionParts(n)}updateSpeedConditionText(n){let e=n.values.value??"0",t=n.values.unit??"mph",i=n.values.operator??"gt",r="equal to";i==="gt"?r="greater than":i==="lt"&&(r="less than"),n.text=J(L({},n.text),{display:`speed is ${r} ${e} ${t}`,value:`${e}`,unit:t,operator:r,speed:`${e} ${t}`})}updateTimeConditionText(n){let e=n.values.mode??"inside",t=n.values.time1??"00:00",i=n.values.time2??"23:59",r=n.values.dow??[],a=e==="inside"?"between":"outside of",c="";if(C(r)&&r.length>0){let m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];c=` on ${r.map(S=>m[Number.parseInt(S)]).join(", ")}`}n.text=J(L({},n.text),{display:`time is ${a} ${t} and ${i}${c}`,mode:a,time1:t,time2:i,dow:r})}updateZoneConditionText(n){let e=n.values.mode??"inside",t=n.values.zoneName??"unknown zone",i=n.values.zoneId??"",r=e==="inside"?"inside":"outside";n.text=J(L({},n.text),{display:`current position is ${r} of ${t}`,mode:r,zoneName:t,zoneId:i})}updateLinkedConditionText(n){let e=n.values.mode??"in",t=n.values.assetName??n.values.asset?.label??"unknown asset",i=n.values.assetId??"",r=e==="in"?"is":"is not";n.text=J(L({},n.text),{display:`current linked asset ${r} ${t}`,mode:r,assetName:t,assetId:i})}updateActiveConditionText(n){let t=(n.values.state??"1")==="1"?"On":"Off";n.text=J(L({},n.text),{display:`ignition is ${t}`,state:t})}updateDigitalConditionText(n){let e=n.values.input??"",t=n.values.inputName??this.digitalInputOptions().find(a=>a.value===e)?.label??"unknown input",i=n.values.state??"1",r=n.values.stateName??this.digitalStateOptions().find(a=>a.value===i)?.label??(i==="1"?"active":"inactive");n.text=J(L({},n.text),{display:`digital ${t} is ${r}`,input:e,inputName:t,state:i,stateName:r})}updateStateConditionText(n){let e=n.values.profile??"",t=n.values.profileName??this.stateProfileOptions().find(a=>a.value===e)?.label??"unknown profile",i=n.values.state??"",r=n.values.stateName??"state";n.text=J(L({},n.text),{display:`state ${t} is ${r}`,profile:e,profileName:t,state:i,stateName:r})}updateDistanceConditionText(n){let e=n.values.mode??"greater",t=n.values.distance??"0",i=n.values.unit??"mi",r=e==="greater"?"greater than":"less than";n.text=J(L({},n.text),{display:`distance is ${r} ${t} ${i}`,mode:r,distance:`${t}`,unit:i})}updateDurationConditionText(n){let e=n.values.mode??"greater",t=n.values.duration??"0",i=n.values.unit??"minutes",r=e==="greater"?"greater than":"less than";n.text=J(L({},n.text),{display:`duration is ${r} ${t} ${i}`,mode:r,duration:`${t}`,unit:i})}updateRouteNumberConditionText(n){let e=n.values.mode??"equals",t=n.values.value??"",i=this.getComparisonModeText(e);n.text=J(L({},n.text),{display:`route number ${i} ${t}`,mode:i,value:t})}updateRoadNameConditionText(n){let e=n.values.mode??"equals",t=n.values.value??"",i=this.getComparisonModeText(e);n.text=J(L({},n.text),{display:`road name ${i} ${t}`,mode:i,value:t})}updateBoundaryConditionText(n){let e=n.values.boundary??"suburb",t=n.values.mode??"equals",i=n.values.value??"",r=this.getBoundaryText(e),a=this.getComparisonModeText(t);n.text=J(L({},n.text),{display:`${r} ${a} ${i}`,boundary:r,mode:a,value:i})}updateSpeedLimitConditionText(n){let e=n.values.mode??"greater",t=n.values.speed??"0",i=n.values.unit??"mph",r;switch(e){case"greater":r="is greater than";break;case"less":r="is less than";break;case"equals":r="equals";break;default:r="is greater than"}n.text=J(L({},n.text),{display:`speed limit ${r} ${t} ${i}`,mode:r,speed:`${t}`,unit:i})}updateCarriagewayConditionText(n){let t=(n.values.mode??"single")==="single"?"single":"dual";n.text=J(L({},n.text),{display:`road is a ${t} carriageway`,mode:t})}updateDaysConditionText(n){let e=n.values.days??[];n.text=J(L({},n.text),{display:e.length>0?`on days: ${e.join(", ")}`:"on all days",days:e})}updateDefaultConditionText(n){let e=this.getConditionParts(n),t=[];for(let i of e)if(C(n.values[i.key]))if(i.type==="dropdown"){let r=i.options?.find(a=>a.value===n.values[i.key]);C(r)&&t.push(`${i.label}: ${r.label}`)}else i.type==="checklist"&&Array.isArray(n.values[i.key])?n.values[i.key].length>0&&t.push(`${i.label}: ${n.values[i.key].join(", ")}`):t.push(`${i.label}: ${n.values[i.key]}`);n.text=J(L({},n.text),{display:t.join(", ")})}getComparisonModeText(n){switch(n){case"equals":return"equals";case"contains":return"contains";case"starts":return"starts with";case"ends":return"ends with";case"not_equals":return"does not equal";case"not_contains":return"does not contain";case"not_starts":return"does not start with";case"not_ends":return"does not end with";default:return"equals"}}getBoundaryText(n){switch(n){case"suburb":return"suburb";case"town":return"town";case"state":return"state/province";case"country":return"country";default:return"suburb"}}updateConditionText(n){switch(n.type){case"speed":this.updateSpeedConditionText(n);break;case"time":this.updateTimeConditionText(n);break;case"zone":this.updateZoneConditionText(n);break;case"linked":this.updateLinkedConditionText(n);break;case"active":this.updateActiveConditionText(n);break;case"digital":this.updateDigitalConditionText(n);break;case"state":this.updateStateConditionText(n);break;case"distance":this.updateDistanceConditionText(n);break;case"duration":this.updateDurationConditionText(n);break;case"routenumber":this.updateRouteNumberConditionText(n);break;case"roadname":this.updateRoadNameConditionText(n);break;case"boundary":this.updateBoundaryConditionText(n);break;case"speedlimit":this.updateSpeedLimitConditionText(n);break;case"carriageway":this.updateCarriagewayConditionText(n);break;case"days":this.updateDaysConditionText(n);break;default:this.updateDefaultConditionText(n)}}getConditionParts(n){if($(n))return[];let e=`${n.type}-${n.id}`;if(this.conditionPartsCache.has(e))return this.conditionPartsCache.get(e)??[];let t=[];switch(n.type){case"speed":t.push({key:"value",label:"Speed Value",type:"number",value:n.values.value??0,required:!0},{key:"operator",label:"Operator",type:"dropdown",options:[{label:"Greater than",value:"gt"},{label:"Less than",value:"lt"},{label:"Equal to",value:"eq"}],value:n.values.operator??"gt",required:!0},{key:"unit",label:"Unit",type:"dropdown",options:[{label:"MPH",value:"mph"},{label:"KPH",value:"kph"}],value:n.values.unit??"mph",required:!0});break;case"time":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Between",value:"inside"},{label:"Outside of",value:"outside"}],value:n.values.mode??"inside",required:!0},{key:"time1",label:"Start Time",type:"time",value:n.values.time1??"00:00",required:!0},{key:"time2",label:"End Time",type:"time",value:n.values.time2??"23:59",required:!0},{key:"dow",label:"Days of Week",type:"checklist",options:[{label:"Sun",value:"0"},{label:"Mon",value:"1"},{label:"Tue",value:"2"},{label:"Wed",value:"3"},{label:"Thu",value:"4"},{label:"Fri",value:"5"},{label:"Sat",value:"6"}],value:n.values.dow??[],required:!1});break;case"zone":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Inside",value:"inside"},{label:"Outside",value:"outside"}],value:n.values.mode??"inside",required:!0},{key:"zone",label:"Geofence",type:"searchableTree",options:this.zoneOptions(),value:n.values.zone??"",required:!0}),this.conditionPartsCache.set(e,t);break;case"linked":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Is",value:"in"},{label:"Is Not",value:"out"}],value:n.values.mode??"in",required:!0},{key:"asset",label:"Asset",type:"searchableTree",options:this.linkedAssetOptions(),value:n.values.asset??"",required:!0}),this.conditionPartsCache.set(e,t);break;case"active":t.push({key:"state",label:"State",type:"dropdown",options:[{label:"On",value:"1"},{label:"Off",value:"0"}],value:n.values.state??"1",required:!0});break;case"digital":t.push({key:"input",label:"Input",type:"dropdown",options:this.digitalInputOptions(),value:n.values.input??"",required:!0},{key:"state",label:"State",type:"dropdown",options:this.digitalStateOptions(),value:n.values.state??"1",required:!0}),this.conditionPartsCache.set(e,t);break;case"state":t.push({key:"profile",label:"Profile",type:"dropdown",options:this.stateProfileOptions(),value:n.values.profile??"",required:!0},{key:"state",label:"State",type:"dropdown",options:this.stateValueOptions(),value:n.values.state??"",required:!0}),this.conditionPartsCache.set(e,t);break;case"distance":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Greater than",value:"greater"},{label:"Less than",value:"less"}],value:n.values.mode??"greater",required:!0},{key:"distance",label:"Distance",type:"number",value:n.values.distance??0,required:!0},{key:"unit",label:"Unit",type:"dropdown",options:[{label:"Miles",value:"mi"},{label:"Kilometers",value:"km"},{label:"Meters",value:"m"}],value:n.values.unit??"mi",required:!0});break;case"duration":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Greater than",value:"greater"},{label:"Less than",value:"less"}],value:n.values.mode??"greater",required:!0},{key:"duration",label:"Duration",type:"number",value:n.values.duration??0,required:!0},{key:"unit",label:"Unit",type:"dropdown",options:[{label:"Seconds",value:"seconds"},{label:"Minutes",value:"minutes"},{label:"Hours",value:"hours"}],value:n.values.unit??"minutes",required:!0});break;case"routenumber":case"roadname":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Equals",value:"equals"},{label:"Contains",value:"contains"},{label:"Starts with",value:"starts"},{label:"Ends with",value:"ends"},{label:"Does not equal",value:"not_equals"},{label:"Does not contain",value:"not_contains"},{label:"Does not start with",value:"not_starts"},{label:"Does not end with",value:"not_ends"}],value:n.values.mode??"equals",required:!0},{key:"value",label:n.type==="routenumber"?"Route Number":"Road Name",type:"text",value:n.values.value??"",required:!0});break;case"boundary":t.push({key:"boundary",label:"Boundary Type",type:"dropdown",options:[{label:"Suburb",value:"suburb"},{label:"Town",value:"town"},{label:"State/Province",value:"state"},{label:"Country",value:"country"}],value:n.values.boundary??"suburb",required:!0},{key:"mode",label:"Mode",type:"dropdown",options:[{label:"Equals",value:"equals"},{label:"Contains",value:"contains"},{label:"Starts with",value:"starts"},{label:"Ends with",value:"ends"},{label:"Does not equal",value:"not_equals"},{label:"Does not contain",value:"not_contains"},{label:"Does not start with",value:"not_starts"},{label:"Does not end with",value:"not_ends"}],value:n.values.mode??"equals",required:!0},{key:"value",label:"Value",type:"text",value:n.values.value??"",required:!0});break;case"speedlimit":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Is greater than",value:"greater"},{label:"Is less than",value:"less"},{label:"Equals",value:"equals"}],value:n.values.mode??"greater",required:!0},{key:"speed",label:"Speed",type:"number",value:n.values.speed??0,required:!0},{key:"unit",label:"Unit",type:"dropdown",options:[{label:"MPH",value:"mph"},{label:"KPH",value:"kph"}],value:n.values.unit??"mph",required:!0});break;case"carriageway":t.push({key:"mode",label:"Mode",type:"dropdown",options:[{label:"Single",value:"single"},{label:"Dual",value:"dual"}],value:n.values.mode??"single",required:!0});break;default:if(C(n.values))for(let i of Object.keys(n.values)){if(i==="id"||i==="type")continue;let r=typeof n.values[i];t.push({key:i,label:i.charAt(0).toUpperCase()+i.slice(1),type:r==="number"?"number":"text",value:n.values[i]??"",required:!0})}}return t}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var OC=()=>[],NC=(o,n)=>n.key,VC=(o,n)=>n.value;function PC(o,n){if(o&1){let e=k();p(0,"input",13),de("ngModelChange",function(i){h(e);let r=l().$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),u()}if(o&2){let e=l(),t=e.$implicit,i=e.$index,r=l(2);s("id","part-"+i),se("ngModel",r.condition().values[t.key])}}function AC(o,n){if(o&1){let e=k();p(0,"input",14),de("ngModelChange",function(i){h(e);let r=l().$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),u()}if(o&2){let e=l(),t=e.$implicit,i=e.$index,r=l(2);s("id","part-"+i),se("ngModel",r.condition().values[t.key])}}function RC(o,n){if(o&1){let e=k();p(0,"p-inputnumber",15),de("ngModelChange",function(i){h(e);let r=l().$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),u()}if(o&2){let e=l(),t=e.$implicit,i=e.$index,r=l(2);s("id","part-"+i),se("ngModel",r.condition().values[t.key]),s("min",0)("showButtons",!0)}}function qC(o,n){if(o&1){let e=k();p(0,"p-select",16),de("ngModelChange",function(i){h(e);let r=l().$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),y("ngModelChange",function(){h(e);let i=l().$implicit,r=l(2);return f(r.onFieldChange(i.key))}),u()}if(o&2){let e=l(),t=e.$implicit,i=e.$index,r=l(2);s("id","part-"+i)("options",t.options),se("ngModel",r.condition().values[t.key]),s("showClear",!t.required)}}function LC(o,n){if(o&1){let e=k();p(0,"div",17)(1,"p-checkbox",18),de("ngModelChange",function(i){h(e);let r=l(2).$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),u(),p(2,"label",19),O(3),u()()}if(o&2){let e=n.$implicit,t=l(2).$implicit,i=l(2);d(),s("name","checklist-"+t.key)("value",e.value),se("ngModel",i.condition().values[t.key]),d(2),te(e.label)}}function BC(o,n){if(o&1&&Ee(0,LC,4,4,"div",17,VC),o&2){let e=l().$implicit;De(e.options)}}function zC(o,n){if(o&1){let e=k();p(0,"app-searchable-tree",20),de("ngModelChange",function(i){h(e);let r=l().$implicit,a=l(2);return le(a.condition().values[r.key],i)||(a.condition().values[r.key]=i),f(i)}),y("nodeSelected",function(i){h(e);let r=l().$implicit,a=l(2);return f(a.onSearchableTreeNodeSelected(i,r.key))}),u()}if(o&2){let e,t=l().$implicit,i=l(2);se("ngModel",i.condition().values[t.key]),s("searchEnabled",!0)("clientId",(e=i.clientDataService.getSelectedClient())==null?null:e.id)("entityType",t.key)("searchPlaceholder","Search "+t.label+"...")("treeData",t.options??Ae(6,OC))}}function HC(o,n){if(o&1&&(p(0,"small",12),O(1),u()),o&2){let e=l().$implicit;d(),te(e.hint)}}function $C(o,n){if(o&1&&(p(0,"div",4)(1,"label",5),O(2),u(),p(3,"div",6),D(4,PC,1,2,"input",7)(5,AC,1,2,"input",8)(6,RC,1,4,"p-inputnumber",9)(7,qC,1,4,"p-select",10)(8,BC,2,0)(9,zC,1,7,"app-searchable-tree",11),u(),D(10,HC,2,1,"small",12),u()),o&2){let e,t=n.$implicit,i=n.$index;d(),s("for","part-"+i),d(),te(t.label),d(2),F((e=t.type)==="text"?4:e==="time"?5:e==="number"?6:e==="dropdown"?7:e==="checklist"?8:e==="searchableTree"?9:-1),d(6),F(t.hint?10:-1)}}function GC(o,n){if(o&1&&(p(0,"div",1)(1,"h3",3),O(2),u(),Ee(3,$C,11,4,"div",4,NC),u()),o&2){let e=l();d(2),te(e.getConditionTitle(e.condition())),d(),De(e.getConditionParts(e.condition()))}}function UC(o,n){if(o&1){let e=k();p(0,"p-button",21),y("onClick",function(){h(e);let i=l();return f(i.onCancel())}),u(),p(1,"p-button",22),y("onClick",function(){h(e);let i=l();return f(i.onSave())}),u()}if(o&2){let e=l();d(),s("disabled",!e.isConditionValid())}}var _n=class o{visible=At(!1);condition=R(null);clientDataService=_(Ei);eventFilterConditionService=_($i);cdr=_(et);saved=Re();cancelled=Re();ngOnInit(){let n=this.condition();if(C(n)){let e=this.eventFilterConditionService.getConditionParts(n);for(let t of e)t.type==="checklist"&&!Array.isArray(n.values[t.key])&&(n.values[t.key]=[]);this.eventFilterConditionService.initializeConditionParts(n).then(()=>{this.cdr.detectChanges()})}}constructor(){Ve(async()=>{let n=this.condition();if(C(n)){let e=this.eventFilterConditionService.getConditionParts(n);for(let t of e)t.type==="checklist"&&!Array.isArray(n.values[t.key])&&(n.values[t.key]=[]);await this.eventFilterConditionService.initializeConditionParts(n),this.cdr.detectChanges()}})}getConditionTitle(n){switch(n.type){case"speed":return"Speed Condition";case"time":return"Time Condition";case"zone":return"Zone Condition";case"distance":return"Distance Condition";case"duration":return"Duration Condition";case"days":return"Days of Week Condition";default:return`${n.type.charAt(0).toUpperCase()+n.type.slice(1)} Condition`}}getConditionParts(n){return this.eventFilterConditionService.getConditionParts(n)}isConditionValid(){let n=this.condition();return $(n)?!1:this.getConditionParts(n).every(t=>C(t.required)&&t.required===!1||t.type==="checklist"&&Array.isArray(n.values[t.key])?!0:C(n.values[t.key])&&n.values[t.key]!==""&&n.values[t.key]!==null)}onSave(){let n=this.condition();C(n)&&this.isConditionValid()&&(this.eventFilterConditionService.updateConditionText(n),this.saved.emit(n))}onVisibilityChange(n){n||(this.visible.set(!1),this.onCancel())}onCancel(){this.cancelled.emit()}async onSearchableTreeNodeSelected(n,e){let t=this.condition();if(!$(t))switch(e){case"zone":t.values.zoneId=n.id??n.targetId,t.values.zoneName=n.name??n.targetName;break;case"asset":t.values.assetId=n.id??n.actorId,t.values.assetName=n.name??n.actorName;break;case"input":t.values.inputName=n.name??n.text;break}}async onFieldChange(n){let e=this.condition();C(e)&&(await this.eventFilterConditionService.onConditionFieldChange(e,n),this.cdr.detectChanges())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-condition-editor"]],inputs:{visible:[1,"visible"],condition:[1,"condition"]},outputs:{visible:"visibleChange",saved:"saved",cancelled:"cancelled"},decls:3,vars:4,consts:[["header","Edit Condition","styleClass","w-[70vw] h-auto max-w-[800px]","appendTo","body",3,"onHide","visibleChange","visible","modal","dismissableMask"],[1,"condition-editor","p-3"],["pTemplate","footer"],[1,"mb-4"],[1,"mb-4","field"],[1,"font-medium",3,"for"],[1,"mt-1"],["pInputText","",1,"w-full",3,"id","ngModel"],["pInputText","","type","time",1,"w-full",3,"id","ngModel"],[1,"w-full",3,"id","ngModel","min","showButtons"],["optionLabel","label","optionValue","value","placeholder","Select an option","appendTo","body",1,"w-full",3,"id","options","ngModel","showClear"],[3,"ngModel","searchEnabled","clientId","entityType","searchPlaceholder","treeData"],[1,"text-secondary","mt-1","d-block"],["pInputText","",1,"w-full",3,"ngModelChange","id","ngModel"],["pInputText","","type","time",1,"w-full",3,"ngModelChange","id","ngModel"],[1,"w-full",3,"ngModelChange","id","ngModel","min","showButtons"],["optionLabel","label","optionValue","value","placeholder","Select an option","appendTo","body",1,"w-full",3,"ngModelChange","id","options","ngModel","showClear"],[1,"flex","items-center","gap-1","my-2"],["inputId","ny",3,"ngModelChange","name","value","ngModel"],["for","ny",1,"font-medium"],[3,"ngModelChange","nodeSelected","ngModel","searchEnabled","clientId","entityType","searchPlaceholder","treeData"],["label","Cancel","icon","pi pi-times","severity","secondary",1,"p-button-text",3,"onClick"],["label","Save","icon","pi pi-check",3,"onClick","disabled"]],template:function(e,t){e&1&&(p(0,"p-dialog",0),y("onHide",function(){return t.onCancel()})("visibleChange",function(r){return t.onVisibilityChange(r)}),D(1,GC,5,1,"div",1),g(2,UC,2,1,"ng-template",2),u()),e&2&&(s("visible",t.visible())("modal",!0)("dismissableMask",!1),d(),F(t.condition()?1:-1))},dependencies:[K,Fe,Jt,qe,Ue,Qn,gi,ve,Qe,Ye,nt,it,Vi,Xn,ii,Ni,Pi,ni,Go,Ai],styles:[".condition-editor[_ngcontent-%COMP%]   .checklist[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border-radius:4px;padding:8px}.condition-editor[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;font-size:1.25rem}"],changeDetection:0})};function jC(o,n){if(o&1){let e=k();p(0,"span",5),O(1,"When"),u(),p(2,"span",1),y("click",function(){h(e);let i=l();return f(i.showActorDropdown=!0)})("keydown.enter",function(){h(e);let i=l();return f(i.showActorDropdown=!0)}),O(3),u(),p(4,"p-overlay",2),de("visibleChange",function(i){h(e);let r=l();return le(r.showActorDropdown,i)||(r.showActorDropdown=i),f(i)}),p(5,"div",6)(6,"p-treeselect",7),de("ngModelChange",function(i){h(e);let r=l();return le(r.actor,i)||(r.actor=i),f(i)}),y("onNodeSelect",function(){h(e);let i=l();return f(i.onActorSelected())}),u()()()}if(o&2){let e,t=l();d(3),ye(" ",((e=t.actor())==null||e.data==null?null:e.data.text)||"actor"," "),d(),se("visible",t.showActorDropdown),d(2),s("options",t.actorNodes())("filter",!0)("filterInputAutoFocus",!0),se("ngModel",t.actor),s("showClear",!0)}}var Uo=class o{actorNodes=R([]);actionNodes=R([]);requireActorBeforeAction=R(!0);actorId=R(void 0);actionId=R(void 0);actor=At(void 0);action=At(void 0);showActorDropdown=!1;showActionDropdown=!1;constructor(){Ve(()=>{let n=this.actorId(),e=this.actionId();if(C(n)&&this.actorNodes()?.length>0){let t=this.findActorNodeById(this.actorNodes(),n);C(t)&&t!==this.actor()&&this.actor.set(t)}if(C(e)&&this.actionNodes()?.length){let t=this.findActionNodeById(this.actionNodes(),e);C(t)&&t!==this.action()&&this.action.set(t)}})}onActorSelected(){this.showActorDropdown=!1}onActionSelected(){this.showActionDropdown=!1}handleActionClick(){this.requireActorBeforeAction()&&this.actorNodes().length>0&&$(this.actor())||(this.showActionDropdown=!0)}findActorNodeById(n,e){if(!($(n)||!e))for(let t of n){if(t.id===e||t.data?.actorId===e)return t;if(C(t.children)){let i=this.findActorNodeById(t.children,e);if(i)return i}}}findActionNodeById(n,e){if(!($(n)||!e))for(let t of n){if(t.id===e||t.data?.eventType===e)return t;if(C(t.children)){let i=this.findActionNodeById(t.children,e);if(i)return i}}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-actor-selector"]],inputs:{actorNodes:[1,"actorNodes"],actionNodes:[1,"actionNodes"],requireActorBeforeAction:[1,"requireActorBeforeAction"],actorId:[1,"actorId"],actionId:[1,"actionId"],actor:[1,"actor"],action:[1,"action"]},outputs:{actor:"actorChange",action:"actionChange"},decls:7,vars:8,consts:[[1,"filter-header"],[1,"underlined-field","cursor-pointer","mr-2",3,"click","keydown.enter"],["appendTo","body",3,"visibleChange","visible"],[1,"dropdown-panel","p-0","surface-card","shadow-2","border-round"],["placeholder","Select Action","optionLabel","name","styleClass","w-full bg-(--p-tree-background) min-w-[200px]",3,"ngModelChange","onNodeSelect","options","ngModel","showClear"],[1,"filter-text"],[1,"p-0","border-round"],["placeholder","Select Actor",1,"w-full","tree-select-background","min-w-[200px]",3,"ngModelChange","onNodeSelect","options","filter","filterInputAutoFocus","ngModel","showClear"]],template:function(e,t){if(e&1&&(p(0,"div",0),D(1,jC,7,7),p(2,"span",1),y("click",function(){return t.handleActionClick()})("keydown.enter",function(){return t.handleActionClick()}),O(3),u(),p(4,"p-overlay",2),de("visibleChange",function(r){return le(t.showActionDropdown,r)||(t.showActionDropdown=r),r}),p(5,"div",3)(6,"p-treeselect",4),de("ngModelChange",function(r){return le(t.action,r)||(t.action=r),r}),y("onNodeSelect",function(){return t.onActionSelected()}),u()()()()),e&2){let i;d(),F(t.actorNodes().length>0||t.requireActorBeforeAction()?1:-1),d(),at("disabled-text",!t.actor()&&t.requireActorBeforeAction()&&t.actorNodes().length>0),d(),ye(" ",((i=t.action())==null||i.data==null?null:i.data.text)||"action"," "),d(),se("visible",t.showActionDropdown),d(2),s("options",t.actionNodes()),se("ngModel",t.action),s("showClear",!0)}},dependencies:[K,Fe,qe,Ue,ri,oi,_t,We],styles:["[_nghost-%COMP%]{--p-treeselect-background: var(--p-tree-background) !important}[_nghost-%COMP%]   .p-treeselect-label.p-placeholder[_ngcontent-%COMP%]{color:var(--p-select-option-color)}"]})};var ea=dr(ml());var KC=["actorDropdown"],QC=["actionDropdown"],WC=["targetDropdown"],ZC=["conditionDropdown"];function YC(o,n){if(o&1){let e=k();p(0,"app-condition-list",6),y("editCondition",function(i){h(e);let r=l();return f(r.onEditCondition(i))})("removeCondition",function(i){h(e);let r=l();return f(r.onRemoveCondition(i))})("addCondition",function(i){h(e);let r=l();return f(r.onAddCondition(i))}),u()}if(o&2){let e=l();s("conditions",e.value().conditions)("availableConditions",e.availableConditions())("minConditions",e.minConditions())}}function XC(){return{provide:Se,useExisting:pe(()=>vn),multi:!0}}var vn=class o{cdr=_(et);id=R();required=R(!1);groupTypes=R([]);targetNodes=U([]);filterService=R(_(kt));minConditions=R(0);requireActorBeforeAction=R(!1);requireActionForConditions=R(!0);actorNodes=U([]);actionNodes=U([]);availableConditions=U([]);eventFilterConditionService=_($i);value=U({conditions:[]});get actor(){return this.value().actor}set actor(n){this.value.update(e=>J(L({},e),{actor:n})),this.onEventFilterChange(this.transformFilterItemForOutput(this.value())),this.updateAvailableConditions()}get action(){return this.value().action}set action(n){this.value.update(e=>J(L({},e),{action:n})),this.onEventFilterChange(this.transformFilterItemForOutput(this.value())),this.updateAvailableConditions(),this.updateTargetNodes()}get target(){return this.value().target}set target(n){this.value.update(e=>J(L({},e),{target:n})),this.onEventFilterChange(this.transformFilterItemForOutput(this.value()))}selectedCondition=null;selectedConditionIndex=-1;showConditionEditor=!1;actorDropdown;actionDropdown;targetDropdown;conditionDropdown;conditionEditor;touched=!1;onEventFilterChange=()=>{};onTouch=()=>{};constructor(){Ve(()=>{let n=this.value().actor,e=this.value().action;C(e)&&this.updateAvailableConditions()})}ngOnInit(){this.updateAvailableConditions(),this.loadAllNodes().catch(()=>{})}transformFilterItemForOutput(n){return $(n)?null:{actor:n.actor,action:n.action,target:n.target,conditions:n.conditions?.map(e=>L({},e))}}async loadAllNodes(){try{let[n,e]=await Promise.all([this.filterService().getAssetSelectionTree(this.groupTypes()),Promise.resolve(this.filterService().getActionEventsTree())]);this.actorNodes.set(n),this.actionNodes.set(e),this.cdr.markForCheck()}catch(n){console.error("Error loading nodes:",n),this.actorNodes.set([]),this.actionNodes.set([])}}transformIncomingValue(n){let e=t=>{if(C(t))return typeof t!="object"||t===null||$(t.data)&&$(t.key)?{data:t}:t};return{actor:e(n.actor),action:e(n.action),target:e(n.target),conditions:n.conditions??[]}}findNodeById(n,e){if(!($(e)||$(n)||n.length===0))for(let t of n){if(t.id===e)return t;if(C(t.children)&&t.children.length>0){let i=this.findNodeById(t.children,e);if(i)return i}}}generateActorKeyFromData(n){if($(n))return;let e=n.actorSelectionType??"",t=n.actorTypeId,i=n.actorId;return e==="any"&&C(t)?`any.${t}`:["costcentre","group","category"].includes(e)&&C(t)&&C(i)?`${e}.${t}.${i}`:n.actorId}generateActionKeyFromData(n){if($(n))return;let e=n.eventClass,t=n.eventType;if(C(e)&&C(t))return`event-${e}-${t}`;if(C(e))return`event-${e}`}generateTargetKeyFromData(n){if(!$(n))return n.targetId}writeValue(n){if(C(n)){let e=this.transformIncomingValue(n);if(C(e.conditions)&&e.conditions.length>0)for(let t of e.conditions)this.eventFilterConditionService.initializeConditionParts(t).catch(()=>{});this.loadAllNodes().then(async()=>{let t;if(C(e.actor?.data)){let a=this.generateActorKeyFromData(e?.actor?.data);t=this.findNodeById(this.actorNodes(),a)}let i;if(C(e?.action?.data)){let a=this.generateActionKeyFromData(e?.action?.data);i=this.findNodeById(this.actionNodes(),a)}let r;if(C(e.target?.data)&&C(e.action?.data?.targetType)){await this.filterService().getTargetNodes(e.action.data.targetType).then(c=>{this.targetNodes.set(c)}).catch(()=>{});let a=this.generateTargetKeyFromData(e?.target?.data);r=this.findNodeById(this.targetNodes(),a)}this.value.set({actor:t,action:i,target:r,conditions:e.conditions??[]}),C(this.value().action)&&this.updateAvailableConditions(),this.cdr.markForCheck()}).catch(t=>{console.error("Error loading nodes or processing value in writeValue:",t),this.value.set(e),this.cdr.markForCheck()})}else this.value.set({actor:void 0,action:void 0,target:void 0,conditions:[]}),this.cdr.markForCheck()}registerOnChange(n){this.onEventFilterChange=e=>{let t=this.transformFilterItemForOutput(e);n(t)}}registerOnTouched(n){this.onTouch=n}setDisabledState(n){}getActorNodeId(){let n=this.value()?.actor;if($(n))return;let e=n?.data?.actorSelectionType??"",t=n?.data?.actorTypeId,i=n?.data?.actorId;return e==="any"&&C(t)?`any.${t}`:["costcentre","group","category"].includes(e)&&C(t)&&C(i)?`${e}.${t}.${i}`:n?.data?.actorId}getActionNodeId(){let n=this.value()?.action;if(!($(n)||$(n.data)))return n.key??this.generateActionKeyFromData(n.data)}canShowConditions(){return!(this.requireActorBeforeAction()&&$(this.actor)||this.requireActionForConditions()&&$(this.action))}updateAvailableConditions(){C(this.action?.data)?(this.availableConditions.set(this.filterService().getConditionsTree(this.action.data)),this.cdr.markForCheck()):(this.availableConditions.set([]),this.cdr.markForCheck())}updateTargetNodes(){C(this.action?.data?.targetType)&&this.filterService().getTargetNodes(this.action?.data?.targetType).then(n=>{this.targetNodes.set(n),this.cdr.markForCheck()}).catch(()=>{})}onAddCondition(n){if($(n?.data))return;let e={id:n.data.id??Date.now().toString(),type:n.data.type,text:{display:""},values:{}};this.selectedCondition=(0,ea.cloneDeep)(e),this.selectedConditionIndex=-1,this.showConditionEditor=!0,this.touched=!0,this.cdr.markForCheck()}onEditCondition(n){this.selectedCondition=(0,ea.cloneDeep)(n.condition),this.selectedConditionIndex=n.index,this.showConditionEditor=!0,this.cdr.markForCheck()}onSaveCondition(n){if(this.selectedConditionIndex>=0){let e=[...this.value().conditions];e[this.selectedConditionIndex]=n,this.value.update(t=>J(L({},t),{conditions:e}))}else this.value.update(e=>J(L({},e),{conditions:[...e.conditions,n]}));this.touched=!0,this.onEventFilterChange(this.value()),this.closeConditionEditor()}onRemoveCondition(n){let e=this.value().conditions.filter(t=>t!==n);this.value.update(t=>J(L({},t),{conditions:e})),this.touched=!0,this.onEventFilterChange(this.value()),this.cdr.markForCheck()}closeConditionEditor(){this.selectedCondition=null,this.selectedConditionIndex=-1,this.showConditionEditor=!1,this.cdr.markForCheck()}isValid(){let n=this.value();return this.requireActorBeforeAction()&&$(n.actor)||$(n.action)||C(n.action?.data?.targetType)&&$(n.target)||n.conditions.length<this.minConditions()?!1:n.conditions.every(t=>Object.keys(t.values).length>0&&C(t.type))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-event-filter-field"]],viewQuery:function(e,t){if(e&1&&(H(KC,5),H(QC,5),H(WC,5),H(ZC,5),H(_n,5)),e&2){let i;w(i=T())&&(t.actorDropdown=i.first),w(i=T())&&(t.actionDropdown=i.first),w(i=T())&&(t.targetDropdown=i.first),w(i=T())&&(t.conditionDropdown=i.first),w(i=T())&&(t.conditionEditor=i.first)}},inputs:{id:[1,"id"],required:[1,"required"],groupTypes:[1,"groupTypes"],filterService:[1,"filterService"],minConditions:[1,"minConditions"],requireActorBeforeAction:[1,"requireActorBeforeAction"],requireActionForConditions:[1,"requireActionForConditions"]},features:[Z([XC()])],decls:6,vars:13,consts:[[1,"event-filter-field","p-3","border","border-gray-300","rounded"],[1,"mb-3"],[3,"actorChange","actionChange","actorNodes","actionNodes","requireActorBeforeAction","actorId","actionId","actor","action"],[3,"targetChange","targetType","targets","target"],[3,"conditions","availableConditions","minConditions"],[3,"visibleChange","saved","cancelled","visible","condition"],[3,"editCondition","removeCondition","addCondition","conditions","availableConditions","minConditions"]],template:function(e,t){if(e&1&&(p(0,"div",0)(1,"div",1)(2,"app-actor-selector",2),de("actorChange",function(r){return le(t.actor,r)||(t.actor=r),r})("actionChange",function(r){return le(t.action,r)||(t.action=r),r}),u(),p(3,"app-target-selector",3),de("targetChange",function(r){return le(t.target,r)||(t.target=r),r}),u()(),D(4,YC,1,3,"app-condition-list",4),u(),p(5,"app-condition-editor",5),de("visibleChange",function(r){return le(t.showConditionEditor,r)||(t.showConditionEditor=r),r}),y("saved",function(r){return t.onSaveCondition(r)})("cancelled",function(){return t.closeConditionEditor()}),u()),e&2){let i;d(2),s("actorNodes",t.actorNodes())("actionNodes",t.actionNodes())("requireActorBeforeAction",t.requireActorBeforeAction())("actorId",t.getActorNodeId())("actionId",t.getActionNodeId()),se("actor",t.actor)("action",t.action),d(),s("targetType",(i=t.value().action)==null||i.data==null?null:i.data.targetType)("targets",t.targetNodes()),se("target",t.target),d(),F(t.canShowConditions()?4:-1),d(),se("visible",t.showConditionEditor),s("condition",t.selectedCondition)}},dependencies:[K,Fe,ei,Qe,nt,ii,Uo,Ho,$o,_n],styles:[".underlined-field[_ngcontent-%COMP%]{text-decoration:underline;color:var(--color-primary-color, #2196f3);font-weight:500;padding:.25rem 0}.underlined-field[_ngcontent-%COMP%]:hover{color:var(--primary-600, #1e88e5)}.underlined-field.disabled-text[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed}.underlined-field.disabled-text[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:underline}.dropdown-panel[_ngcontent-%COMP%]{min-width:250px}.condition-item[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:4px}.condition-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.condition-item[_ngcontent-%COMP%]   .condition-text[_ngcontent-%COMP%]{padding:8px;flex:1}.condition-item[_ngcontent-%COMP%]   .condition-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.condition-editor[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:1rem}.condition-editor[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.condition-editor[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{margin-bottom:.5rem}.condition-editor[_ngcontent-%COMP%]   .checklist[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid #ced4da;border-radius:4px;padding:8px}.p-error[_ngcontent-%COMP%]{font-size:.875rem}.event-filter-field[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{margin-bottom:1rem}.event-filter-field[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.event-filter-field[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.event-filter-field[_ngcontent-%COMP%]   .actor-action-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media(min-width:768px){.event-filter-field[_ngcontent-%COMP%]   .actor-action-section[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.event-filter-field[_ngcontent-%COMP%]   .actor-action-section[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{flex:1}}.event-filter-field[_ngcontent-%COMP%]   .conditions-section[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem}.event-filter-field.invalid[_ngcontent-%COMP%]{border-color:#f44336}.event-filter-field.invalid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.875rem;margin-top:.25rem}"],changeDetection:0})};var jo=class o{assetsCache={};entities=_(gt);grouping=_(It);filterService=_(kt);clearCache(){this.assetsCache={}}async fetchAsset(n){try{return await xe(this.entities.getAsset(n))}catch{return null}}async getAssets(n,e,t=""){let i=n||"",r=`${i}:${t}:${e}`;return r in this.assetsCache||(this.assetsCache[r]=xe(this.entities.listAssets(i,0,e,"name:asc",`owner.id=${i}&state=active${t?"&name=*"+encodeURIComponent(t)+"*":""}`)).then(a=>{let c=typeof a?.count=="number"&&a.count>e?{limit:e,count:a.count}:void 0;return{items:Array.isArray(a?.items)?a.items:[],truncated:c}})),this.assetsCache[r]}async buildGroupTree(n){try{let{ownerId:e,allowedAssetTypes:t=[],excludeCategories:i=!1}=n,[r,a,c,m]=await Promise.all([this.grouping.getCostCentres(e),this.grouping.getAssetTypes(e),this.grouping.getAssetGroups(e),i?Promise.resolve([]):this.grouping.getAssetCategories(e)]),v=a.filter(S=>C(S?.name)&&(!t?.length||t.includes(S.name.toLowerCase())));return this.filterService.buildAssetSelectionTree(r,v,c,m,t)}catch(e){return console.error("Failed to build group tree",e),[]}}flattenGroupNodes(n){let e=[],t=i=>{i.forEach(r=>{r.data&&e.push({id:r.id,name:r.data.text??r.label,filter:r.data}),Array.isArray(r.children)&&r.children.length&&t(r.children)})};return t(n),e}toAssetFilter(n){let t=n.assetType,i=t?.name??"Asset";return{actorId:n.id,actorName:n.name??n.id,actorSelectionType:"specific",actorType:"asset",actorTypeId:t?.id??"",actorTypeName:i,text:`${i} "${n.name}"`}}createSpecificFromTag(n){return n.filter??{actorId:n.id,actorSelectionType:"specific",actorType:"asset",actorTypeId:"",actorTypeName:"Asset",text:n.name}}async search(n,e){let t=n.trim();if(!t)return[];let{ownerId:i,multi:r,groupTreeNodes:a,selectedIds:c}=e,[m,v]=await Promise.all([this.getAssets(i,10,t),r?Promise.resolve(this.flattenGroupNodes(a)):Promise.resolve([])]),S=v.filter(N=>N.name.toLowerCase().includes(t.toLowerCase()));return[...m.items.map(N=>({id:N.id,name:N.name??N.id,filter:this.toAssetFilter(N)})),...S].filter(N=>!c.includes(N.id))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var e1=()=>({standalone:!0}),t1=()=>({width:"100%"}),i1=(o,n)=>({"pi-plus":o,"pi-chevron-down":n}),n1=(o,n)=>n.id||n.name;function o1(o,n){if(o&1){let e=k();p(0,"li",12)(1,"span",13),O(2),u(),p(3,"p-button",14),y("onClick",function(){let i=h(e).$implicit,r=l(2);return f(r.removeTag(i))}),u()()}if(o&2){let e=n.$implicit,t=l(2);d(),s("title",e.name),d(),te(e.name),d(),s("disabled",t.isDisabled),x("aria-label","Remove "+e.name)}}function r1(o,n){if(o&1&&(p(0,"ul",3),Ee(1,o1,4,4,"li",12,n1),u()),o&2){let e=l();d(),De(e.selectedItems)}}function a1(o,n){if(o&1&&(p(0,"div",15),O(1),u()),o&2){let e=n.$implicit;d(),te(e.name)}}function l1(o,n){if(o&1){let e=k();p(0,"p-button",16),y("onClick",function(){h(e);let i=l();return f(i.clearSingle())}),I(1,"i",17),u()}if(o&2){let e=l();s("disabled",e.isDisabled)}}function s1(o,n){if(o&1){let e=k();p(0,"div",20)(1,"p-tree",23),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.assetTreeNodes)}}function d1(o,n){o&1&&(p(0,"div",21),O(1,"No assets available"),u())}function c1(o,n){if(o&1){let e=k();p(0,"div",20)(1,"p-tree",23),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.groupTreeNodes)}}function p1(o,n){o&1&&(p(0,"div",21),O(1,"No groups"),u())}function u1(o,n){if(o&1&&(p(0,"div",22),O(1),u()),o&2){let e=l(2);d(),Qt(" Showing ",e.truncatedList.limit," of ",e.truncatedList.count," items. Type more characters to narrow results.. ")}}function m1(o,n){if(o&1&&(p(0,"div",11)(1,"p-tabs",18)(2,"p-tablist")(3,"p-tab",18),O(4,"Assets"),u(),p(5,"p-tab",19),O(6,"Groups"),u()(),p(7,"p-tabpanels")(8,"p-tabpanel",18),D(9,s1,2,1,"div",20)(10,d1,2,0,"div",21),u(),p(11,"p-tabpanel",19),D(12,c1,2,1,"div",20)(13,p1,2,0,"div",21),u()()(),D(14,u1,2,2,"div",22),u()),o&2){let e=l();d(9),F(e.assetTreeNodes.length?9:10),d(3),F(e.groupTreeNodes.length?12:13),d(2),F(e.truncatedList?14:-1)}}function h1(o,n){if(o&1){let e=k();p(0,"div",20)(1,"p-tree",23),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.assetTreeNodes)}}function f1(o,n){o&1&&(p(0,"div",21),O(1,"No assets"),u())}function g1(o,n){if(o&1&&(p(0,"div",22),O(1),u()),o&2){let e=l(2);d(),Qt(" Showing ",e.truncatedList.limit," of ",e.truncatedList.count," items. Refine search. ")}}function _1(o,n){if(o&1&&(p(0,"div",11),D(1,h1,2,1,"div",20)(2,f1,2,0,"div",21),D(3,g1,2,2,"div",22),u()),o&2){let e=l();d(),F(e.assetTreeNodes.length?1:2),d(2),F(e.truncatedList?3:-1)}}function v1(){return{provide:Se,useExisting:pe(()=>bn),multi:!0}}var bn=class o{multi=R(!0);required=R(!1);readonly=R(!1);allowedAssetTypes=R([]);excludeCategories=R(!1);placeholder=R("Enter asset or vehicle name...");ownerId=R(void 0);touched=!1;dirty=!1;loading=!1;showPopup=!1;truncatedList=null;selectedItems=[];autoCompleteItems=[];assetTreeNodes=[];groupTreeNodes=[];searchTerm="";searchInput="";resolvedOwnerId;onChange=()=>{};onTouched=()=>{};internalValue={mode:"multi",value:[]};entities=_(gt);assetFilterSvc=_(jo);cdr=_(et);host=_(ht);constructor(){Ve(()=>{let n=this.ownerId();this.resolvedOwnerId=n!=null&&n.trim()!==""?n:void 0,this.resolvedOwnerId!==void 0&&this.resolvedOwnerId!==null&&this.resolvedOwnerId.trim()!==""&&this.initForMode()})}ngOnInit(){let n=this.ownerId();this.resolvedOwnerId=n!=null&&n.trim()!==""?n:void 0,this.initForMode()}writeValue(n){if(!C(n)){this.internalValue=this.multi()?{mode:"multi",value:[]}:{mode:"single",value:null},this.selectedItems=[],this.cdr.markForCheck();return}if(this.multi()){if(Array.isArray(n)){let e=n;this.internalValue={mode:"multi",value:e},this.selectedItems=e.map(t=>({id:t.actorId,name:t.text??t.actorName??t.actorId,filter:t}))}}else{let e=typeof n=="string"&&n.length?n:null;this.internalValue={mode:"single",value:e},e!==null?this.fetchAsset(e).then(t=>{t&&(this.selectedItems=[{id:t.id,name:t.name??t.id,filter:null}],this.cdr.markForCheck())}):this.selectedItems=[]}this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){}async initForMode(){this.resolvedOwnerId===void 0||this.resolvedOwnerId===null||this.resolvedOwnerId===""||(this.multi()&&(this.groupTreeNodes=await this.assetFilterSvc.buildGroupTree({ownerId:this.resolvedOwnerId,allowedAssetTypes:this.allowedAssetTypes(),excludeCategories:this.excludeCategories()})),await this.loadInitialAssets())}async loadInitialAssets(){this.loading=!0;try{let n=await this.assetFilterSvc.getAssets(this.resolvedOwnerId??"",100);n.truncated&&(this.truncatedList=n.truncated);let e=n.items;this.assetTreeNodes=e.map(t=>({id:t.id,label:t.name??t.id,data:this.assetFilterSvc.toAssetFilter(t)}))}finally{this.loading=!1,this.cdr.markForCheck()}}async onSearch(n){if(n=(n||"").trim(),!n){this.autoCompleteItems=[];return}this.loading=!0;try{this.autoCompleteItems=await this.assetFilterSvc.search(n,{ownerId:this.resolvedOwnerId??"",multi:this.multi(),groupTreeNodes:this.groupTreeNodes,selectedIds:this.selectedItems.map(e=>e.id)})}catch{this.autoCompleteItems=[]}finally{this.loading=!1,this.cdr.markForCheck()}}addTag(n){this.multi()?$(this.selectedItems.find(e=>e.id===n.id))&&(this.selectedItems=[...this.selectedItems,n]):this.selectedItems=[n],this.updateExternalValue()}removeTag(n){this.selectedItems=this.selectedItems.filter(e=>e.id!==n.id),this.updateExternalValue()}onTreeNodeSelect(n){let e;if(typeof n=="object"&&n!==null&&"node"in n?e=n.node:e=n,!e?.data)return;let t=e.data,i={id:e.id,name:t.text??e.label,filter:t};this.addTag(i),this.multi()||(this.showPopup=!1)}clearSingle(){this.multi()||(this.selectedItems=[],this.updateExternalValue())}updateExternalValue(){if(this.dirty=!0,this.multi()){let n=this.selectedItems.map(e=>e.filter??this.assetFilterSvc.createSpecificFromTag(e));this.internalValue={mode:"multi",value:n},this.onChange(n)}else{let n=this.selectedItems[0]?.id??null;this.internalValue={mode:"single",value:n},this.onChange(n)}this.cdr.markForCheck()}async fetchAsset(n){try{return await xe(this.entities.getAsset(n))}catch{return null}}onAutoComplete(n){this.searchTerm=n.query,this.onSearch(n.query)}onAutoItemSelected(n){let e=n.value;e!=null&&this.addTag(e),this.searchInput="",this.autoCompleteItems=[]}get invalid(){return this.required()&&this.touched&&(this.multi()?this.selectedItems.length===0:!this.selectedItems.length)}get isDisabled(){return this.readonly()||this.resolvedOwnerId===void 0||this.resolvedOwnerId===null||this.resolvedOwnerId.trim()===""}onFocusIn(){this.touched=!0}onDocClick(n){if(!this.showPopup)return;let e=n.target;if(!(e instanceof HTMLElement))return;let t=this.host.nativeElement.contains(e),i=!!e.closest(".af-popup");t===!1&&i===!1&&(this.showPopup=!1,this.cdr.markForCheck())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-asset-filter-field"]],hostBindings:function(e,t){e&1&&y("focusin",function(){return t.onFocusIn()})("click",function(r){return t.onDocClick(r)},Rn)},inputs:{multi:[1,"multi"],required:[1,"required"],readonly:[1,"readonly"],allowedAssetTypes:[1,"allowedAssetTypes"],excludeCategories:[1,"excludeCategories"],placeholder:[1,"placeholder"],ownerId:[1,"ownerId"]},features:[Z([v1()])],decls:14,vars:25,consts:[[1,"asset-filter-field","w-full"],[1,"sr-only"],[1,"input-wrapper"],["aria-label","Selected items",1,"tags"],[1,"ac-row"],["field","name","inputId","asset-filter-autocomplete",1,"ac","flex-grow",3,"ngModelChange","completeMethod","onSelect","ngModel","ngModelOptions","suggestions","forceSelection","placeholder","multiple","dropdown","minLength","appendTo","readonly","inputStyle"],["pTemplate","item"],["type","button","aria-label","Toggle selector","severity","primary",1,"btn-icon","toggle",3,"onClick","disabled"],[1,"pi",3,"ngClass"],["type","button","aria-label","Clear selection",1,"btn-icon","clear",3,"disabled"],["appendTo","body",3,"visibleChange","onHide","visible"],[1,"popup","af-popup"],[1,"tag","pill"],[1,"tag-label",3,"title"],["icon","pi pi-times",3,"onClick","disabled"],[1,"ac-item"],["type","button","aria-label","Clear selection",1,"btn-icon","clear",3,"onClick","disabled"],[1,"pi","pi-times"],["value","0"],["value","1"],[1,"tree-wrapper"],[1,"muted","px-2","py-1"],[1,"footer"],["selectionMode","single",3,"onNodeSelect","value"]],template:function(e,t){e&1&&(p(0,"fieldset",0)(1,"legend",1),O(2,"Asset Filter"),u(),p(3,"div",2),D(4,r1,3,0,"ul",3),p(5,"div",4)(6,"p-autoComplete",5),de("ngModelChange",function(r){return le(t.searchInput,r)||(t.searchInput=r),r}),y("completeMethod",function(r){return t.onAutoComplete(r)})("onSelect",function(r){return t.onAutoItemSelected(r)}),g(7,a1,2,1,"ng-template",6),u(),p(8,"p-button",7),y("onClick",function(){return t.showPopup=!t.showPopup}),I(9,"i",8),u(),D(10,l1,2,1,"p-button",9),u()(),p(11,"p-overlay",10),de("visibleChange",function(r){return le(t.showPopup,r)||(t.showPopup=r),r}),y("onHide",function(){return t.showPopup=!1}),D(12,m1,15,3,"div",11),D(13,_1,4,2,"div",11),u()()),e&2&&(at("disabled",t.isDisabled),d(4),F(t.selectedItems.length?4:-1),d(2),se("ngModel",t.searchInput),s("ngModelOptions",Ae(20,e1))("suggestions",t.autoCompleteItems)("forceSelection",!1)("placeholder",t.placeholder())("multiple",!1)("dropdown",!1)("minLength",2)("appendTo","body")("readonly",t.isDisabled||!t.multi()&&t.selectedItems.length===1)("inputStyle",Ae(21,t1)),d(2),s("disabled",t.isDisabled),d(),s("ngClass",fe(22,i1,t.multi(),!t.multi())),d(),F(!t.multi()&&t.selectedItems.length?10:-1),d(),se("visible",t.showPopup),d(),F(t.multi()?12:-1),d(),F(t.multi()?-1:13))},dependencies:[K,tt,Fe,qe,Ue,qi,Ri,ve,Qe,Ye,_t,We,zi,qt,oo,Jn,no,io,eo,to,nt],styles:[".asset-filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.asset-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]{display:flex;align-items:stretch;width:100%;gap:.25rem}.asset-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]   .p-autocomplete[_ngcontent-%COMP%], .asset-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]   .p-autocomplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%}.asset-filter-field[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%], .asset-filter-field[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]{flex:0 0 auto;height:2.5rem;width:2.5rem;display:inline-flex;align-items:center;justify-content:center;border-radius:.375rem;cursor:pointer;transition:background .15s ease,color .15s ease}.asset-filter-field[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.asset-filter-field[_ngcontent-%COMP%]   .tag.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;max-width:100%;font-size:.75rem;line-height:1;padding:.4rem .55rem .4rem .6rem;border-radius:9999px;box-shadow:0 1px 2px #0000000f;position:relative;transition:background .15s ease}.asset-filter-field[_ngcontent-%COMP%]   .tag-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:12rem}.asset-filter-field[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;margin-left:.4rem;cursor:pointer;font-size:.85rem;line-height:1;padding:0;display:inline-flex;align-items:center;justify-content:center}.asset-filter-field[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:hover{color:#fef3c7}.asset-filter-field[_ngcontent-%COMP%]   .popup.af-popup[_ngcontent-%COMP%]{min-width:420px;max-width:560px}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav{background:transparent;border-bottom:1px solid #e5e7eb}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link{background:transparent;border:none;border-bottom:2px solid transparent;color:#6b7280;font-weight:500;padding:.75rem 1rem;transition:all .2s ease}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link:not(.p-disabled):focus{box-shadow:none;outline:2px solid #3b82f6;outline-offset:-2px}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link:hover{background:#3b82f60d;color:#3b82f6}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-highlight .p-tabview-nav-link{background:transparent;border-bottom-color:#3b82f6;color:#3b82f6}.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-panels{background:transparent;padding:1rem 0 0;border:none}.asset-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.asset-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel{border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.asset-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item{padding:0;border:none}.asset-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item:hover{background:#f3f4f6}.asset-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item.p-highlight{background:#eff6ff;color:#1e40af}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-label:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel{border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header{background:#f9fafb;border-bottom:1px solid #e5e7eb;padding:.75rem}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{border:1px solid #d1d5db;border-radius:.375rem;padding:.5rem .75rem}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item{padding:.5rem .75rem;border:none}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item:hover{background:#f3f4f6}.asset-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight{background:#eff6ff;color:#1e40af}.asset-filter-field[_ngcontent-%COMP%]   .selected-asset-tag[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.asset-filter-field[_ngcontent-%COMP%]   .selected-asset-tag[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1e40af)}.asset-filter-field[_ngcontent-%COMP%]   .selected-asset-tag[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff3}.asset-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{transition:all .2s ease}.asset-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fca5a5;color:#dc2626;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.asset-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.asset-filter-field.disabled[_ngcontent-%COMP%]{opacity:.6}.asset-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%], .asset-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]{cursor:not-allowed;background:#f9fafb;color:#9ca3af}.asset-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%]:hover, .asset-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]:hover{background:#f9fafb;color:#9ca3af}.asset-filter-field.disabled[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{cursor:not-allowed}.asset-filter-field.disabled[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:hover{color:#fff}.asset-filter-field.disabled[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext{background:#f9fafb;color:#9ca3af;cursor:not-allowed}.asset-filter-field.disabled[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext:focus{border-color:#d1d5db;box-shadow:none}@media(max-width:768px){.asset-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link{padding:.5rem .75rem;font-size:.875rem}}"],changeDetection:0})};var Ko=class o{zonesCache={};entities=_(gt);grouping=_(It);filterService=_(kt);clearCache(){this.zonesCache={}}async fetchZone(n){try{return await xe(this.entities.getZone(n))}catch{return null}}async getZones(n,e,t=""){let i=n||"",r=`${i}:${t}:${e}`;return r in this.zonesCache||(this.zonesCache[r]=xe(this.entities.listZones(i,0,e,"name:asc",`owner.id=${i}&state=active${t?"&name=*"+encodeURIComponent(t)+"*":""}`)).then(a=>{let c=typeof a?.count=="number"&&a.count>e?{limit:e,count:a.count}:void 0;return{items:Array.isArray(a?.items)?a.items:[],truncated:c}})),this.zonesCache[r]}async buildGroupTree(n){try{let{ownerId:e}=n,t=await this.grouping.getZoneGroupsAsTree(e),i=r=>r.map(a=>({id:a.id,label:a.name,data:{actorId:a.id,actorName:a.name,actorSelectionType:"group",actorType:"zone",actorTypeId:"",actorTypeName:"Zone Group",text:a.name},children:Array.isArray(a.children)?i(a.children):[]}));return i(t)}catch(e){return console.error("Failed to build group tree",e),[]}}flattenGroupNodes(n){let e=[],t=i=>{for(let r of i)r.data&&e.push({id:r.id,name:r.data.text??r.label,filter:r.data}),Array.isArray(r.children)&&r.children.length&&t(r.children)};return t(n),e}toZoneFilter(n){return{actorId:n.id,actorName:n.name??n.id,actorSelectionType:"specific",actorType:"zone",actorTypeId:"",actorTypeName:"Zone",text:`Zone "${n.name}"`,zoneType:n.zoneType}}createSpecificFromTag(n){return n.filter??{actorId:n.id,actorSelectionType:"specific",actorType:"zone",actorTypeId:"",actorTypeName:"Zone",text:n.name}}async search(n,e){let t=n.trim();if(!t)return[];let{ownerId:i,multi:r,groupTreeNodes:a,selectedIds:c}=e,[m,v]=await Promise.all([this.getZones(i,10,t),r?Promise.resolve(this.flattenGroupNodes(a)):Promise.resolve([])]),S=v.filter(N=>N.name.toLowerCase().includes(t.toLowerCase()));return[...m.items.map(N=>({id:N.id,name:N.name??N.id,filter:this.toZoneFilter(N)})),...S].filter(N=>!c.includes(N.id))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var b1=()=>({standalone:!0}),y1=()=>({width:"100%"}),C1=(o,n)=>({"pi-plus":o,"pi-chevron-down":n}),x1=(o,n)=>n.id||n.name;function w1(o,n){if(o&1){let e=k();p(0,"li",13)(1,"span",14),O(2),u(),p(3,"p-button",15),y("onClick",function(){let i=h(e).$implicit,r=l(2);return f(r.removeTag(i))}),u()()}if(o&2){let e=n.$implicit,t=l(2);d(),s("title",e.name),d(),te(e.name),d(),s("disabled",t.isDisabled),x("aria-label","Remove "+e.name)}}function T1(o,n){if(o&1&&(p(0,"ul",3),Ee(1,w1,4,4,"li",13,x1),u()),o&2){let e=l();d(),De(e.selectedItems())}}function S1(o,n){if(o&1&&(p(0,"div",16),O(1),u()),o&2){let e=n.$implicit;d(),te(e.name)}}function I1(o,n){if(o&1){let e=k();p(0,"p-button",17),y("onClick",function(){h(e);let i=l();return f(i.clearSingle())}),I(1,"i",18),u()}if(o&2){let e=l();s("disabled",e.isDisabled)}}function k1(o,n){if(o&1){let e=k();p(0,"div",21)(1,"p-tree",24),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.zoneTreeNodes)}}function E1(o,n){o&1&&(p(0,"div",22),O(1,"No zones available"),u())}function D1(o,n){if(o&1){let e=k();p(0,"div",21)(1,"p-tree",24),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.groupTreeNodes)}}function F1(o,n){o&1&&(p(0,"div",22),O(1,"No groups"),u())}function M1(o,n){if(o&1&&(p(0,"div",23),O(1),u()),o&2){let e=l(2);d(),Qt(" Showing ",e.truncatedList.limit," of ",e.truncatedList.count," items. Type more characters to narrow results.. ")}}function O1(o,n){if(o&1&&(p(0,"div",11)(1,"p-tabs",19)(2,"p-tablist")(3,"p-tab",19),O(4,"Zones"),u(),p(5,"p-tab",20),O(6,"Groups"),u()(),p(7,"p-tabpanels")(8,"p-tabpanel",19),D(9,k1,2,1,"div",21)(10,E1,2,0,"div",22),u(),p(11,"p-tabpanel",20),D(12,D1,2,1,"div",21)(13,F1,2,0,"div",22),u()()(),D(14,M1,2,2,"div",23),u()),o&2){let e=l();d(9),F(e.zoneTreeNodes.length?9:10),d(3),F(e.groupTreeNodes.length?12:13),d(2),F(e.truncatedList?14:-1)}}function N1(o,n){if(o&1){let e=k();p(0,"div",21)(1,"p-tree",24),y("onNodeSelect",function(i){h(e);let r=l(2);return f(r.onTreeNodeSelect(i))}),u()()}if(o&2){let e=l(2);d(),s("value",e.zoneTreeNodes)}}function V1(o,n){o&1&&(p(0,"div",22),O(1,"No zones"),u())}function P1(o,n){if(o&1&&(p(0,"div",23),O(1),u()),o&2){let e=l(2);d(),Qt(" Showing ",e.truncatedList.limit," of ",e.truncatedList.count," items. Refine search. ")}}function A1(o,n){if(o&1&&(p(0,"div",11),D(1,N1,2,1,"div",21)(2,V1,2,0,"div",22),D(3,P1,2,2,"div",23),u()),o&2){let e=l();d(),F(e.zoneTreeNodes.length?1:2),d(2),F(e.truncatedList?3:-1)}}function R1(o,n){o&1&&(p(0,"div",12)(1,"div"),O(2,"This field is required"),u()())}function q1(){return{provide:Se,useExisting:pe(()=>yn),multi:!0}}var yn=class o{multi=R(!0);required=R(!1);readonly=R(!1);placeholder=R("Enter zone name...");ownerId=R(void 0);touched=!1;dirty=!1;loading=!1;showPopup=!1;truncatedList=null;selectedItems=U([]);autoCompleteItems=[];zoneTreeNodes=[];groupTreeNodes=[];searchTerm="";searchInput="";resolvedOwnerId;onChange=()=>{};onTouched=()=>{};internalValue={mode:"multi",value:[]};entities=_(gt);zoneFilterSvc=_(Ko);cdr=_(et);host=_(ht);constructor(){Ve(()=>{let n=this.ownerId();this.resolvedOwnerId=n!=null&&n.trim()!==""?n:void 0,this.resolvedOwnerId!==void 0&&this.resolvedOwnerId!==null&&this.resolvedOwnerId.trim()!==""&&this.initForMode()})}ngOnInit(){let n=this.ownerId();this.resolvedOwnerId=n!=null&&n.trim()!==""?n:void 0,this.initForMode()}writeValue(n){if(!C(n)){this.internalValue=this.multi()?{mode:"multi",value:[]}:{mode:"single",value:null},this.selectedItems.set([]),this.cdr.markForCheck();return}if(this.multi()){if(Array.isArray(n)){let e=n;this.internalValue={mode:"multi",value:e},this.selectedItems.set(e.map(t=>({id:t.actorId,name:t.text??t.actorName??t.actorId,filter:t})))}}else{let e=typeof n=="string"&&n.length?n:null;this.internalValue={mode:"single",value:e},e===null?this.selectedItems.set([]):this.fetchZone(e).then(t=>{t&&(this.selectedItems.set([{id:t.id,name:t.name??t.id,filter:null}]),this.cdr.markForCheck())})}this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){}async initForMode(){this.resolvedOwnerId===void 0||this.resolvedOwnerId===null||this.resolvedOwnerId===""||(this.multi()&&(this.groupTreeNodes=await this.zoneFilterSvc.buildGroupTree({ownerId:this.resolvedOwnerId})),await this.loadInitialZones())}async loadInitialZones(){this.loading=!0;try{let n=await this.zoneFilterSvc.getZones(this.resolvedOwnerId??"",100);n.truncated&&(this.truncatedList=n.truncated);let e=n.items;this.zoneTreeNodes=e.map(t=>({id:t.id,label:t.name??t.id,data:this.zoneFilterSvc.toZoneFilter(t)}))}finally{this.loading=!1,this.cdr.markForCheck()}}async onSearch(n){if(n=(n||"").trim(),!n){this.autoCompleteItems=[];return}this.loading=!0,this.dirty=!0;try{this.autoCompleteItems=await this.zoneFilterSvc.search(n,{ownerId:this.resolvedOwnerId??"",multi:this.multi(),groupTreeNodes:this.groupTreeNodes,selectedIds:this.selectedItems().map(e=>e.id)})}catch{this.autoCompleteItems=[]}finally{this.loading=!1,this.cdr.markForCheck()}}addTag(n){this.multi()?$(this.selectedItems().find(e=>e.id===n.id))&&this.selectedItems.update(e=>[...e,n]):this.selectedItems.set([n]),this.updateExternalValue()}removeTag(n){this.selectedItems.update(e=>{let t=e.findIndex(i=>i.id===n.id);return t>-1?[...e.slice(0,t),...e.slice(t+1)]:e}),this.updateExternalValue()}onTreeNodeSelect(n){this.dirty=!0;let e;if(typeof n=="object"&&n!==null&&"node"in n?e=n.node:e=n,!e?.data)return;let t=e.data,i={id:e.id,name:t.text??e.label,filter:t};this.selectedItems().some(r=>r.id===i.id)||this.addTag(i),this.showPopup=!1}clearSingle(){this.multi()||(this.selectedItems.set([]),this.updateExternalValue())}updateExternalValue(){if(this.dirty=!0,this.touched=!0,this.multi()){let n=this.selectedItems().map(e=>e.filter??this.zoneFilterSvc.createSpecificFromTag(e));this.internalValue={mode:"multi",value:n},this.onChange(n)}else{let n=this.selectedItems()[0]?.id??null;this.internalValue={mode:"single",value:n},this.onChange(n)}this.cdr.markForCheck()}async fetchZone(n){try{return await xe(this.entities.getZone(n))}catch{return null}}onAutoComplete(n){this.searchTerm=n.query,this.onSearch(n.query)}onAutoItemSelected(n){let e=n.value;e!=null&&this.addTag(e),this.searchInput="",this.autoCompleteItems=[]}get invalid(){return this.required()&&this.touched&&(this.multi()?this.selectedItems().length===0:!this.selectedItems().length)}validate(){return this.touched=!0,this.dirty=!0,this.cdr.markForCheck(),!this.required()||this.selectedItems().length>0}get isDisabled(){return this.readonly()||this.resolvedOwnerId===void 0||this.resolvedOwnerId===null||this.resolvedOwnerId.trim()===""}onFocusIn(){this.touched=!0}onDocClick(n){if(!this.showPopup)return;let e=n.target;if(!(e instanceof HTMLElement))return;let t=this.host.nativeElement.contains(e),i=!!e.closest(".af-popup");t===!1&&i===!1&&(this.showPopup=!1,this.cdr.markForCheck())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-zone-filter-field"]],hostBindings:function(e,t){e&1&&y("focusin",function(){return t.onFocusIn()})("click",function(r){return t.onDocClick(r)},Rn)},inputs:{multi:[1,"multi"],required:[1,"required"],readonly:[1,"readonly"],placeholder:[1,"placeholder"],ownerId:[1,"ownerId"]},features:[Z([q1()])],decls:15,vars:26,consts:[[1,"zone-filter-field","w-full"],[1,"sr-only"],[1,"input-wrapper"],["aria-label","Selected items",1,"tags"],[1,"ac-row"],["field","name","inputId","zone-filter-autocomplete",1,"ac","flex-grow",3,"ngModelChange","completeMethod","onSelect","ngModel","ngModelOptions","suggestions","forceSelection","placeholder","multiple","dropdown","minLength","appendTo","readonly","inputStyle"],["pTemplate","item"],["type","button","aria-label","Toggle selector","severity","primary",1,"btn-icon","toggle",3,"onClick","disabled"],[1,"pi",3,"ngClass"],["type","button","aria-label","Clear selection",1,"btn-icon","clear",3,"disabled"],["appendTo","body",3,"visibleChange","onHide","visible"],[1,"popup","af-popup"],[1,"invalid-feedback","d-block"],[1,"tag","pill"],[1,"tag-label",3,"title"],["icon","pi pi-times",3,"onClick","disabled"],[1,"ac-item"],["type","button","aria-label","Clear selection",1,"btn-icon","clear",3,"onClick","disabled"],[1,"pi","pi-times"],["value","0"],["value","1"],[1,"tree-wrapper"],[1,"muted","px-2","py-1"],[1,"footer"],["selectionMode","single",3,"onNodeSelect","value"]],template:function(e,t){e&1&&(p(0,"fieldset",0)(1,"legend",1),O(2,"Zone Filter"),u(),p(3,"div",2),D(4,T1,3,0,"ul",3),p(5,"div",4)(6,"p-autoComplete",5),de("ngModelChange",function(r){return le(t.searchInput,r)||(t.searchInput=r),r}),y("completeMethod",function(r){return t.onAutoComplete(r)})("onSelect",function(r){return t.onAutoItemSelected(r)}),g(7,S1,2,1,"ng-template",6),u(),p(8,"p-button",7),y("onClick",function(){return t.showPopup=!t.showPopup}),I(9,"i",8),u(),D(10,I1,2,1,"p-button",9),u()(),p(11,"p-overlay",10),de("visibleChange",function(r){return le(t.showPopup,r)||(t.showPopup=r),r}),y("onHide",function(){return t.showPopup=!1}),D(12,O1,15,3,"div",11),D(13,A1,4,2,"div",11),u(),D(14,R1,3,0,"div",12),u()),e&2&&(at("disabled",t.isDisabled),d(4),F(t.selectedItems().length?4:-1),d(2),se("ngModel",t.searchInput),s("ngModelOptions",Ae(21,b1))("suggestions",t.autoCompleteItems)("forceSelection",!1)("placeholder",t.placeholder())("multiple",!1)("dropdown",!1)("minLength",2)("appendTo","body")("readonly",t.isDisabled||!t.multi()&&t.selectedItems().length===1)("inputStyle",Ae(22,y1)),d(2),s("disabled",t.isDisabled),d(),s("ngClass",fe(23,C1,t.multi(),!t.multi())),d(),F(!t.multi()&&t.selectedItems().length?10:-1),d(),se("visible",t.showPopup),d(),F(t.multi()?12:-1),d(),F(t.multi()?-1:13),d(),F(t.required()&&t.dirty&&t.touched&&t.selectedItems().length===0?14:-1))},dependencies:[K,tt,Fe,qe,Ue,qi,Ri,ve,Qe,Ye,_t,We,zi,qt,oo,Jn,no,io,eo,to,nt],styles:[".zone-filter-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.zone-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]{display:flex;align-items:stretch;width:100%;gap:.25rem}.zone-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]   .p-autocomplete[_ngcontent-%COMP%], .zone-filter-field[_ngcontent-%COMP%]   .ac-row[_ngcontent-%COMP%]   .p-autocomplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%}.zone-filter-field[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%], .zone-filter-field[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]{flex:0 0 auto;height:2.5rem;width:2.5rem;display:inline-flex;align-items:center;justify-content:center;border-radius:.375rem;cursor:pointer;transition:background .15s ease,color .15s ease}.zone-filter-field[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.zone-filter-field[_ngcontent-%COMP%]   .tag.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;max-width:100%;font-size:.75rem;line-height:1;padding:.4rem .55rem .4rem .6rem;border-radius:9999px;box-shadow:0 1px 2px #0000000f;position:relative;transition:background .15s ease}.zone-filter-field[_ngcontent-%COMP%]   .tag-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:12rem}.zone-filter-field[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{background:transparent;color:#fff;border:none;margin-left:.4rem;cursor:pointer;font-size:.85rem;line-height:1;padding:0;display:inline-flex;align-items:center;justify-content:center}.zone-filter-field[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:hover{color:#fef3c7}.zone-filter-field[_ngcontent-%COMP%]   .popup.af-popup[_ngcontent-%COMP%]{min-width:420px;max-width:560px}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav{background:transparent;border-bottom:1px solid #e5e7eb}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link{background:transparent;border:none;border-bottom:2px solid transparent;color:#6b7280;font-weight:500;padding:.75rem 1rem;transition:all .2s ease}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link:not(.p-disabled):focus{box-shadow:none;outline:2px solid #3b82f6;outline-offset:-2px}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link:hover{background:#3b82f60d;color:#3b82f6}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-highlight .p-tabview-nav-link{background:transparent;border-bottom-color:#3b82f6;color:#3b82f6}.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-panels{background:transparent;padding:1rem 0 0;border:none}.zone-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.zone-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel{border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.zone-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item{padding:0;border:none}.zone-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item:hover{background:#f3f4f6}.zone-filter-field[_ngcontent-%COMP%]     .p-autocomplete .p-autocomplete-panel .p-autocomplete-items .p-autocomplete-item.p-highlight{background:#eff6ff;color:#1e40af}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-label:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel{border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header{background:#f9fafb;border-bottom:1px solid #e5e7eb;padding:.75rem}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{border:1px solid #d1d5db;border-radius:.375rem;padding:.5rem .75rem}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item{padding:.5rem .75rem;border:none}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item:hover{background:#f3f4f6}.zone-filter-field[_ngcontent-%COMP%]     .p-multiselect .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight{background:#eff6ff;color:#1e40af}.zone-filter-field[_ngcontent-%COMP%]   .selected-zone-tag[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.zone-filter-field[_ngcontent-%COMP%]   .selected-zone-tag[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1e40af)}.zone-filter-field[_ngcontent-%COMP%]   .selected-zone-tag[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff3}.zone-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{transition:all .2s ease}.zone-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fca5a5;color:#dc2626;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.zone-filter-field[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.zone-filter-field.disabled[_ngcontent-%COMP%]{opacity:.6}.zone-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%], .zone-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]{cursor:not-allowed;background:#f9fafb;color:#9ca3af}.zone-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.toggle[_ngcontent-%COMP%]:hover, .zone-filter-field.disabled[_ngcontent-%COMP%]   .btn-icon.clear[_ngcontent-%COMP%]:hover{background:#f9fafb;color:#9ca3af}.zone-filter-field.disabled[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{cursor:not-allowed}.zone-filter-field.disabled[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:hover{color:#fff}.zone-filter-field.disabled[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext{background:#f9fafb;color:#9ca3af;cursor:not-allowed}.zone-filter-field.disabled[_ngcontent-%COMP%]     .p-autocomplete .p-inputtext:focus{border-color:#d1d5db;box-shadow:none}@media(max-width:768px){.zone-filter-field[_ngcontent-%COMP%]   .custom-tabview[_ngcontent-%COMP%]     .p-tabview-nav .p-tabview-nav-link{padding:.5rem .75rem;font-size:.875rem}}"],changeDetection:0})};var zd=`
    .p-tieredmenu {
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        min-width: 12.5rem;
    }
    

    .p-tieredmenu-root-list,
    .p-tieredmenu-submenu {
        margin: 0;
        padding: dt('tieredmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('tieredmenu.list.gap');
    }

    .p-tieredmenu-submenu {
        position: absolute;
        min-width: 100%;
        z-index: 1;
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-item {
        position: relative;
    }

    .p-tieredmenu-item-content {
        transition:
            background dt('tieredmenu.transition.duration'),
            color dt('tieredmenu.transition.duration');
        border-radius: dt('tieredmenu.item.border.radius');
        color: dt('tieredmenu.item.color');
    }

    .p-tieredmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('tieredmenu.item.padding');
        gap: dt('tieredmenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-tieredmenu-item-label {
        line-height: 1;
    }

    .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.color');
    }

    .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('tieredmenu.submenu.icon.size');
        width: dt('tieredmenu.submenu.icon.size');
        height: dt('tieredmenu.submenu.icon.size');
    }

    .p-tieredmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.active.color');
        background: dt('tieredmenu.item.active.background');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.active.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.active.color');
    }

    .p-tieredmenu-separator {
        border-block-start: 1px solid dt('tieredmenu.separator.border.color');
    }

    .p-tieredmenu-overlay {
        box-shadow: dt('tieredmenu.shadow');
        will-change: transform;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu:dir(rtl) {
        padding-inline-start: 0;
        padding-inline-end: dt('tieredmenu.submenu.mobile.indent');
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-tieredmenu-mobile .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var L1=["sublist"],B1=o=>({processedItem:o}),z1=()=>({exact:!1}),H1=(o,n)=>({$implicit:o,hasSubmenu:n});function $1(o,n){if(o&1&&I(0,"li",8),o&2){let e=l().$implicit,t=l(2);be(t.getItemProp(e,"style")),b(t.cn(t.cx("separator"),t.getItemProp(e,"class"),t.getItemProp(e,"styleClass"))),s("pBind",t._ptm("separator")),x("id",t.getItemId(e))}}function G1(o,n){if(o&1&&I(0,"span",19),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),s("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,i,"itemIcon")),x("tabindex",-1)}}function U1(o,n){if(o&1&&(p(0,"span",19),O(1),u()),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemLabel"),r.getItemProp(t,"labelClass"))),s("ngStyle",r.getItemProp(t,"labelStyle"))("pBind",r.getPTOptions(t,i,"itemLabel")),d(),ye(" ",r.getItemLabel(t)," ")}}function j1(o,n){if(o&1&&I(0,"span",20),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemLabel"),r.getItemProp(t,"labelClass"))),s("ngStyle",r.getItemProp(t,"labelStyle"))("innerHTML",r.getItemLabel(t),tn)("pBind",r.getPTOptions(t,i,"itemLabel"))}}function K1(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(4).$implicit,t=l(2);b(t.cn(t.cx("itemBadge"),t.getItemProp(e,"badgeStyleClass"))),d(),te(t.getItemProp(e,"badge"))}}function Q1(o,n){if(o&1&&(ee(),I(0,"svg",23)),o&2){let e=l(5),t=e.$implicit,i=e.index,r=l(2);b(r.cx("submenuIcon")),s("pBind",r.getPTOptions(t,i,"submenuIcon")),x("aria-hidden",!0)}}function W1(o,n){}function Z1(o,n){o&1&&g(0,W1,0,0,"ng-template",24),o&2&&hr("aria-hidden",!0)}function Y1(o,n){if(o&1&&(Y(0),g(1,Q1,1,4,"svg",21)(2,Z1,1,1,null,22),X()),o&2){let e=l(6);d(),s("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),d(),s("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function X1(o,n){if(o&1&&(p(0,"a",15),g(1,G1,1,5,"span",16)(2,U1,2,5,"span",17)(3,j1,1,5,"ng-template",null,2,ie)(5,K1,2,3,"span",18)(6,Y1,3,2,"ng-container",11),u()),o&2){let e=Pe(4),t=l(3),i=t.$implicit,r=t.index,a=l(2);b(a.cn(a.cx("itemLink"),a.getItemProp(i,"linkClass"))),s("target",a.getItemProp(i,"target"))("ngStyle",a.getItemProp(i,"linkStyle"))("pBind",a.getPTOptions(i,r,"itemLink")),x("href",a.getItemProp(i,"url"),An)("data-automationid",a.getItemProp(i,"automationId"))("title",a.getItemProp(i,"title"))("tabindex",-1),d(),s("ngIf",a.getItemProp(i,"icon")),d(),s("ngIf",a.getItemProp(i,"escape"))("ngIfElse",e),d(3),s("ngIf",a.getItemProp(i,"badge")),d(),s("ngIf",a.isItemGroup(i))}}function J1(o,n){if(o&1&&I(0,"span",19),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),s("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,i,"itemIcon")),x("aria-hidden",!0)("tabindex",-1)}}function ex(o,n){if(o&1&&(p(0,"span",19),O(1),u()),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemLabel"),r.getItemProp(t,"labelClass"))),s("ngStyle",r.getItemProp(t,"labelStyle"))("pBind",r.getPTOptions(t,i,"itemLabel")),d(),ye(" ",r.getItemLabel(t)," ")}}function tx(o,n){if(o&1&&I(0,"span",20),o&2){let e=l(4),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("itemLabel"),r.getItemProp(t,"labelClass"))),s("ngStyle",r.getItemProp(t,"labelStyle"))("innerHTML",r.getItemLabel(t),tn)("pBind",r.getPTOptions(t,i,"itemLabel"))}}function ix(o,n){if(o&1&&(p(0,"span"),O(1),u()),o&2){let e=l(4).$implicit,t=l(2);b(t.cn(t.cx("itemBadge"),t.getItemProp(e,"badgeStyleClass"))),d(),te(t.getItemProp(e,"badge"))}}function nx(o,n){if(o&1&&(ee(),I(0,"svg",23)),o&2){let e=l(5),t=e.$implicit,i=e.index,r=l(2);b(r.cx("submenuIcon")),s("pBind",r.getPTOptions(t,i,"submenuIcon")),x("aria-hidden",!0)}}function ox(o,n){}function rx(o,n){o&1&&g(0,ox,0,0,"ng-template",24),o&2&&hr("aria-hidden",!0)}function ax(o,n){if(o&1&&(Y(0),g(1,nx,1,4,"svg",21)(2,rx,1,1,null,22),X()),o&2){let e=l(6);d(),s("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),d(),s("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function lx(o,n){if(o&1&&(p(0,"a",25),g(1,J1,1,6,"span",16)(2,ex,2,5,"span",17)(3,tx,1,5,"ng-template",null,2,ie)(5,ix,2,3,"span",18)(6,ax,3,2,"ng-container",11),u()),o&2){let e=Pe(4),t=l(3),i=t.$implicit,r=t.index,a=l(2);b(a.cn(a.cx("itemLink"),a.getItemProp(i,"linkClass"))),s("routerLink",a.getItemProp(i,"routerLink"))("queryParams",a.getItemProp(i,"queryParams"))("routerLinkActive","p-tieredmenu-item-link-active")("routerLinkActiveOptions",a.getItemProp(i,"routerLinkActiveOptions")||Ae(23,z1))("target",a.getItemProp(i,"target"))("ngStyle",a.getItemProp(i,"linkStyle"))("fragment",a.getItemProp(i,"fragment"))("queryParamsHandling",a.getItemProp(i,"queryParamsHandling"))("preserveFragment",a.getItemProp(i,"preserveFragment"))("skipLocationChange",a.getItemProp(i,"skipLocationChange"))("replaceUrl",a.getItemProp(i,"replaceUrl"))("state",a.getItemProp(i,"state"))("pBind",a.getPTOptions(i,r,"itemLink")),x("data-automationid",a.getItemProp(i,"automationId"))("title",a.getItemProp(i,"title"))("tabindex",-1),d(),s("ngIf",a.getItemProp(i,"icon")),d(),s("ngIf",a.getItemProp(i,"escape"))("ngIfElse",e),d(3),s("ngIf",a.getItemProp(i,"badge")),d(),s("ngIf",a.isItemGroup(i))}}function sx(o,n){if(o&1&&(Y(0),g(1,X1,7,14,"a",13)(2,lx,7,24,"a",14),X()),o&2){let e=l(2).$implicit,t=l(2);d(),s("ngIf",!t.getItemProp(e,"routerLink")),d(),s("ngIf",t.getItemProp(e,"routerLink"))}}function dx(o,n){}function cx(o,n){o&1&&g(0,dx,0,0,"ng-template")}function px(o,n){if(o&1&&(Y(0),g(1,cx,1,0,null,26),X()),o&2){let e=l(2).$implicit,t=l(2);d(),s("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",fe(2,H1,e.item,t.getItemProp(e,"items")))}}function ux(o,n){if(o&1){let e=k();p(0,"p-tieredmenusub",27),y("itemClick",function(i){h(e);let r=l(4);return f(r.itemClick.emit(i))})("itemMouseEnter",function(i){h(e);let r=l(4);return f(r.onItemMouseEnter(i))}),u()}if(o&2){let e=l(2).$implicit,t=l(2);s("items",e.items)("itemTemplate",t.itemTemplate)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("visible",t.isItemActive(e)&&t.isItemGroup(e))("activeItemPath",t.activeItemPath())("focusedItemId",t.focusedItemId)("ariaLabelledBy",t.getItemId(e))("level",t.level+1)("pt",t.pt())("motionOptions",t.motionOptions)("unstyled",t.unstyled())}}function mx(o,n){if(o&1){let e=k();p(0,"li",9,1)(2,"div",10),y("click",function(i){h(e);let r=l().$implicit,a=l(2);return f(a.onItemClick(i,r))})("mouseenter",function(i){h(e);let r=l().$implicit,a=l(2);return f(a.onItemMouseEnter({$event:i,processedItem:r}))}),g(3,sx,3,2,"ng-container",11)(4,px,2,5,"ng-container",11),u(),g(5,ux,1,12,"p-tieredmenusub",12),u()}if(o&2){let e=l(),t=e.$implicit,i=e.index,r=l(2);b(r.cn(r.cx("item",ce(22,B1,t)),r.getItemProp(t,"styleClass"))),s("ngStyle",r.getItemProp(t,"style"))("pBind",r.getPTOptions(t,i,"item"))("tooltipOptions",r.getItemProp(t,"tooltipOptions"))("pTooltipUnstyled",r.unstyled()),x("id",r.getItemId(t))("data-p-highlight",r.isItemActive(t))("data-p-focused",r.isItemFocused(t))("data-p-disabled",r.isItemDisabled(t))("aria-label",r.getItemLabel(t))("aria-disabled",r.isItemDisabled(t)||void 0)("aria-haspopup",r.isItemGroup(t)&&!r.getItemProp(t,"to")?"menu":void 0)("aria-expanded",r.isItemGroup(t)?r.isItemActive(t):void 0)("aria-setsize",r.getAriaSetSize())("aria-posinset",r.getAriaPosInset(i)),d(2),b(r.cx("itemContent")),s("pBind",r.getPTOptions(t,i,"itemContent")),d(),s("ngIf",!r.itemTemplate),d(),s("ngIf",r.itemTemplate),d(),s("ngIf",r.isItemVisible(t)&&r.isItemGroup(t))}}function hx(o,n){if(o&1&&g(0,$1,1,6,"li",6)(1,mx,6,24,"li",7),o&2){let e=n.$implicit,t=l(2);s("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),d(),s("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}function fx(o,n){if(o&1){let e=k();p(0,"ul",4,0),y("keydown",function(i){h(e);let r=l();return f(r.menuKeydown.emit(i))})("focus",function(i){h(e);let r=l();return f(r.menuFocus.emit(i))})("blur",function(i){h(e);let r=l();return f(r.menuBlur.emit(i))})("pMotionOnBeforeEnter",function(i){h(e);let r=l();return f(r.onBeforeEnter(i))})("pMotionOnAfterLeave",function(){h(e);let i=l();return f(i.onAfterLeave())}),g(2,hx,2,2,"ng-template",5),u()}if(o&2){let e=l();be(e.inlineStyles),b(e.root?e.cx("rootList"):e.cx("submenu")),s("id",e.menuId+"_list")("tabindex",e.tabindex)("pBind",e._ptm(e.root?"rootList":"submenu"))("pMotion",e.root?!0:e.visible)("pMotionDisabled",e.root)("pMotionAppear",!0)("pMotionName","p-anchored-overlay")("pMotionOptions",e.motionOptions),x("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical"),d(2),s("ngForOf",e.items)}}var gx=["submenuicon"],_x=["item"],vx=["rootmenu"],bx=["container"];function yx(o,n){if(o&1){let e=k();p(0,"div",3,0),y("click",function(i){h(e);let r=l();return f(r.onOverlayClick(i))})("pMotionOnBeforeEnter",function(i){h(e);let r=l();return f(r.onOverlayBeforeEnter(i))})("pMotionOnAfterEnter",function(){h(e);let i=l();return f(i.onOverlayAfterEnter())})("pMotionOnAfterLeave",function(){h(e);let i=l();return f(i.onOverlayAfterLeave())}),p(2,"p-tieredMenuSub",4,1),y("itemClick",function(i){h(e);let r=l();return f(r.onItemClick(i))})("menuFocus",function(i){h(e);let r=l();return f(r.onMenuFocus(i))})("menuBlur",function(i){h(e);let r=l();return f(r.onMenuBlur(i))})("menuKeydown",function(i){h(e);let r=l();return f(r.onKeyDown(i))})("itemMouseEnter",function(i){h(e);let r=l();return f(r.onItemMouseEnter(i))}),u()()}if(o&2){let e=l();b(e.cn(e.cx("root"),e.styleClass)),s("id",e.id)("ngStyle",e.style)("pBind",e.ptm("root"))("pMotion",e.visible||!e.popup)("pMotionName","p-anchored-overlay")("pMotionAppear",!0)("pMotionDisabled",!e.popup)("pMotionOptions",e.computedMotionOptions()),d(2),s("root",!0)("visible",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())("pt",e.pt())("unstyled",e.unstyled())("motionOptions",e.computedMotionOptions())}}var Cx={submenu:({instance:o,processedItem:n})=>({display:o.isItemActive(n)?"flex":"none"})},xx={root:({instance:o})=>["p-tieredmenu p-component",{"p-tieredmenu-overlay":o.popup,"p-tieredmenu-mobile":o.queryMatches()}],start:"p-tieredmenu-start",rootList:"p-tieredmenu-root-list",item:({instance:o,processedItem:n})=>["p-tieredmenu-item",{"p-tieredmenu-item-active":o.isItemActive(n),"p-focus":o.isItemFocused(n),"p-disabled":o.isItemDisabled(n)}],itemContent:"p-tieredmenu-item-content",itemLink:"p-tieredmenu-item-link",itemIcon:"p-tieredmenu-item-icon",itemLabel:"p-tieredmenu-item-label",itemBadge:"p-menuitem-badge",submenuIcon:"p-tieredmenu-submenu-icon",submenu:"p-tieredmenu-submenu",separator:"p-tieredmenu-separator",end:"p-tieredmenu-end"},ta=(()=>{class o extends Te{name="tieredmenu";style=zd;classes=xx;inlineStyles=Cx;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var $d=new ae("TIEREDMENU_INSTANCE"),Hd=new ae("TIEREDMENUSUB_INSTANCE"),wx=(()=>{class o extends ct{el;renderer;tieredMenu;get visible(){return this._visible}set visible(e){this._visible=e,(this._visible||this.root)&&this.render.set(!0)}items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=R([]);motionOptions;tabindex=0;inlineStyles;itemClick=new M;itemMouseEnter=new M;menuFocus=new M;menuBlur=new M;menuKeydown=new M;sublistViewChild;render=U(!1);_componentStyle=_(ta);bindDirectiveInstance=_(A,{self:!0});$pcTieredMenu=_($d,{optional:!0,skipSelf:!0})??void 0;$pcTieredMenuSub=_(Hd,{optional:!0,skipSelf:!0})??void 0;_visible=!1;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}constructor(e,t,i){super(),this.el=e,this.renderer=t,this.tieredMenu=i}positionSubmenu(e){Ge(this.tieredMenu.platformId)&&e&&rl(e,this.level)}getItemProp(e,t,i=null){return e&&e.item?wr(e.item[t],i):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemLabel(e){return this.getItemProp(e,"label")}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let i=this.isItemVisible(t),r=i&&this.getItemProp(t,"separator");return!i||r}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){return this.activeItemPath()?this.activeItemPath().some(t=>t.key===e.key):!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return ft(e.items)}_ptm(e,t){return this.$pcTieredMenu?this.$pcTieredMenu.ptm(e,t):this.ptm(e,t)}getPTOptions(e,t,i){return this._ptm(i,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e)}})}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:i}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:i})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}onBeforeEnter(e){this.positionSubmenu(e.element)}onAfterLeave(){this.render.set(!1)}static \u0275fac=function(t){return new(t||o)($e(ht),$e(ur),$e(pe(()=>ia)))};static \u0275cmp=B({type:o,selectors:[["p-tieredMenuSub"],["p-tieredmenusub"]],viewQuery:function(t,i){if(t&1&&H(L1,5),t&2){let r;w(r=T())&&(i.sublistViewChild=r.first)}},inputs:{visible:"visible",items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",E],autoDisplay:[2,"autoDisplay","autoDisplay",E],autoZIndex:[2,"autoZIndex","autoZIndex",E],baseZIndex:[2,"baseZIndex","baseZIndex",re],popup:[2,"popup","popup",E],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",re],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],motionOptions:"motionOptions",tabindex:[2,"tabindex","tabindex",re],inlineStyles:"inlineStyles"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Z([{provide:Hd,useExisting:pe(()=>o)},{provide:ge,useExisting:pe(()=>o)}]),_e([A]),ne],decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"class","id","tabindex","pBind","style","pMotion","pMotionDisabled","pMotionAppear","pMotionName","pMotionOptions"],["role","menu",3,"keydown","focus","blur","pMotionOnBeforeEnter","pMotionOnAfterLeave","id","tabindex","pBind","pMotion","pMotionDisabled","pMotionAppear","pMotionName","pMotionOptions"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class","pBind",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","pBind","tooltipOptions","pTooltipUnstyled",4,"ngIf"],["role","separator",3,"pBind"],["role","menuitem","pTooltip","",3,"ngStyle","pBind","tooltipOptions","pTooltipUnstyled"],[3,"click","mouseenter","pBind"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","visible","activeItemPath","focusedItemId","ariaLabelledBy","level","pt","motionOptions","unstyled","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class","ngStyle","pBind",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","ngStyle","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind",4,"ngIf"],["pRipple","",3,"target","ngStyle","pBind"],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","ngStyle","pBind",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[3,"ngStyle","pBind"],[3,"ngStyle","innerHTML","pBind"],["data-p-icon","angle-right",3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-right",3,"pBind"],[3,"aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngStyle","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","visible","activeItemPath","focusedItemId","ariaLabelledBy","level","pt","motionOptions","unstyled"]],template:function(t,i){t&1&&D(0,fx,3,17,"ul",3),t&2&&F(i.render()?0:-1)},dependencies:[o,K,Ct,Ie,we,Oe,vr,ja,Ka,Xt,Ot,ti,A,yl,G,ke,dn,Ir],encapsulation:2})}return o})(),ia=(()=>{class o extends ct{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;breakpoint="960px";autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;appendTo=R(void 0);motionOptions=R(void 0);computedMotionOptions=oe(()=>L(L({},this.ptm("motion")),this.motionOptions()));onShow=new M;onHide=new M;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;templates;$appendTo=oe(()=>this.appendTo()||this.config.overlayAppendTo());render=U(!1);container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;dirty=!1;focused=!1;activeItemPath=U([]);number=U(0);focusedItemInfo=U({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=_(ta);bindDirectiveInstance=_(A,{self:!0});matchMediaListener;query;queryMatches=U(!1);_submenuIconTemplate;_itemTemplate;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${ft(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,Ve(()=>{let t=this.activeItemPath();ft(t)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}onInit(){this.bindMatchMediaListener(),this.id=this.id||Ne("pn_id_")}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(Ge(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches.set(e.matches),this.matchMediaListener=()=>{this.queryMatches.set(e.matches)},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,t=0,i={},r=""){let a=[];return e&&e.forEach((c,m)=>{let v=(r!==""?r+"_":"")+m,S={item:c,index:m,level:t,key:v,parent:i,parentKey:r};S.items=this.createProcessedItems(c.items,t+1,S,v),a.push(S)}),a}getItemProp(e,t){return e?wr(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&ft(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&ft(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:i}=e,r=this.isProcessedItemGroup(i),a=Ii(i.parent);if(this.isSelected(i)){let{index:m,key:v,level:S,parentKey:z,item:N}=i;this.activeItemPath.set(this.activeItemPath().filter(Ce=>v!==Ce.key&&v.startsWith(Ce.key))),this.focusedItemInfo.set({index:m,level:S,parentKey:z,item:N}),this.dirty=!0,Be(this.rootmenu?.sublistViewChild?.nativeElement)}else if(r)this.onItemChange(e);else{let m=a?i:this.activeItemPath().find(v=>v.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,m?.index??-1),Be(this.rootmenu?.sublistViewChild?.nativeElement)}}onItemMouseEnter(e){Cr()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&zn(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],i=this.isProccessedItemGroup(t),r=t?.item;i&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:r}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index];if(!t){e.preventDefault();return}let i=this.activeItemPath().find(c=>c.key===t.parentKey);Ii(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:i?i.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let a=this.activeItemPath().filter(c=>c.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(a),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=xt(this.rootmenu?.el?.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),i=t&&(xt(t,'[data-pc-section="itemlink"]')||xt(t,"a,button"));if(i?i.click():t&&t.click(),!this.popup){let r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e,t){let{processedItem:i,isFocus:r}=e;if(Ii(i))return;let{index:a,key:c,level:m,parentKey:v,items:S,item:z}=i,N=ft(S),Ce=this.activeItemPath().filter(Ze=>Ze.parentKey!==v&&Ze.parentKey!==c);N&&Ce.push(i),this.focusedItemInfo.set({index:a,level:m,parentKey:v,item:z}),N&&(this.dirty=!0),r&&Be(this.rootmenu?.sublistViewChild?.nativeElement),!(t==="hover"&&this.queryMatches())&&this.activeItemPath.set(Ce)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayBeforeEnter(e){this.popup&&(this.container=e.element,Xa(this.container,{position:"absolute"}),this.moveOnTop(),this.onShow.emit({}),this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendOverlay(),this.alignOverlay())}onOverlayAfterEnter(){this.popup&&(this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.scrollInView()),Be(this.rootmenu?.sublistViewChild?.nativeElement)}onOverlayAfterLeave(){this.restoreOverlayAppend(),this.onOverlayHide(),this.render.set(!1),this.onHide.emit({})}relativeAlign=!1;alignOverlay(){this.container&&this.target&&(this.relativeAlign?Ja(this.container,this.target):Ya(this.container,this.target),Ti(this.target)>Ti(this.container)&&(this.container.style.minWidth=Ti(this.target)+"px"))}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?Si(this.document.body,this.container):Si(this.$appendTo(),this.container))}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&Si(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&cn.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Be(this.relatedTarget||this.target||this.rootmenu?.sublistViewChild?.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.render.set(!0),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Be(this.rootmenu?.sublistViewChild?.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let i=-1,r=!1;return this.focusedItemInfo().index!==-1?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)),i=i===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(a=>this.isItemMatched(a)),i!==-1&&(r=!0),i===-1&&this.focusedItemInfo().index===-1&&(i=this.findFirstFocusedItemIndex()),i!==-1&&this.changeFocusedItemIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return Yt(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?Yt(this.visibleItems.slice(0,e),i=>this.isValidItem(i)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(i=>this.isValidItem(i)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let i=this.focusedItemInfo();this.focusedItemInfo.set(J(L({},i),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,i=xt(this.rootmenu?.el?.nativeElement,`li[id="${t}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new _l(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){Ge(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{Cr()||this.hide(e,!0)})))}bindOutsideClickListener(){Ge(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),i=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&i&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&cn.clear(this.container)}onDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()),this.unbindMatchMediaListener()}static \u0275fac=function(t){return new(t||o)($e(ki))};static \u0275cmp=B({type:o,selectors:[["p-tieredMenu"],["p-tieredmenu"],["p-tiered-menu"]],contentQueries:function(t,i,r){if(t&1&&(P(r,gx,4),P(r,_x,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.submenuIconTemplate=a.first),w(a=T())&&(i.itemTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(vx,5),H(bx,5)),t&2){let r;w(r=T())&&(i.rootmenu=r.first),w(r=T())&&(i.containerViewChild=r.first)}},inputs:{model:"model",popup:[2,"popup","popup",E],style:"style",styleClass:"styleClass",breakpoint:"breakpoint",autoZIndex:[2,"autoZIndex","autoZIndex",E],baseZIndex:[2,"baseZIndex","baseZIndex",re],autoDisplay:[2,"autoDisplay","autoDisplay",E],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",E],tabindex:[2,"tabindex","tabindex",re],appendTo:[1,"appendTo"],motionOptions:[1,"motionOptions"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Z([ta,{provide:$d,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","class","ngStyle","pBind","pMotion","pMotionName","pMotionAppear","pMotionDisabled","pMotionOptions"],[3,"click","pMotionOnBeforeEnter","pMotionOnAfterEnter","pMotionOnAfterLeave","id","ngStyle","pBind","pMotion","pMotionName","pMotionAppear","pMotionDisabled","pMotionOptions"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","visible","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath","pt","unstyled","motionOptions"]],template:function(t,i){t&1&&D(0,yx,4,27,"div",2),t&2&&F(i.render()||!i.popup?0:-1)},dependencies:[K,Oe,wx,vr,Ot,A,G,ke,dn,Ir],encapsulation:2,changeDetection:0})}return o})();var Gd=`
    .p-splitbutton {
        display: inline-flex;
        position: relative;
        border-radius: dt('splitbutton.border.radius');
    }

    .p-splitbutton-button.p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
        border-inline-end: 0 none;
    }

    .p-splitbutton-button.p-button:focus-visible,
    .p-splitbutton-dropdown.p-button:focus-visible {
        z-index: 1;
    }

    .p-splitbutton-button.p-button:not(:disabled):hover,
    .p-splitbutton-button.p-button:not(:disabled):active {
        border-inline-end: 0 none;
    }

    .p-splitbutton-dropdown.p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-splitbutton .p-menu {
        min-width: 100%;
    }

    .p-splitbutton-fluid {
        display: flex;
    }

    .p-splitbutton-rounded .p-splitbutton-dropdown.p-button {
        border-start-end-radius: dt('splitbutton.rounded.border.radius');
        border-end-end-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-rounded .p-splitbutton-button.p-button {
        border-start-start-radius: dt('splitbutton.rounded.border.radius');
        border-end-start-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-raised {
        box-shadow: dt('splitbutton.raised.shadow');
    }
`;var Tx=["content"],Sx=["dropdownicon"],Ix=["defaultbtn"],kx=["menu"];function Ex(o,n){o&1&&j(0)}function Dx(o,n){if(o&1){let e=k();Y(0),p(1,"button",8),y("click",function(i){h(e);let r=l();return f(r.onDefaultButtonClick(i))}),g(2,Ex,1,0,"ng-container",9),u(),X()}if(o&2){let e=l();d(),b(e.cx("pcButton")),s("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("pTooltipUnstyled",e.unstyled())("tooltipOptions",e.tooltipOptions)("pt",e.ptm("pcButton"))("unstyled",e.unstyled()),x("tabindex",e.tabindex)("aria-label",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label),d(),s("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function Fx(o,n){if(o&1){let e=k();p(0,"button",10,2),y("click",function(i){h(e);let r=l();return f(r.onDefaultButtonClick(i))}),u()}if(o&2){let e=l();b(e.cx("pcButton")),s("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("pTooltipUnstyled",e.unstyled())("tooltipOptions",e.tooltipOptions)("pt",e.ptm("pcButton"))("unstyled",e.unstyled()),x("tabindex",e.tabindex)("aria-label",e.buttonProps==null?null:e.buttonProps.ariaLabel)}}function Mx(o,n){if(o&1&&I(0,"span"),o&2){let e=l();b(e.dropdownIcon)}}function Ox(o,n){o&1&&(ee(),I(0,"svg",12))}function Nx(o,n){}function Vx(o,n){o&1&&g(0,Nx,0,0,"ng-template")}function Px(o,n){if(o&1&&(Y(0),g(1,Ox,1,0,"svg",11)(2,Vx,1,0,null,9),X()),o&2){let e=l();d(),s("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),d(),s("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}var Ax={root:({instance:o})=>["p-splitbutton p-component",{"p-splitbutton-raised":o.raised,"p-splitbutton-rounded":o.rounded,"p-splitbutton-outlined":o.outlined,"p-splitbutton-text":o.text,[`p-splitbutton-${o.size==="small"?"sm":"lg"}`]:o.size}],pcButton:"p-splitbutton-button",pcDropdown:"p-splitbutton-dropdown p-button-icon-only"},Ud=(()=>{class o extends Te{name="splitbutton";style=Gd;classes=Ax;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var jd=new ae("SPLITBUTTON_INSTANCE"),na=(()=>{class o extends ct{$pcSplitButton=_(jd,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;styleClass;menuStyle;menuStyleClass;dropdownIcon;appendTo=R("body");dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";motionOptions=R(void 0);computedMotionOptions=oe(()=>L(L({},this.ptm("motion")),this.motionOptions()));buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e??!1,this.buttonDisabled=e??!1,this.menuButtonDisabled=e??!1}get disabled(){return this._disabled}tabindex;menuButtonDisabled=!1;buttonDisabled=!1;onClick=new M;onMenuHide=new M;onMenuShow=new M;onDropdownClick=new M;buttonViewChild;menu;contentTemplate;dropdownIconTemplate;templates;ariaId;isExpanded=U(!1);_disabled;_componentStyle=_(Ud);_contentTemplate;_dropdownIconTemplate;$appendTo=oe(()=>this.appendTo()||this.config.overlayAppendTo());onInit(){this.ariaId=Ne("pn_id_")}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onDefaultButtonClick(e){this.onClick?.emit(e),this.menu?.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.el?.nativeElement,relativeAlign:this.$appendTo()=="self"})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-splitbutton"],["p-splitButton"],["p-split-button"]],contentQueries:function(t,i,r){if(t&1&&(P(r,Tx,4),P(r,Sx,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.contentTemplate=a.first),w(a=T())&&(i.dropdownIconTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&(H(Ix,5),H(kx,5)),t&2){let r;w(r=T())&&(i.buttonViewChild=r.first),w(r=T())&&(i.menu=r.first)}},hostVars:3,hostBindings:function(t,i){t&2&&(x("data-p-severity",i.severity),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",E],rounded:[2,"rounded","rounded",E],text:[2,"text","text",E],outlined:[2,"outlined","outlined",E],size:"size",plain:[2,"plain","plain",E],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",dropdownIcon:"dropdownIcon",appendTo:[1,"appendTo"],dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",motionOptions:[1,"motionOptions"],buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",E],disabled:[2,"disabled","disabled",E],tabindex:[2,"tabindex","tabindex",re],menuButtonDisabled:[2,"menuButtonDisabled","menuButtonDisabled",E],buttonDisabled:[2,"buttonDisabled","buttonDisabled",E]},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[Z([Ud,{provide:jd,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:8,vars:27,consts:[["defaultButton",""],["menu",""],["defaultbtn",""],[4,"ngIf","ngIfElse"],["type","button","pButton","","pRipple","",3,"click","keydown","size","severity","text","outlined","disabled","pt","unstyled"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","motionOptions","pt","unstyled"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","disabled","pAutoFocus","pTooltip","pTooltipUnstyled","tooltipOptions","pt","unstyled"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","pAutoFocus","pTooltip","pTooltipUnstyled","tooltipOptions","pt","unstyled"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"]],template:function(t,i){if(t&1){let r=k();g(0,Dx,3,18,"ng-container",3)(1,Fx,2,18,"ng-template",null,0,ie),p(3,"button",4),y("click",function(c){return h(r),f(i.onDropdownButtonClick(c))})("keydown",function(c){return h(r),f(i.onDropdownButtonKeydown(c))}),g(4,Mx,1,2,"span",5)(5,Px,3,2,"ng-container",6),u(),p(6,"p-tieredmenu",7,1),y("onHide",function(){return h(r),f(i.onHide())})("onShow",function(){return h(r),f(i.onShow())}),u()}if(t&2){let r=Pe(2);s("ngIf",i.contentTemplate||i._contentTemplate)("ngIfElse",r),d(3),b(i.cx("pcDropdown")),s("size",i.size)("severity",i.severity)("text",i.text)("outlined",i.outlined)("disabled",i.menuButtonDisabled)("pt",i.ptm("pcDropdown"))("unstyled",i.unstyled()),x("aria-label",(i.menuButtonProps==null?null:i.menuButtonProps.ariaLabel)||i.expandAriaLabel)("aria-haspopup",(i.menuButtonProps==null?null:i.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(i.menuButtonProps==null?null:i.menuButtonProps.ariaExpanded)||i.isExpanded())("aria-controls",(i.menuButtonProps==null?null:i.menuButtonProps.ariaControls)||i.ariaId),d(),s("ngIf",i.dropdownIcon),d(),s("ngIf",!i.dropdownIcon),d(),be(i.menuStyle),s("id",i.ariaId)("popup",!0)("model",i.model)("styleClass",i.menuStyleClass)("appendTo",i.$appendTo())("motionOptions",i.computedMotionOptions())("pt",i.ptm("pcMenu"))("unstyled",i.unstyled())}},dependencies:[K,Ie,we,Sl,ia,Ke,Di,Xt,Ot,ti,G],encapsulation:2,changeDetection:0})}return o})(),Kd=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[na,G,G]})}return o})();var Qd=`
    .p-toggleswitch {
        display: inline-block;
        width: dt('toggleswitch.width');
        height: dt('toggleswitch.height');
    }

    .p-toggleswitch-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        top: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border-radius: dt('toggleswitch.border.radius');
    }

    .p-toggleswitch-slider {
        cursor: pointer;
        width: 100%;
        height: 100%;
        border-width: dt('toggleswitch.border.width');
        border-style: solid;
        border-color: dt('toggleswitch.border.color');
        background: dt('toggleswitch.background');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            border-color dt('toggleswitch.transition.duration'),
            outline-color dt('toggleswitch.transition.duration'),
            box-shadow dt('toggleswitch.transition.duration');
        border-radius: dt('toggleswitch.border.radius');
        outline-color: transparent;
        box-shadow: dt('toggleswitch.shadow');
    }

    .p-toggleswitch-handle {
        position: absolute;
        top: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: dt('toggleswitch.handle.background');
        color: dt('toggleswitch.handle.color');
        width: dt('toggleswitch.handle.size');
        height: dt('toggleswitch.handle.size');
        inset-inline-start: dt('toggleswitch.gap');
        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));
        border-radius: dt('toggleswitch.handle.border.radius');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            inset-inline-start dt('toggleswitch.slide.duration'),
            box-shadow dt('toggleswitch.slide.duration');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.background');
        border-color: dt('toggleswitch.checked.border.color');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.background');
        color: dt('toggleswitch.handle.checked.color');
        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {
        background: dt('toggleswitch.hover.background');
        border-color: dt('toggleswitch.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.hover.background');
        color: dt('toggleswitch.handle.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.hover.background');
        border-color: dt('toggleswitch.checked.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.hover.background');
        color: dt('toggleswitch.handle.checked.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {
        box-shadow: dt('toggleswitch.focus.ring.shadow');
        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');
        outline-offset: dt('toggleswitch.focus.ring.offset');
    }

    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }

    .p-toggleswitch.p-disabled {
        opacity: 1;
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-slider {
        background: dt('toggleswitch.disabled.background');
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.disabled.background');
    }
`;var qx=["handle"],Lx=["input"],Bx=o=>({checked:o});function zx(o,n){o&1&&j(0)}function Hx(o,n){if(o&1&&g(0,zx,1,0,"ng-container",3),o&2){let e=l();s("ngTemplateOutlet",e.handleTemplate||e._handleTemplate)("ngTemplateOutletContext",ce(2,Bx,e.checked()))}}var $x=`
    ${Qd}

    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }
`,Gx={root:{position:"relative"}},Ux={root:({instance:o})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":o.checked(),"p-disabled":o.$disabled(),"p-invalid":o.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"},Wd=(()=>{class o extends Te{name="toggleswitch";style=$x;classes=Ux;inlineStyles=Gx;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275prov=q({token:o,factory:o.\u0275fac})}return o})();var Zd=new ae("TOGGLESWITCH_INSTANCE"),jx={provide:Se,useExisting:pe(()=>Qo),multi:!0},Qo=(()=>{class o extends ot{$pcToggleSwitch=_(Zd,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=_(A,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=R();ariaLabelledBy;autofocus;onChange=new M;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=_(Wd);templates;onHostClick(e){this.onClick(e)}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"handle":this._handleTemplate=e.template;break;default:this._handleTemplate=e.template;break}})}onClick(e){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:e,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(e,t){t(e),this.cd.markForCheck()}get dataP(){return this.cn({checked:this.checked(),disabled:this.$disabled(),invalid:this.invalid()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Q(o)))(i||o)}})();static \u0275cmp=B({type:o,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(t,i,r){if(t&1&&(P(r,qx,4),P(r,ve,4)),t&2){let a;w(a=T())&&(i.handleTemplate=a.first),w(a=T())&&(i.templates=a)}},viewQuery:function(t,i){if(t&1&&H(Lx,5),t&2){let r;w(r=T())&&(i.input=r.first)}},hostVars:7,hostBindings:function(t,i){t&1&&y("click",function(a){return i.onHostClick(a)}),t&2&&(x("data-p-checked",i.checked())("data-p-disabled",i.$disabled())("data-p",i.dataP),be(i.sx("root")),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",re],inputId:"inputId",readonly:[2,"readonly","readonly",E],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",E]},outputs:{onChange:"onChange"},features:[Z([jx,Wd,{provide:Zd,useExisting:o},{provide:ge,useExisting:o}]),_e([A]),ne],decls:5,vars:22,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus","pBind"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){if(t&1){let r=k();p(0,"input",1,0),y("focus",function(){return h(r),f(i.onFocus())})("blur",function(){return h(r),f(i.onBlur())}),u(),p(2,"div",2)(3,"div",2),D(4,Hx,1,4,"ng-container"),u()()}t&2&&(b(i.cx("input")),s("checked",i.checked())("pAutoFocus",i.autofocus)("pBind",i.ptm("input")),x("id",i.inputId)("required",i.required()?"":void 0)("disabled",i.$disabled()?"":void 0)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("name",i.name())("tabindex",i.tabindex),d(2),b(i.cx("slider")),s("pBind",i.ptm("slider")),x("data-p",i.dataP),d(),b(i.cx("handle")),s("pBind",i.ptm("handle")),x("data-p",i.dataP),d(),F(i.handleTemplate||i._handleTemplate?4:-1))},dependencies:[K,we,Ke,G,ke,A],encapsulation:2,changeDetection:0})}return o})(),Yd=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=he({type:o});static \u0275inj=me({imports:[Qo,G,G]})}return o})();var Qx=(o,n)=>["p-field",o,n],Wx=(o,n)=>["form-label",o,"flex-shrink-0","flex gap-1",n],oa=o=>({"--swatch-color":o}),Zx=o=>[o,"h-[320px]"],Yx=(o,n)=>({$implicit:o,field:n}),Zo=()=>[],Xd=o=>({$implicit:o}),Jd=(o,n)=>n.id;function Xx(o,n){if(o&1&&(p(0,"span",5),O(1),u()),o&2){let e,t=l(2);d(),ye(" ",(e=t.field().props)==null?null:e.suffix," ")}}function Jx(o,n){o&1&&(p(0,"span",6),O(1," *"),u())}function ew(o,n){if(o&1&&I(0,"i",7),o&2){let e,t=l(2);s("pTooltip",(e=t.field().props)==null?null:e.tooltip)("escape",!1)}}function tw(o,n){o&1&&(p(0,"div",8),I(1,"p-progress-spinner",39),u())}function iw(o,n){if(o&1&&I(0,"input",40),o&2){let e=l(2);b(e.fieldClasses()),s("id",e.fieldKey())("formControl",e.control())("placeholder",e.field().placeholder||"")("readonly",e.field().readonly),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function nw(o,n){if(o&1&&I(0,"p-inputnumber",41),o&2){let e,t,i,r,a=l(2);b(a.fieldClasses()),s("id",a.fieldKey())("formControl",a.control())("showButtons",(e=a.field().props)==null?null:e.showButtons)("minFractionDigits",((t=a.field().props)==null?null:t.minFractionDigits)??0)("maxFractionDigits",((i=a.field().props)==null?null:i.maxFractionDigits)??20)("step",((r=a.field().props)==null?null:r.step)??1),x("aria-label",a.fieldLabel())("aria-invalid",a.showError())("aria-describedby",a.fieldKey()+"-error")}}function ow(o,n){if(o&1){let e=k();p(0,"p-select",42),y("onChange",function(i){h(e);let r=l(2);return f(r.onDropdownChange(i))}),u()}if(o&2){let e,t,i,r=l(2);b(r.fieldClasses()),s("id",r.fieldKey())("formControl",r.control())("options",r.field().options)("placeholder",r.field().placeholder||"")("showClear",(e=r.field().props)==null?null:e.showClear)("filter",!0)("filterBy",((t=r.field().props)==null?null:t.filterBy)??"label")("appendTo",((i=r.field().props)==null?null:i.appendTo)??"body"),x("aria-label",r.fieldLabel())("aria-invalid",r.showError())("aria-describedby",r.fieldKey()+"-error")}}function rw(o,n){if(o&1&&I(0,"p-multiSelect",43),o&2){let e,t,i=l(2);b(i.fieldClasses()),s("id",i.fieldKey())("formControl",i.control())("options",i.field().options)("placeholder",i.field().placeholder||"")("filter",(e=i.field().props)==null?null:e.filter)("appendTo",(t=i.field().props)==null?null:t.appendTo),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error")}}function aw(o,n){if(o&1&&I(0,"p-datepicker",14),o&2){let e,t,i,r,a,c=l(2);s("id",c.fieldKey())("formControl",c.getDateControl())("dateFormat",(e=c.field().props)==null?null:e.dateFormat)("showTime",((t=c.field().props)==null?null:t.showTime)||!1)("showSeconds",(i=c.field().props)==null?null:i.showSeconds)("showIcon",!0)("timeOnly",(r=c.field().props)==null?null:r.timeOnly)("appendTo",(a=c.field().props)==null?null:a.appendTo)("styleClass",c.fieldClasses()),x("aria-label",c.fieldLabel())("aria-invalid",c.showError())("aria-describedby",c.fieldKey()+"-error")}}function lw(o,n){if(o&1&&I(0,"p-checkbox",15),o&2){let e=l(2);s("id",e.fieldKey())("formControl",e.control())("ngClass",e.field().inputStyleClass),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function sw(o,n){if(o&1&&(I(0,"p-radioButton",44),p(1,"label",45),O(2),u()),o&2){let e=n.$implicit,t=n.$index,i=l(3);s("id",i.fieldKey()+t)("formControl",i.control())("value",e.value)("ngClass",i.field().inputStyleClass),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error"),d(),s("for",i.fieldKey()),d(),te(e.label)}}function dw(o,n){if(o&1&&Ee(0,sw,3,9,null,null,Pa().trackByOption,!0),o&2){let e=l(2);De(e.field().options)}}function cw(o,n){if(o&1&&I(0,"textarea",46),o&2){let e,t,i=l(2);b(i.fieldClasses()),s("id",i.fieldKey())("formControl",i.control())("rows",((e=i.field().props)==null?null:e.rows)||3)("autoResize",(t=i.field().props)==null?null:t.autoResize)("placeholder",i.field().placeholder||"")("readOnly",i.field().readonly),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error")}}function pw(o,n){if(o&1&&I(0,"p-slider",47),o&2){let e,t,i,r=l(2);b(r.fieldClasses()),s("id",r.fieldKey())("formControl",r.control())("min",((e=r.field().props)==null?null:e.min)||0)("max",((t=r.field().props)==null?null:t.max)||100)("step",((i=r.field().props)==null?null:i.step)||1),x("aria-label",r.fieldLabel())("aria-invalid",r.showError())("aria-describedby",r.fieldKey()+"-error")}}function uw(o,n){if(o&1&&I(0,"p-togglebutton",18),o&2){let e=l(2);s("id",e.fieldKey())("formControl",e.control())("onLabel",e.getToggleButtonLabel(!0))("offLabel",e.getToggleButtonLabel(!1))("ngClass",e.field().inputStyleClass),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function mw(o,n){if(o&1&&(p(0,"div",55),I(1,"div",56),p(2,"div"),O(3),u()()),o&2){let e=n.$implicit;d(),s("ngStyle",ce(2,oa,e.value)),d(2),te(e.label)}}function hw(o,n){if(o&1&&(p(0,"div",55),I(1,"div",56),p(2,"div"),O(3),u()()),o&2){let e=l().$implicit;d(),s("ngStyle",ce(2,oa,e.value)),d(2),te(e.label)}}function fw(o,n){if(o&1&&D(0,hw,4,4,"div",55),o&2){let e=n.$implicit;F(e?0:-1)}}function gw(o,n){if(o&1){let e=k();p(0,"div",19)(1,"div",48),y("click",function(i){h(e);let r=Pe(3);return f(r.toggle(i))})("keydown.enter",function(i){h(e);let r=Pe(3);return f(r.toggle(i))}),u(),p(2,"p-popover",null,0)(4,"div",49)(5,"p-colorpicker",50),y("onChange",function(i){h(e);let r=l(2);return f(r.onColorPickerChange(i,r.control()))}),u(),p(6,"input",51),y("ngModelChange",function(i){h(e);let r=l(2);return f(r.onManualColorInputChange(i))}),u()()(),p(7,"p-select",52),de("ngModelChange",function(i){h(e);let r=l(2);return le(r.selectedColor,i)||(r.selectedColor=i),f(i)}),y("onChange",function(i){h(e);let r=l(2);return f(r.onColorSelect(i.value))}),g(8,mw,4,4,"ng-template",53)(9,fw,1,1,"ng-template",54),u()()}if(o&2){let e,t=l(2);d(),s("ngStyle",ce(13,oa,t.control().value||"#ffffff")),x("aria-label","Open color picker for "+t.fieldLabel()),d(4),s("formControl",t.control())("inline",!0)("format",((e=t.field().props)==null?null:e.format)||"hex"),d(),s("id",t.fieldKey()+"-manual")("ngModel",t.manualColorInput()),x("aria-label",t.fieldLabel()+" manual value"),d(),s("id",t.fieldKey()+"-dropdown")("options",t.colorOptions()),se("ngModel",t.selectedColor),s("styleClass","flex-grow min-w-0"),x("aria-label",t.fieldLabel()+" predefined colors")}}function _w(o,n){if(o&1&&I(0,"p-knob",20),o&2){let e,t,i,r,a=l(2);s("id",a.fieldKey())("formControl",a.control())("min",((e=a.field().props)==null?null:e.min)||0)("max",((t=a.field().props)==null?null:t.max)||100)("step",((i=a.field().props)==null?null:i.step)||1)("size",((r=a.field().props)==null?null:r.size)||100)("ngClass",a.field().inputStyleClass),x("aria-label",a.fieldLabel())("aria-invalid",a.showError())("aria-describedby",a.fieldKey()+"-error")}}function vw(o,n){if(o&1&&I(0,"p-editor",57),o&2){let e,t=l(2);b(ce(8,Zx,t.fieldClasses())),s("id",t.fieldKey())("formControl",t.control())("modules",(e=t.field().props)==null?null:e.modules),x("aria-label",t.fieldLabel())("aria-invalid",t.showError())("aria-describedby",t.fieldKey()+"-error")}}function bw(o,n){if(o&1){let e=k();p(0,"p-fileUpload",58),y("onSelect",function(i){h(e);let r=l(2);return f(r.onFileSelect(i))}),u()}if(o&2){let e,t,i=l(2);b(i.fieldClasses()),s("id",i.fieldKey())("maxFileSize",(e=i.field().props)==null?null:e.maxFileSize)("accept",(t=i.field().props)==null?null:t.accept),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error")}}function yw(o,n){if(o&1&&I(0,"p-password",59),o&2){let e,t,i,r=l(2);b(r.fieldClasses()),s("id",r.fieldKey())("formControl",r.control())("feedback",(e=r.field().props)==null?null:e.feedback)("toggleMask",(t=r.field().props)==null?null:t.toggleMask)("autocomplete",((i=r.field().props)==null?null:i.autocomplete)||"password"),x("aria-label",r.fieldLabel())("aria-invalid",r.showError())("aria-describedby",r.fieldKey()+"-error")}}function Cw(o,n){if(o&1&&I(0,"p-inputMask",60),o&2){let e,t=l(2);b(t.fieldClasses()),s("id",t.fieldKey())("formControl",t.control())("mask",(e=t.field().props)==null?null:e.mask),x("aria-label",t.fieldLabel())("aria-invalid",t.showError())("aria-describedby",t.fieldKey()+"-error")}}function xw(o,n){if(o&1&&I(0,"p-rating",61),o&2){let e=l(2);b(e.fieldClasses()),s("id",e.fieldKey())("formControl",e.control())("stars",5),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function ww(o,n){if(o&1&&j(0,26),o&2){let e=l(2);s("ngTemplateOutlet",e.customTemplate()??null)("ngTemplateOutletContext",fe(2,Yx,e.control(),e.field()))}}function Tw(o,n){if(o&1&&(I(0,"div",63),Ba(1,"highlight")),o&2){let e=n.$implicit,t=l(3);s("innerHTML",za(1,1,t.getAutocompleteDisplayText(e),t.autocompleteSearchQuery()),tn)}}function Sw(o,n){if(o&1){let e=k();p(0,"div",27)(1,"p-autocomplete",62,1),y("completeMethod",function(i){h(e);let r=l(2);return f(r.handleAutocompleteSearch(i.query))})("onSelect",function(i){h(e);let r=l(2);return f(r.onAutocompleteChange(i))})("onChange",function(){h(e);let i=l(2);return f(i.onAutocompleteValueChange())})("onUnselect",function(){h(e);let i=l(2);return f(i.onAutocompleteValueChange())})("onInput",function(){h(e);let i=l(2);return f(i.onAutocompleteValueChange())})("onKeyUp",function(){h(e);let i=l(2);return f(i.onAutocompleteValueChange())})("onBlur",function(i){h(e);let r=l(2);return f(r.onAutocompleteBlur(i))}),g(3,Tw,2,4,"ng-template",null,2,ie),u()()}if(o&2){let e,t,i,r,a,c,m,v,S=l(2);d(),b(S.fieldClasses()),s("id",S.fieldKey())("formControl",S.control())("suggestions",S.getSuggestions())("forceSelection",(e=S.field().props)==null?null:e.forceSelection)("optionLabel",(t=S.field().props)==null?null:t.field)("placeholder",S.field().placeholder||"")("completeOnFocus",(i=S.field().props)==null?null:i.completeOnFocus)("readonly",S.field().readonly??!1)("typeahead",(r=S.field().props)==null?null:r.typeahead)("multiple",(a=S.field().props)==null?null:a.multiple)("delay",((c=S.field().props)==null?null:c.delay)||300)("emptyMessage",S.isAutocompleteLoading()?"Loading...":((m=S.field().props)==null?null:m.emptyMessage)||"No results found")("dropdown",(v=S.field().props)==null?null:v.dropdown)("appendTo",S.fieldProps().appendTo||"body"),x("aria-label",S.fieldLabel())("aria-invalid",S.showError())("aria-describedby",S.fieldKey()+"-error")}}function Iw(o,n){if(o&1&&I(0,"p-listbox",64),o&2){let e,t,i,r=l(2);b(r.fieldClasses()),s("id",r.fieldKey())("formControl",r.control())("options",r.field().options??Ae(11,Zo))("checkmark",(e=r.field().props)==null?null:e.checkmark)("checkbox",(t=r.field().props)==null?null:t.checkbox)("multiple",(i=r.field().props)==null?null:i.multiple),x("aria-label",r.fieldLabel())("aria-invalid",r.showError())("aria-describedby",r.fieldKey()+"-error")}}function kw(o,n){if(o&1&&I(0,"p-treeselect",29),o&2){let e,t,i,r,a=l(2);s("id",a.fieldKey())("formControl",a.control())("options",a.field().treeNodeOptions??Ae(12,Zo))("placeholder",a.field().placeholder||"")("containerStyleClass",a.fieldClasses())("appendTo",((e=a.field().props)==null?null:e.appendTo)??"body")("selectionMode",((t=a.field().props)==null?null:t.selectionMode)??"single")("showClear",(i=a.field().props)==null?null:i.showClear)("filter",(r=a.field().props)==null?null:r.filter),x("aria-label",a.fieldLabel())("aria-invalid",a.showError())("aria-describedby",a.fieldKey()+"-error")}}function Ew(o,n){if(o&1&&j(0,26),o&2){let e=l().$implicit,t=l(4);s("ngTemplateOutlet",t.listItemTemplate())("ngTemplateOutletContext",ce(2,Xd,e.original))}}function Dw(o,n){if(o&1&&I(0,"i",76),o&2){let e=l(2).$implicit;b(_r("pi pi-",e.icon," mt-2 mr-2 !text-2xl")),s("ngStyle",e.iconStyle)}}function Fw(o,n){if(o&1&&(p(0,"span",74),O(1),u()),o&2){let e=l(2).$implicit;d(),te(e.title)}}function Mw(o,n){if(o&1&&(p(0,"span",69),D(1,Dw,1,4,"i",73),p(2,"div",36),D(3,Fw,2,1,"span",74),p(4,"span",75),O(5),u()()()),o&2){let e=l().$implicit;d(),F(e.icon?1:-1),d(2),F(e.title?3:-1),d(2),te(e.display)}}function Ow(o,n){if(o&1){let e=k();p(0,"span",77),y("click",function(){h(e);let i=l(),r=i.$implicit,a=i.$index,c=l(4);return f(c.triggerEditItem(r,a))})("keydown.enter",function(){h(e);let i=l(),r=i.$implicit,a=i.$index,c=l(4);return f(c.triggerEditItem(r,a))}),u()}if(o&2){let e=l().$index;x("aria-label","Edit item "+(e+1))}}function Nw(o,n){if(o&1){let e=k();p(0,"span",78),y("click",function(){h(e);let i=l().$index,r=l(4);return f(r.triggerDeleteItem(i))})("keydown.enter",function(){h(e);let i=l().$index,r=l(4);return f(r.triggerDeleteItem(i))}),u()}if(o&2){let e=l().$index;x("aria-label","Delete item "+(e+1))}}function Vw(o,n){if(o&1&&(p(0,"div",68),D(1,Ew,1,4,"ng-container",26)(2,Mw,6,3,"span",69),p(3,"div",70),D(4,Ow,1,1,"span",71),D(5,Nw,1,1,"span",72),u()()),o&2){let e,t,i=l(4);d(),F(i.listItemTemplate()?1:2),d(3),F(((e=i.modalConfig())==null?null:e.showEditButton)??!1?4:-1),d(),F(((t=i.modalConfig())==null?null:t.showDeleteButton)??!0?5:-1)}}function Pw(o,n){if(o&1&&(p(0,"div",65),Ee(1,Vw,6,3,"div",68,Jd),u()),o&2){let e=l(3);d(),De(e.listItems())}}function Aw(o,n){o&1&&(p(0,"div",66),O(1,"No items added."),u())}function Rw(o,n){if(o&1){let e=k();p(0,"p-button",79),y("onClick",function(){h(e);let i=l(3);return f(i.triggerAddItem())}),u()}if(o&2){let e=l(3);s("label",e.getAddButtonLabel())}}function qw(o,n){if(o&1&&(p(0,"div",30),D(1,Pw,3,0,"div",65)(2,Aw,2,0,"div",66),D(3,Rw,1,1,"p-button",67),u()),o&2){let e,t=l(2);d(),F(t.listItems().length>0?1:2),d(2),F(((e=t.modalConfig())==null?null:e.showAddButton)??!0?3:-1)}}function Lw(o,n){if(o&1&&I(0,"app-event-filter-field",80),o&2){let e,t,i,r=l(2);b(r.fieldClasses()),s("id",r.fieldKey())("formControl",r.control())("ngClass",r.field().inputStyleClass)("groupTypes",((e=r.field().props)==null?null:e.groupTypes)??Ae(11,Zo))("filterService",((t=r.field().props)==null?null:t.filterService)??r.filterService)("requireActorBeforeAction",((i=r.field().props)==null?null:i.requireActorBeforeAction)??!0),x("aria-label",r.fieldLabel())("aria-invalid",r.showError())("aria-describedby",r.fieldKey()+"-error")}}function Bw(o,n){if(o&1&&I(0,"app-asset-filter-field",81),o&2){let e,t,i=l(2);b(i.fieldClasses()),s("id",i.fieldKey())("formControl",i.control())("ngClass",i.field().inputStyleClass)("allowedAssetTypes",((e=i.field().props)==null?null:e.allowedAssetTypes)??Ae(11,Zo))("ownerId",((t=i.field().props)==null?null:t.ownerId)??"")("readonly",i.field().readonly??!1),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error")}}function zw(o,n){if(o&1&&I(0,"app-zone-filter-field",82),o&2){let e,t,i=l(2);b(i.fieldClasses()),s("id",i.fieldKey())("formControl",i.control())("ngClass",i.field().inputStyleClass)("ownerId",((e=i.field().props)==null?null:e.ownerId)??"")("multi",((t=i.field().props)==null?null:t.multi)!==!1)("readonly",i.field().readonly??!1)("placeholder",i.field().placeholder??"Enter zone name..."),x("aria-label",i.fieldLabel())("aria-invalid",i.showError())("aria-describedby",i.fieldKey()+"-error")}}function Hw(o,n){if(o&1&&j(0,26),o&2){let e=l().$implicit,t=l(4);s("ngTemplateOutlet",t.listItemTemplate())("ngTemplateOutletContext",ce(2,Xd,e.original))}}function $w(o,n){if(o&1&&I(0,"i"),o&2){let e=l(2).$implicit;b(_r("pi pi-",e.icon," mt-2 mr-2 !text-xl"))}}function Gw(o,n){if(o&1&&(p(0,"span",74),O(1),u()),o&2){let e=l(2).$implicit;d(),te(e.title)}}function Uw(o,n){if(o&1&&(p(0,"span",69),D(1,$w,1,3,"i",86),p(2,"div",36),D(3,Gw,2,1,"span",74),p(4,"span",75),O(5),u()()()),o&2){let e=l().$implicit;d(),F(e.icon?1:-1),d(2),F(e.title?3:-1),d(2),te(e.display)}}function jw(o,n){if(o&1){let e=k();p(0,"div",68),D(1,Hw,1,4,"ng-container",26)(2,Uw,6,3,"span",69),p(3,"div",85)(4,"span",78),y("click",function(){let i=h(e).$index,r=l(4);return f(r.handleSplitButtonListItemDelete(i))})("keydown.enter",function(){let i=h(e).$index,r=l(4);return f(r.handleSplitButtonListItemDelete(i))}),u()()()}if(o&2){let e=n.$index,t=l(4);d(),F(t.listItemTemplate()?1:2),d(3),x("aria-label","Delete item "+(e+1))}}function Kw(o,n){if(o&1&&(p(0,"div",65),Ee(1,jw,5,2,"div",68,Jd),u()),o&2){let e=l(3);d(),De(e.listItems())}}function Qw(o,n){o&1&&(p(0,"div",83),O(1,"No items added."),u())}function Ww(o,n){if(o&1&&(p(0,"div",30),D(1,Kw,3,0,"div",65)(2,Qw,2,0,"div",83),I(3,"p-splitbutton",84),u()),o&2){let e=l(2);d(),F(e.listItems().length>0?1:2),d(2),s("label",e.getAddButtonLabel())("model",e.splitButtonTreeModel)}}function Zw(o,n){if(o&1&&I(0,"app-icon-selector",87),o&2){let e=l(2);b(e.fieldClasses()),s("id",e.fieldKey())("formControl",e.control()),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function Yw(o,n){if(o&1&&I(0,"p-toggleswitch",15),o&2){let e=l(2);b(e.fieldClasses()),s("id",e.fieldKey())("formControl",e.control())("ngClass",e.field().inputStyleClass),x("aria-label",e.fieldLabel())("aria-invalid",e.showError())("aria-describedby",e.fieldKey()+"-error")}}function Xw(o,n){if(o&1&&(p(0,"small",37),O(1),u()),o&2){let e=l(2);d(),te(e.errorMessage())}}function Jw(o,n){if(o&1&&(p(0,"small",38),O(1),u()),o&2){let e=l(2);d(),te(e.field().hint)}}function eT(o,n){if(o&1&&(p(0,"div",3)(1,"label",4)(2,"span"),O(3),u(),D(4,Xx,2,1,"span",5),D(5,Jx,2,0,"span",6),D(6,ew,1,2,"i",7),u(),D(7,tw,2,0,"div",8),p(8,"div",9)(9,"div"),D(10,iw,1,9,"input",10)(11,nw,1,11,"p-inputnumber",11)(12,ow,1,13,"p-select",12)(13,rw,1,11,"p-multiSelect",13)(14,aw,1,12,"p-datepicker",14)(15,lw,1,6,"p-checkbox",15)(16,dw,2,0)(17,cw,1,11,"textarea",16)(18,pw,1,10,"p-slider",17)(19,uw,1,8,"p-togglebutton",18)(20,gw,10,15,"div",19)(21,_w,1,10,"p-knob",20)(22,vw,1,10,"p-editor",21)(23,bw,1,8,"p-fileUpload",22)(24,yw,1,10,"p-password",23)(25,Cw,1,8,"p-inputMask",24)(26,xw,1,8,"p-rating",25)(27,ww,1,5,"ng-container",26)(28,Sw,5,19,"div",27)(29,Iw,1,12,"p-listbox",28)(30,kw,1,13,"p-treeselect",29)(31,qw,4,2,"div",30)(32,Lw,1,12,"app-event-filter-field",31)(33,Bw,1,12,"app-asset-filter-field",32)(34,zw,1,12,"app-zone-filter-field",33)(35,Ww,4,3,"div",30)(36,Zw,1,7,"app-icon-selector",34)(37,Yw,1,8,"p-toggleswitch",35),u(),p(38,"div",36),D(39,Xw,2,1,"small",37),D(40,Jw,2,1,"small",38),u()()()),o&2){let e,t,i,r=l();s("ngClass",fe(15,Qx,r.field().styleClass??"p-2",r.field().layout==="horizontal"?"flex align-items-center gap-2":"")),d(),at("p-error",r.showError()),s("for",r.fieldKey())("ngClass",fe(18,Wx,r.labelWidth()?"w-"+r.labelWidth():"",r.field().type==="modalList"?"items-start":"items-center")),d(2),te(r.fieldLabel()),d(),F((e=r.field().props)!=null&&e.suffix?4:-1),d(),F(r.field().required?5:-1),d(),F((t=r.field().props)!=null&&t.tooltip?6:-1),d(),F(r.field().loading?7:-1),d(2),at("flex-grow-1",r.isHorizontal()),d(),F((i=r.field().type)==="text"?10:i==="number"?11:i==="dropdown"?12:i==="multiselect"?13:i==="date"?14:i==="checkbox"?15:i==="radio"?16:i==="textarea"?17:i==="slider"?18:i==="toggleButton"?19:i==="colorPicker"?20:i==="knob"?21:i==="editor"?22:i==="file"?23:i==="password"?24:i==="mask"?25:i==="rating"?26:i==="custom"?27:i==="autocomplete"?28:i==="listbox"?29:i==="treeselect"?30:i==="modalList"?31:i==="eventFilter"?32:i==="assetFilter"?33:i==="zoneFilter"?34:i==="treeSplitButtonList"?35:i==="icon-selector"?36:i==="toggle-switch"?37:-1),d(29),F(r.showError()?39:-1),d(),F(r.field().hint?40:-1)}}var Wo=class o{destroyRef=_(ui);field=R.required();control=R.required();customTemplate=R();fieldChange=Re();addItem=Re();editItem=Re();deleteItem=Re();formState=U({invalid:!1,dirty:!1,touched:!1});fieldKey=oe(()=>this.field().key);fieldLabel=oe(()=>this.field().label);fieldType=oe(()=>this.field().type);fieldLayout=oe(()=>this.field().layout);fieldProps=oe(()=>{let n=this.field().props;return st(n)?n:{}});treeNodeOptions=oe(()=>this.field().treeNodeOptions);fieldOptions=oe(()=>{let n=this.field().options;return Array.isArray(n)?n:[]});isHorizontal=oe(()=>this.fieldLayout()==="horizontal");labelWidth=oe(()=>{let n=this.field();return this.isHorizontal()&&C(n.labelWidth)&&Dt(n.labelWidth)?n.labelWidth:"200px"});showError=oe(()=>{let n=this.formState();return n.invalid&&(n.dirty||n.touched)});errorMessage=oe(()=>{let n=this.field().validations,e=this.control().errors;if(!st(e))return"";if(!Array.isArray(n))return C(e.invalidTimeFormat)?"Invalid time format (HH:mm required)":"Invalid value";let t=n.find(i=>C(i)&&Dt(i.name)&&$t(e,i.name));return C(t)&&Dt(t.message)?t.message:C(e.invalidTimeFormat)?"Invalid time format (HH:mm required)":"Invalid value"});isFieldLoading=oe(()=>this.resolveLoadingState(this.field().loading));isAutocompleteLoading=oe(()=>this.resolveLoadingState(this.field().autocompleteLoading));resolveLoadingState(n){return typeof n=="function"?n():n===!0}fieldClasses=oe(()=>{let n=this.field(),e=Dt(n.inputStyleClass)?n.inputStyleClass:"w-full",t=this.showError(),i=C(n)&&($t(n,"disabled")&&n.disabled===!0||this.isFieldLoading()||$t(n,"readonly")&&n.readonly===!0),r=[];return r.push(e),t&&r.push("ng-invalid","ng-dirty"),i&&r.push("p-disabled"),r.filter(C).join(" ").trim()});listItems=U([]);autocompleteSearchQuery=U("");modalConfig=oe(()=>this.field().props?.modalConfig);listItemTemplate=oe(()=>this.field().props?.listItemTemplate);splitButtonTreeModel=[];defaultColorOptions=[{label:"Black",value:"#000000"},{label:"White",value:"#ffffff"},{label:"Red",value:"#ff0000"},{label:"Green",value:"#00ff00"},{label:"Blue",value:"#0000ff"}];colorOptions=U([]);selectedColor=U(null);manualColorInput=U("");filterService=_(kt);internalDateControl=U(null);activeDateControl=oe(()=>this.field().props?.timeOnly??!1?this.internalDateControl():this.control());isUpdatingDateControl=!1;_lastControlRef=null;constructor(){Ve(n=>{let e=this.control();if(C(e)){this.formState.set({invalid:e.invalid,dirty:e.dirty,touched:e.touched});let t=e.statusChanges.pipe(dt(this.destroyRef)).subscribe(()=>{this.formState.set({invalid:e.invalid,dirty:e.dirty,touched:e.touched})}),i=e.valueChanges.pipe(dt(this.destroyRef)).subscribe(r=>{this.formState.set({invalid:e.invalid,dirty:e.dirty,touched:e.touched});let a=this.fieldType(),c=this.field();if(c.events?.onChange&&(a==="dropdown"||a==="autocomplete"||c.events.onChange(r)),a==="modalList"||a==="treeSplitButtonList"){let m=this.control().value,v=a==="modalList"?this.modalConfig()?.listItemFormatter:this.fieldProps().listItemFormatter,S=lt(m)?m:[];He(v)?this.listItems.set(S.map((z,N)=>J(L({},v(z)),{original:z,id:`${this.fieldKey()}-${N}`}))):a==="modalList"&&this.listItems.set(S.map((z,N)=>({id:`${this.fieldKey()}-${N}`,display:st(z)?JSON.stringify(z):String(z),original:z})))}else this.listItems().length>0&&this.listItems.set([]);if(a==="colorPicker"){let m=this.control().value;this.updateColorStateAndOptions(m),C(m)&&this.manualColorInput()!==m&&this.manualColorInput.set(m)}});n(()=>{t.unsubscribe(),i.unsubscribe()})}}),Ve(()=>{if(this.fieldType()==="modalList"){let n=this.control().value,e=this.modalConfig()?.listItemFormatter,t=lt(n)?n:[];He(e)?this.listItems.set(t.map((i,r)=>J(L({},e(i)),{original:i,id:`${this.fieldKey()}-${r}`}))):this.listItems.set(t.map((i,r)=>({id:`${this.fieldKey()}-${r}`,display:st(i)?JSON.stringify(i):String(i),original:i})))}else if(this.fieldType()==="treeSplitButtonList"){let n=this.control().value,e=this.fieldProps().listItemFormatter,t=lt(n)?n:[];He(e)&&this.listItems.set(t.map((i,r)=>J(L({},e(i)),{original:i,id:`${this.fieldKey()}-${r}`})))}else this.listItems().length>0&&this.listItems.set([])}),Ve(()=>{let n=this.fieldType(),e=this.treeNodeOptions()??[];n==="treeSplitButtonList"?this.splitButtonTreeModel=this.buildSplitButtonTreeModel(e):this.splitButtonTreeModel=[]}),Ve(()=>{let n=this.control();if(this.fieldType()==="colorPicker"){let t=n.value;if(!sn(t)&&this.selectedColor()!==t){this.selectedColor.set(t),this.manualColorInput.set(String(t));let i=this.colorOptions();i.length>0&&(i.some(a=>a.value===t)||this.colorOptions.update(a=>[...a,{label:t,value:t}]))}else t===null&&this.selectedColor()!==null&&this.selectedColor.set(null)}}),this.setupDateSyncEffect()}ngOnInit(){if(this.field().type==="colorPicker"){let n=this.field().props?.colorOptions;Array.isArray(n)&&n.length>0?this.colorOptions.set([...n]):this.colorOptions.set([...this.defaultColorOptions]);let e=this.control().value;C(e)&&this.manualColorInput.set(e),this.updateColorStateAndOptions(e)}}setupDateSyncEffect(){let n=null,e=null;Ve(t=>{let i=this.field(),r=this.control();if(i.type==="date"&&(i.props?.timeOnly??!1)){let a=Ji(()=>this.internalDateControl());if(a||(a=new Fi(null),this.internalDateControl.set(a)),n&&n.unsubscribe(),e&&e.unsubscribe(),Ji(()=>this._lastControlRef)!==r){this._lastControlRef=r;let c=r.value;if(typeof c=="string"&&/^\d{2}:\d{2}$/.test(c)){let[m,v]=c.split(":").map(Number),S=new Date;S.setHours(m,v,0,0),a.setValue(S,{emitEvent:!1})}}n=a.valueChanges.subscribe(c=>{if(!this.isUpdatingDateControl){this.isUpdatingDateControl=!0;try{if(c instanceof Date){let m=c.getHours().toString().padStart(2,"0"),v=c.getMinutes().toString().padStart(2,"0"),S=`${m}:${v}`;r.value!==S&&(r.setValue(S),r.markAsDirty(),r.markAsTouched(),this.fieldChange.emit({field:i,value:S}))}else r.value!==null&&(r.setValue(null),r.markAsDirty())}finally{this.isUpdatingDateControl=!1}}}),e=r.valueChanges.subscribe(c=>{if(!this.isUpdatingDateControl){this.isUpdatingDateControl=!0;try{if(typeof c=="string"&&c.trim()!=="")if(/^\d{2}:\d{2}$/.test(c)){let[v,S]=c.split(":").map(Number);if(r.hasError("invalidTimeFormat")){let N=L({},r.errors);delete N.invalidTimeFormat,r.setErrors(Object.keys(N).length?N:null)}let z=a?.value;if(z?.getHours()!==v||z.getMinutes()!==S){let N=new Date;N.setHours(v,S,0,0),a?.setValue(N,{emitEvent:!1})}}else r.setErrors(J(L({},r.errors),{invalidTimeFormat:!0}));else c===null&&a?.value!==null&&a?.setValue(null,{emitEvent:!1})}finally{this.isUpdatingDateControl=!1}}}),t(()=>{n&&n.unsubscribe(),e&&e.unsubscribe()})}else Ji(()=>this.internalDateControl())&&(this.internalDateControl.set(null),this._lastControlRef=null)})}buildSplitButtonTreeModel(n){let e=t=>t.map(i=>{let r={label:i.label,icon:i.icon,data:i.data??i};return Array.isArray(i.children)&&i.children.length>0?r.items=e(i.children):i.selectable!==!1&&(r.command=()=>this.handleSplitButtonTreeItemSelect(i)),r});return e(n)}trackByOption(n,e){return ul(e)&&(Dt(e.value)||pl(e.value))?e.value:String(e)}onFileSelect(n){C(n)&&st(n)&&$t(n,"files")&&Array.isArray(n.files)&&n.files.length>0&&this.control().setValue(n.files[0])}getToggleButtonLabel(n){let e=C(this.field().props?.onLabel)?String(this.field().props?.onLabel):"Yes",t=C(this.field().props?.offLabel)?String(this.field().props?.offLabel):"No";return typeof n=="boolean"&&n?e:t}onDropdownChange(n){this.fieldChange.emit({field:this.field(),value:n.value});let e=this.field().events?.onChange;He(e)&&e(n.value)}triggerAddItem(){this.fieldType()==="modalList"&&this.addItem.emit({field:this.field()})}triggerEditItem(n,e){this.fieldType()==="modalList"&&this.editItem.emit({field:this.field(),item:n.original,index:e})}triggerDeleteItem(n){this.fieldType()==="modalList"&&this.deleteItem.emit({field:this.field(),index:n})}handleSplitButtonTreeItemSelect(n){let e=this.field(),t=this.control(),i,r=e.props?.transformTreeNodeToItem;He(r)?i=r(n):i=n.data??n;let a=Array.isArray(t.value)?[...t.value]:[];a.push(i),t.setValue(a),t.markAsDirty(),t.updateValueAndValidity()}handleSplitButtonListItemDelete(n){let e=this.control(),t=Array.isArray(e.value)?[...e.value]:[];t.splice(n,1),e.setValue(t),e.markAsDirty(),e.updateValueAndValidity()}getAddButtonLabel(){let n=this.fieldType(),e=this.field().props;return n==="modalList"?this.modalConfig()?.addButtonLabel??"Add Item":n==="treeSplitButtonList"?e?.addButtonLabel??"Add from Tree":"Add Item"}handleAutocompleteSearch(n){this.autocompleteSearchQuery.set(n);let e=this.field().events?.onSearch;He(e)&&e(n)}onAutocompleteChange(n){let e=this.field().events?.onChange;if(He(e)){let t=n.value;e(t!==null&&typeof t=="object"?JSON.stringify(t):typeof t=="string"||typeof t=="number"?String(t):"")}}onAutocompleteValueChange(){let n=this.control();n.dirty||n.markAsDirty()}onAutocompleteBlur(n){let e=n.target,t=e?.value?.trim(),i=this.field().props?.multiple===!0;if(t&&i){let r=this.control(),a=Array.isArray(r.value)?r.value:[];a.includes(t)||(r.setValue([...a,t]),r.markAsDirty()),e.value=""}}updateColorStateAndOptions(n){if(this.selectedColor.set(n),typeof n=="string"&&!sn(n)){let e=this.colorOptions();(e.length>0||this.field().type==="colorPicker")&&(e.some(i=>i.value===n)||this.colorOptions.update(i=>[...i,{label:n,value:n}]))}}onColorSelect(n){this.control().setValue(n)}onColorPickerChange(n,e){let t=String(n.value);C(e)&&(e.setValue(t),this.manualColorInput.set(t))}onManualColorInputChange(n){this.manualColorInput.set(n);let e=this.control();if(!C(e)||!n)return;let t=(n.length===7||n.length===4)&&n.startsWith("#"),i=n.startsWith("rgb");(t||i)&&e.setValue(n)}getDateControl(){return this.activeDateControl()??this.control()}getSuggestions(){let n=this.field().props?.suggestions;return He(n)?n():n??[]}getAutocompleteDisplayText(n){if($(n))return"";let t=this.field().props?.field;if(C(t)){let i=n[t];return String(i??"")}return String(n)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-dynamic-field"]],inputs:{field:[1,"field"],control:[1,"control"],customTemplate:[1,"customTemplate"]},outputs:{fieldChange:"fieldChange",addItem:"addItem",editItem:"editItem",deleteItem:"deleteItem"},decls:1,vars:1,consts:[["op",""],["autocompleteRef",""],["item",""],[3,"ngClass"],[3,"for","ngClass"],[1,"pl-1.5","text-sm","opacity-60"],[1,"p-error"],["tooltipPosition","top",1,"pi","pi-question-circle","text-xs","opacity-60","cursor-help",3,"pTooltip","escape"],[1,"p-field-loading"],[1,"flex","flex-col","w-full"],["pInputText","",3,"id","formControl","placeholder","readonly","class"],[3,"id","formControl","showButtons","minFractionDigits","maxFractionDigits","step","class"],[3,"id","formControl","options","placeholder","showClear","filter","filterBy","class","appendTo"],[3,"id","formControl","options","placeholder","filter","class","appendTo"],[3,"id","formControl","dateFormat","showTime","showSeconds","showIcon","timeOnly","appendTo","styleClass"],[3,"id","formControl","ngClass"],["pTextarea","",3,"id","formControl","rows","autoResize","placeholder","class","readOnly"],[3,"id","formControl","min","max","step","class"],[3,"id","formControl","onLabel","offLabel","ngClass"],[1,"flex","flex-row","gap-2","items-center","w-full"],[3,"id","formControl","min","max","step","size","ngClass"],[3,"id","formControl","modules","class"],["mode","basic","chooseLabel","Choose",3,"id","maxFileSize","accept","class"],["inputStyleClass","w-full","styleClass","w-full",3,"id","formControl","feedback","toggleMask","class","autocomplete"],[3,"id","formControl","mask","class"],[3,"id","formControl","stars","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"relative"],[3,"id","formControl","options","checkmark","checkbox","multiple","class"],["filterMode","strict",3,"id","formControl","options","placeholder","containerStyleClass","appendTo","selectionMode","showClear","filter"],[1,"dynamic-field-list-container"],[3,"id","formControl","class","ngClass","groupTypes","filterService","requireActorBeforeAction"],[3,"id","formControl","class","ngClass","allowedAssetTypes","ownerId","readonly"],[3,"id","formControl","class","ngClass","ownerId","multi","readonly","placeholder"],[3,"id","formControl","class"],[3,"id","formControl","class","ngClass"],[1,"flex","flex-col"],["aria-live","polite",1,"p-error"],[1,"p-hint","form-text","muted","text-xs","mt-1"],["strokeWidth","2","ariaLabel","loading",1,"w-[20px]","h-[20px]"],["pInputText","",3,"id","formControl","placeholder","readonly"],[3,"id","formControl","showButtons","minFractionDigits","maxFractionDigits","step"],[3,"onChange","id","formControl","options","placeholder","showClear","filter","filterBy","appendTo"],[3,"id","formControl","options","placeholder","filter","appendTo"],[3,"id","formControl","value","ngClass"],[1,"ml-2",3,"for"],["pTextarea","",3,"id","formControl","rows","autoResize","placeholder","readOnly"],[3,"id","formControl","min","max","step"],[1,"w-6","h-6","rounded","border","cursor-pointer","flex-shrink-0","dynamic-color-swatch",3,"click","keydown.enter","ngStyle"],[1,"flex","flex-col","gap-3","p-2"],[3,"onChange","formControl","inline","format"],["pInputText","","placeholder","Hex or RGB",1,"w-full","text-sm",3,"ngModelChange","id","ngModel"],["placeholder","Select a color or pick one","appendTo","body",3,"ngModelChange","onChange","id","options","ngModel","styleClass"],["pTemplate","item"],["pTemplate","selectedItem"],[1,"flex","gap-2","items-center"],[1,"w-4","h-4","border","dynamic-color-swatch",3,"ngStyle"],[3,"id","formControl","modules"],["mode","basic","chooseLabel","Choose",3,"onSelect","id","maxFileSize","accept"],["inputStyleClass","w-full","styleClass","w-full",3,"id","formControl","feedback","toggleMask","autocomplete"],[3,"id","formControl","mask"],[3,"id","formControl","stars"],["inputStyleClass","w-full",3,"completeMethod","onSelect","onChange","onUnselect","onInput","onKeyUp","onBlur","id","formControl","suggestions","forceSelection","optionLabel","placeholder","completeOnFocus","readonly","typeahead","multiple","delay","emptyMessage","dropdown","appendTo"],[1,"autocomplete-item",3,"innerHTML"],[3,"id","formControl","options","checkmark","checkbox","multiple"],[1,"list-items-display","border","p-2","mb-2","rounded","min-h-[50px]"],[1,"mb-2","italic","text-gray-500"],["type","button","icon","pi pi-plus","severity","secondary",3,"label"],[1,"flex","flex-row","justify-between","items-center","p-2","my-4","border-b","last:border-b-0"],[1,"flex","flex-row","gap-4","items-center"],[1,"flex","gap-2","ml-4","list-item-actions"],[1,"pi","pi-pen-to-square","action","hover","!text-xl"],[1,"pi","pi-trash","action","hover","!text-xl"],[3,"class","ngStyle"],[1,"font-medium"],[1,"text-sm","whitespace-pre-line","muted"],[3,"ngStyle"],[1,"pi","pi-pen-to-square","action","hover","!text-xl",3,"click","keydown.enter"],[1,"pi","pi-trash","action","hover","!text-xl",3,"click","keydown.enter"],["type","button","icon","pi pi-plus","severity","secondary",3,"onClick","label"],[3,"id","formControl","ngClass","groupTypes","filterService","requireActorBeforeAction"],[3,"id","formControl","ngClass","allowedAssetTypes","ownerId","readonly"],[3,"id","formControl","ngClass","ownerId","multi","readonly","placeholder"],[1,"mb-2","italic"],["severity","secondary","appendTo","body",3,"label","model"],[1,"list-item-actions"],[3,"class"],[3,"id","formControl"]],template:function(e,t){e&1&&D(0,eT,41,21,"div",3),e&2&&F(t.field().hidden?-1:0)},dependencies:[K,tt,we,Oe,ei,Jt,qe,Wn,nt,it,Vi,Xn,ve,lo,zl,Pi,ni,ro,Rl,so,Hl,Ai,Al,ks,Dr,bo,vo,Fs,Io,fo,ho,Co,yo,uo,po,ao,_o,go,Ns,Gl,Ll,ql,wo,xo,ii,Ni,Pl,Vl,qi,Ri,_d,Ro,ri,oi,Ot,ti,Qe,Ye,vn,bn,yn,Kd,na,Fe,Ue,Yd,Qo,Lo,Kl,jl,Bo],styles:[".p-error[_ngcontent-%COMP%]{color:var(--p-inputtext-invalid-border-color)}.autocomplete-item[_ngcontent-%COMP%]{padding:.5rem;cursor:pointer}.dynamic-color-swatch[_ngcontent-%COMP%]{background-color:var(--swatch-color, #ffffff)}"]})};var ir=dr(Im());var nr=class o{areFieldsEqual(n,e){if(!n||n.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(!this.areFieldConfigsEqual(n[t],e[t]))return!1;return!0}areFieldConfigsEqual(n,e){let t=Object.keys(n).filter(r=>typeof n[r]!="function"),i=Object.keys(e).filter(r=>typeof e[r]!="function");if(t.length!==i.length)return!1;for(let r of t){let a=n[r],c=e[r];if(!this.areValuesEqual(r,a,c))return!1}return!0}areValuesEqual(n,e,t){return typeof e=="function"||typeof t=="function"?!0:lt(e)&&lt(t)?this.areArrayValuesEqual(n,e,t):n==="conditions"&&st(e)&&st(t)?this.areConditionsEqual(e,t):st(e)&&st(t)?(0,ir.default)(e,t,this.customEqualityComparator):e===t}areArrayValuesEqual(n,e,t){return e.length!==t.length?!1:n==="fields"||n==="options"||n==="treeNodeOptions"?this.areArraysEqual(e,t):(0,ir.default)(e,t,this.customEqualityComparator)}areConditionsEqual(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r of t)if(!this.isConditionKeyEqual(r,n,e,i))return!1;return!0}isConditionKeyEqual(n,e,t,i){if(!i.includes(n))return!1;let r=e[n],a=t[n];return!lt(r)||!lt(a)?!1:this.areFieldsEqual(r,a)}customEqualityComparator(n,e){if(He(n)||He(e))return!0}areArraysEqual(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(st(i)&&st(r)){if(!(0,ir.default)(i,r,this.customEqualityComparator))return!1}else if(i!==r)return!1}return!0}shouldSkipFieldUpdate(n,e,t,i){return!!(t||!i||n===e||this.areFieldsEqual(n,e))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var or=class o{getFullPath(n,e){return e?`${e}.${n}`:n}getFieldWithPath(n,e){return J(L({},n),{key:this.getFullPath(n.key,e)})}getParentPath(n){let e=n.split(".");return e.pop(),e.join(".")}getFieldName(n){return n.split(".").at(-1)}isChildPath(n,e){return e?n.startsWith(`${e}.`):!0}getPathDepth(n){return n?n.split(".").length:0}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var Yi=class o{isFormGroup(n){return n instanceof Mt}createControl(n){if(n.type==="group"){let e=new Mt({});for(let t of n.fields??[])e.addControl(t.name,this.createControl(t));return e}else{let e=n.validations?.map(t=>t.validator)??[];return new Fi(n.value,e)}}ensureGroupExists(n,e,t){let i=n.get(e);if(i instanceof Mt)return i;let a=e.split(".").at(-1);if($(t)){let c=new Mt({});return n.addControl(a,c),c}else{let c=this.ensureGroupExists(n,t),m=new Mt({});return c.addControl(a,m),m}}clearFormGroup(n,e){this.ensureGroupExists(n,e);let t=n.get(e);if(t instanceof Mt)for(let i of Object.keys(t.controls))t.removeControl(i)}collectGroupsAndPaths(n,e,t){for(let i of n)if(i.type==="group"){let r=e?`${e}.${i.name}`:i.name;t.set(r,{path:r,parentPath:e,field:i}),i.fields&&this.collectGroupsAndPaths(i.fields,r,t)}}buildConditionalFormGroupHierarchy(n,e,t=""){let i=new Map;this.collectGroupsAndPaths(e,t,i),this.createGroupsInOrder(n,i),this.processNestedConditionalFields(n,i)}createGroupsInOrder(n,e){let t=Array.from(e.keys()).sort((i,r)=>i.split(".").length-r.split(".").length);for(let i of t){let r=e.get(i);if(r){let{parentPath:a}=r;this.ensureGroupExists(n,i,a)}}}processNestedConditionalFields(n,e){for(let{path:t,field:i}of e.values())i.fields&&this.processChildConditionalFields(n,i.fields,t)}processChildConditionalFields(n,e,t){for(let i of e)(i.conditional??!1)&&i.conditions&&this.handleChildConditionalField(n,i,t)}handleChildConditionalField(n,e,t){let i=e.value;if(C(i)&&C(e.conditions?.[i])){let r=e.conditions[i]??[];this.buildConditionalFormGroupHierarchy(n,r,t)}}populateFormGroup(n,e,t){let i=this.ensureGroupExists(n,t);try{for(let r of e)if(r.type==="group"){let a=`${t}.${r.name}`;this.ensureGroupExists(n,a,t)}for(let r of e)r.type==="group"&&r.fields?this.populateFormGroup(n,r.fields,`${t}.${r.name}`):$(i.get(r.name))&&i.addControl(r.name,this.createControl(r))}catch(r){console.error(`Error populating group ${t}:`,r)}}createGroupsFromFields(n,e){for(let t of e){if(t.type!=="group"||n.get(t.name))continue;let i=this.createControl(t);n.addControl(t.name,i),t.fields&&this.createGroupsFromFields(n,t.fields)}}createConditionalGroups(n,e,t=""){for(let i of e){if($(i.conditional)||$(i.conditions)||$(i.value))continue;let r=i.value;if($(i.conditions[r]))continue;let a=i.conditions[r]??[];for(let c of a)c.type==="group"&&this.buildFormGroupHierarchy(n,[c],t)}}buildFormGroupHierarchy(n,e,t=""){this.createGroupsFromFields(n,e),this.createConditionalGroups(n,e,t)}restoreFormValues(n,e){if(!($(e)||$(n))){for(let t of Object.keys(n.controls)){let i=n.get(t);i&&C(e[t])&&(typeof e[t]=="object"&&i instanceof Mt?this.restoreNestedValues(i,e[t]):i.setValue(e[t],{emitEvent:!1}))}n.updateValueAndValidity()}}restoreNestedValues(n,e){if(!$(e))for(let t of Object.keys(e)){let i=n.get(t);i&&(typeof e[t]=="object"&&i instanceof Mt?this.restoreNestedValues(i,e[t]):i.setValue(e[t],{emitEvent:!1}))}}rebuildForm(n,e,t,i){let r=C(i?.preserveValues)&&C(n)?structuredClone(n.value):void 0;if(C(n))for(let c of Object.keys(n.controls))n.removeControl(c);let a=t(e);for(let c of Object.keys(a.controls))n.addControl(c,a.get(c));return i?.onFieldsProcessed?.(n,e),C(r)&&(i?.preserveValues??!1)&&(this.restoreFormValues(n,r),i?.onValuesRestored?.()),n}removeFieldFromForm(n,e,t=""){let i=t?`${t}.${e.name}`:e.name;this.removeConditionalFields(n,e,i),this.removeGroupFields(n,e,i),this.removeControl(n,e,t,i)}removeConditionalFields(n,e,t){if((e.conditional??!1)&&e.conditions){let i=Object.values(e.conditions).flat();for(let r of i)this.removeFieldFromForm(n,r,t)}}removeGroupFields(n,e,t){if(e.type==="group"&&e.fields)for(let i of[...e.fields].reverse())this.removeFieldFromForm(n,i,t)}removeControl(n,e,t,i){try{$(t)?this.removeTopLevelControl(n,e):this.removeNestedControl(n,e,t)}catch(r){console.error(`Error removing field ${i}:`,r)}}removeTopLevelControl(n,e){n.get(e.name)&&n.removeControl(e.name)}removeNestedControl(n,e,t){let i=n.get(t);i instanceof Mt&&i.get(e.name)&&i.removeControl(e.name)}addFieldToForm(n,e,t=""){let i=t?`${t}.${e.name}`:e.name;if(n.get(i))return;let r=this.createControl(e),a=t?.trim()?n.get(t):null;a instanceof Mt?a.addControl(e.name,r):n.addControl(e.name,r)}addFieldsToForm(n,e,t){for(let i of e)if(i.type==="group"&&i.fields){let r=t?`${t}.${i.name}`:i.name;this.populateFormGroup(n,i.fields,r)}else $(n.get(i.name))&&this.addFieldToForm(n,i,t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var rr=class o{formStructureService=_(Yi);handleFieldChange(n,e,t,i,r){if(!(n.conditional!==!0||!C(n.conditions)||!C(n.conditions[e])))try{let{conditionalFields:a,previousFields:c}=this.prepareFieldMaps(n,e),{fieldsToRemove:m,groupsToPreserve:v}=this.handleFieldPreservation(a,c);this.processFormStructureChanges(a,c,m,v,t,i.form),this.updateDynamicFieldsWithConditionals(a,m,v,t,i),this.processNestedConditionalTriggers(a,t,r)}catch(a){console.error("Error in handleFieldChange:",a)}}prepareFieldMaps(n,e){let t=n.conditions?.[e]??[],i=Object.entries(n.conditions??{}).filter(([r])=>r!==String(e)).flatMap(([r,a])=>a);return{conditionalFields:t,previousFields:i}}handleFieldPreservation(n,e){let t=new Set,i=new Set,r=new Map;for(let a of n)r.set(a.name,a);for(let a of e)a.type==="group"&&r.has(a.name)&&i.add(a.name),this.collectFieldsToRemove(a,t);return{fieldsToRemove:t,groupsToPreserve:i}}processFormStructureChanges(n,e,t,i,r,a){for(let c of e)c.type==="group"&&i.has(c.name)||this.formStructureService.removeFieldFromForm(a,c,r);this.formStructureService.buildConditionalFormGroupHierarchy(a,n,r);for(let c of i){let m=r?`${r}.${c}`:c;this.formStructureService.clearFormGroup(a,m)}}updateDynamicFieldsWithConditionals(n,e,t,i,r){let c=r.dynamicFields().filter(v=>!e.has(v.name)||t.has(v.name)),m=[];for(let v of c)t.has(v.name)&&v.type==="group"?this.updateGroupField(v,n,m):m.push(v);this.addNewFields(n,c,m),r.updateDynamicFields(()=>m),this.formStructureService.addFieldsToForm(r.form,n,i)}updateGroupField(n,e,t){let i=e.find(r=>r.name===n.name);i?t.push(J(L({},n),{fields:[...i.fields??[]]})):t.push(J(L({},n),{fields:[]}))}addNewFields(n,e,t){for(let i of n)e.some(r=>r.name===i.name)||t.push(i)}processNestedConditionalTriggers(n,e,t){for(let i of n)if(i.conditional===!0&&i.conditions){let r=i.value;if(C(r)&&C(i.conditions[r])){let a=e?`${e}.${i.name}`:i.name;setTimeout(()=>{t(i,r,a)},0)}}}collectFieldsToRemove(n,e){if(e.add(n.name),(n.conditional??!1)&&n.conditions)for(let t of Object.values(n.conditions).flat())this.collectFieldsToRemove(t,e);if(n.type==="group"&&n.fields)for(let t of n.fields)this.collectFieldsToRemove(t,e)}processInitialConditionalFields(n,e,t){this.formStructureService.buildFormGroupHierarchy(e,n),t.processConditionalFieldsAtLevel(n)}processConditionalFieldsAtLevel(n,e,t,i){let r=n.filter(a=>a.conditional===!0&&C(a.conditions));for(let a of r){let c=e?`${e}.${a.name}`:a.name,m=t.get(c);if(!m)return;let v=m.value;if(C(v)&&a.conditions?.[v]){let S=a.conditions[v]??[];i.addConditionalFields(S,e),i.processNestedConditionalFields(S,e)}}for(let a of n)if(a.type==="group"&&a.fields){let c=e?`${e}.${a.name}`:a.name;this.processConditionalFieldsAtLevel(a.fields,c,t,i)}}addConditionalFields(n,e,t,i){for(let r of n)this.formStructureService.addFieldToForm(t.form,r,e);t.updateDynamicFields(r=>{let a=new Map(r.map(m=>[m.name,m])),c=[...r];for(let m of n)a.has(m.name)||c.push(m);return c}),setTimeout(()=>{i(n,e)},0)}processNestedConditionalFields(n,e,t,i){setTimeout(()=>{this.processNestedFields(n,e,t,i)},0)}processNestedFields(n,e,t,i){for(let r of n){let a=e?`${e}.${r.name}`:r.name;this.processGroupField(r,a,i),this.processConditionalField(r,a,t,i)}}processGroupField(n,e,t){n.type==="group"&&n.fields&&t.processConditionalFieldsAtLevel(n.fields,e)}processConditionalField(n,e,t,i){if(n.conditional!==!0||!n.conditions)return;let r=t.get(e);if(!r)return;let a=r.value;!C(a)||!C(n.conditions[a])||(i.addConditionalFields(n.conditions[a],e),this.processNestedConditionalFields(n.conditions[a],e,t,i))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var ar=class o{handleDependencies(n,e,t){for(let i of n)for(let r of i.fields)r.dependencies&&this.setupFieldDependencies(r,e,t)}setupFieldDependencies(n,e,t){for(let i of n.dependencies??[])e.get(i.field)?.valueChanges.pipe(dt(t)).subscribe(r=>this.handleDependencyAction(n,i,r,e))}handleDependencyAction(n,e,t,i){if(e.invertMatch??!1?t!==e.value:t===e.value)switch(e.action){case"show":n.visible=!0;break;case"hide":n.visible=!1;break;case"enable":i.get(n.key)?.enable();break;case"disable":i.get(n.key)?.disable();break}else switch(e.action){case"show":n.visible=!1;break;case"hide":n.visible=!0;break;case"enable":i.get(n.key)?.disable();break;case"disable":i.get(n.key)?.enable();break}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var lr=class o{localStorage=_(Un);setupFormPersistence(n,e,t,i=500){n.valueChanges.pipe(Ci(i),ci(),dt(t)).subscribe(()=>{this.saveState(n,e)})}saveState(n,e){for(let t of e)for(let i of t.fields)if(C(i.persistKey)){let r=n.get(i.key)?.value;r!==void 0&&this.localStorage.setItem(i.persistKey,r)}}loadPersistedState(n,e){for(let t of e)for(let i of t.fields)if(C(i.persistKey)){let r=this.localStorage.getItem(i.persistKey);r!==null&&n.get(i.key)?.setValue(r)}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var sr=class o{validateFieldNames(n){for(let e of n)if(e.type==="group"&&e.fields&&this.validateFieldNames(e.fields),C(e.conditional)&&e.conditions)for(let t of Object.values(e.conditions))this.validateFieldNames(t)}hasError(n,e){let t=e.get(n);return t?t.invalid&&(t.dirty||t.touched):!1}getErrorMessage(n,e){let t=e.get(n);if(!C(t)||!C(t.errors))return"";let i=Object.keys(t.errors);if(!lt(i)||i.length===0)return"";let r=i[0];if(!$t(t.errors,r))return"";let a=t.errors[r];return Dt(a)?a:""}static \u0275fac=function(e){return new(e||o)};static \u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})};var km=class{config={};withModalComponent(n){return this.config.modalComponent=n,this}withTitle(n){return this.config.modalTitle=n,this}withFields(n){return this.config.modalFields=n,this}withFormatter(n){return this.config.listItemFormatter=n,this}withDefaultProvider(n){return this.config.defaultItemProvider=n,this}withSubHeader(n){return this.config.subHeader=n,this}withAddButtonLabel(n){return this.config.addButtonLabel=n,this}withHideSaveNotification(n){return this.config.hideSaveNotification=n,this}withShowEditButton(n){return this.config.showEditButton=n,this}withShowAddButton(n){return this.config.showAddButton=n,this}withShowDeleteButton(n){return this.config.showDeleteButton=n,this}withOnSubmit(n){return this.config.onSubmit=n,this}withOnDeleteItem(n){return this.config.onDeleteItem=n,this}build(){if(typeof this.config.modalComponent!="function")throw new TypeError("Modal component is required");if(this.config.modalTitle===void 0)throw new TypeError("Modal title is required");if(this.config.modalFields===void 0)throw new TypeError("Modal fields are required");return{modalComponent:this.config.modalComponent,modalTitle:this.config.modalTitle,modalFields:this.config.modalFields,listItemFormatter:this.config.listItemFormatter,defaultItemProvider:this.config.defaultItemProvider,addButtonLabel:this.config.addButtonLabel,subHeader:this.config.subHeader,hideSaveNotification:this.config.hideSaveNotification,showEditButton:this.config.showEditButton,showAddButton:this.config.showAddButton,showDeleteButton:this.config.showDeleteButton,onSubmit:this.config.onSubmit,onDeleteItem:this.config.onDeleteItem}}};var Xi=class{static handleResult(n,e){let t=e.value,i=lt(t)?[...t]:[];try{if(n.isEdit&&C(n.index)){if(n.index<0||n.index>=i.length)return console.warn(`Edit index ${n.index} out of bounds for array of length ${i.length}`),!1;i[n.index]=n.data}else i.push(n.data);return e.setValue(i),e.markAsDirty(),e.updateValueAndValidity(),!0}catch(r){return console.error("Error handling modal result:",r),!1}}static deepCloneItem(n){if(typeof structuredClone=="function")return structuredClone(n);try{return Array.isArray(n)?[...n]:L({},n)}catch(e){return console.warn("Failed to shallow clone item, returning original:",e),n}}static isEditIndexValid(n,e){return C(n)&&n>=0&&n<e}};var xE=(o,n)=>({fields:o,group:n,parentPath:""}),wE=(o,n,e)=>({fields:o,group:n,parentPath:e}),Ta=(o,n)=>n.key,TE=(o,n)=>n.label;function SE(o,n){if(o&1){let e=k();p(0,"app-dynamic-field",9),y("fieldChange",function(i){h(e);let r=l(7);return f(r.onFieldChange(i.field,i.value))}),u(),fr()}if(o&2){let e=l(2).$implicit,t=l(5);gr(e),s("control",n)("customTemplate",t.templates()[e.key])}}function IE(o,n){if(o&1&&D(0,SE,1,4,"app-dynamic-field",8),o&2){let e,t=l().$implicit,i=l(5);F((e=i.getFieldControl(t.key))?0:-1,e)}}function kE(o,n){if(o&1&&D(0,IE,1,1),o&2){let e=n.$implicit,t=l(5);F(t.isFieldVisible(e)?0:-1)}}function EE(o,n){if(o&1&&(p(0,"div",7),Ee(1,kE,1,1,null,null,Ta),u()),o&2){let e=l().$implicit;d(),De(e.fields)}}function DE(o,n){if(o&1){let e=k();p(0,"div",4)(1,"div",5),y("click",function(){let i=h(e).$implicit,r=l(3);return f(r.toggleSection(i.key))})("keydown.enter",function(){let i=h(e).$implicit,r=l(3);return f(r.toggleSection(i.key))}),p(2,"h3",6),O(3),u(),I(4,"i"),u(),D(5,EE,3,0,"div",7),u()}if(o&2){let e=n.$implicit,t=l(3);d(3),te(e.title),d(),b(t.isSectionCollapsed(e.key)?"pi pi-chevron-down":"pi pi-chevron-up"),d(),F(t.isSectionCollapsed(e.key)?-1:5)}}function FE(o,n){if(o&1&&Ee(0,DE,6,4,"div",4,Ta),o&2){let e=l(2);De(e.sections())}}function ME(o,n){o&1&&j(0)}function OE(o,n){if(o&1&&g(0,ME,1,0,"ng-container",10),o&2){let e=l(2),t=Pe(2);s("ngTemplateOutlet",t)("ngTemplateOutletContext",fe(2,xE,e.dynamicFields(),e.form))}}function NE(o,n){if(o&1){let e=k();p(0,"p-button",12),y("onClick",function(){h(e);let i=l().$implicit,r=l(3);return f(r.handleAction(i))}),u()}if(o&2){let e=l().$implicit,t=l(3);s("type",e.type||"button")("label",e.label)("severity",e.severity)("outlined",e.outlined)("disabled",t.isDisabled(e))("icon",e.icon)("styleClass",e.styleClass)("loading",(e==null||e.loading==null?null:e.loading())??!1)}}function VE(o,n){if(o&1&&D(0,NE,1,8,"p-button",11),o&2){let e=n.$implicit,t=l(3);F(t.isVisible(e)?0:-1)}}function PE(o,n){if(o&1&&(p(0,"div",3),Ee(1,VE,1,1,null,null,TE),u()),o&2){let e=l(2);d(),De(e.actions())}}function AE(o,n){if(o&1){let e=k();p(0,"form",2),y("ngSubmit",function(){h(e);let i=l();return f(i.onSubmit())}),D(1,FE,2,0)(2,OE,1,5,"ng-container"),D(3,PE,3,0,"div",3),u()}if(o&2){let e=l();s("formGroup",e.form),d(),F(e.sections().length?1:2),d(2),F(e.hideActions()?-1:3)}}function RE(o,n){o&1&&j(0)}function qE(o,n){if(o&1&&(p(0,"div",13)(1,"h4",14),O(2),u(),g(3,RE,1,0,"ng-container",10),u()),o&2){let e=l(3).$implicit,t=l(),i=t.group,r=t.parentPath;l();let a=Pe(2);s("formGroupName",e.key),d(2),te(e.label),d(),s("ngTemplateOutlet",a)("ngTemplateOutletContext",Wt(4,wE,e.fields,i.get(e.key),r?r+"."+e.key:e.key))}}function LE(o,n){if(o&1&&O(0),o&2){let e=l(3).$implicit,t=l().parentPath,i=l();ye(" ",i.warn("FormGroup not found for key:",e.key,"in parent path:",t)," ")}}function BE(o,n){if(o&1&&D(0,qE,4,8,"div",13)(1,LE,1,1),o&2){let e,t=l(2).$implicit,i=l().group;F((e=i.get(t.key))?0:1,e)}}function zE(o,n){if(o&1){let e=k();p(0,"app-dynamic-field",15),y("fieldChange",function(i){h(e);let r=l(5);return f(r.onFieldChange(i.field,i.value))})("addItem",function(i){h(e);let r=l(5);return f(r.handleAddItem(i))})("editItem",function(i){h(e);let r=l(5);return f(r.handleEditItem(i))})("deleteItem",function(i){h(e);let r=l(5);return f(r.handleDeleteItem(i))}),u(),fr()}if(o&2){let e=l(3).$implicit,t=l().parentPath,i=l();gr(i.getFieldWithPath(e,t)),s("control",n)("customTemplate",i.templates()[e.key])}}function HE(o,n){if(o&1&&O(0),o&2){let e=l(3).$implicit,t=l(),i=t.group,r=t.parentPath,a=l();ye(" ",a.warn("FormControl not found for key:",e.key,"in parent path:",r,i.value)," ")}}function $E(o,n){if(o&1&&D(0,zE,1,4,"app-dynamic-field",8)(1,HE,1,1),o&2){let e,t=l(2).$implicit,i=l().group;F((e=i.get(t.key))?0:1,e)}}function GE(o,n){if(o&1&&(p(0,"div",1),D(1,BE,2,1)(2,$E,2,1),u()),o&2){let e=l().$implicit,t=l().group;s("formGroup",t),d(),F(e.type==="group"?1:2)}}function UE(o,n){if(o&1&&D(0,GE,3,2,"div",1),o&2){let e=n.$implicit,t=l(2);F(t.isFieldVisible(e)?0:-1)}}function jE(o,n){if(o&1&&Ee(0,UE,1,1,null,null,Ta),o&2){let e=n.fields;De(e)}}var Em=class o{fields=R.required();templates=R({});sections=R([]);actions=R([]);hideActions=R(!1);formReady=Re();formSubmit=Re();formValidityChange=Re();formValueChange=Re();fieldValueChange=Re();formService=_(To);cdr=_(et);messageService=_(Hn);modalFormService=_(mo);_previousFields;ngZone=_(Xe);destroyRef=_(ui);formPathService=_(or);formComparisonService=_(nr);formStructureService=_(Yi);conditionalFieldService=_(rr);formDependencyService=_(ar);formPersistenceService=_(lr);formValidationService=_(sr);fieldUpdateInProgress=!1;rebuildTimeoutId=null;isDestroyed=!1;form;collapsedSections=U(new Set);dynamicFields=U([]);constructor(){this.setupFieldChangeEffect()}setupFieldChangeEffect(){this.ngZone.runOutsideAngular(()=>{Ve(()=>{let n=this.fields();this.shouldSkipFieldUpdate(n)||(this.fieldUpdateInProgress=!0,this._previousFields=n,this.scheduleFormRebuild())})})}shouldSkipFieldUpdate(n){let e=this.formComparisonService.shouldSkipFieldUpdate(this._previousFields,n,this.fieldUpdateInProgress,C(this.form));return e&&this._previousFields!==n&&(this._previousFields=n),e}scheduleFormRebuild(){$(this.form)||(this.rebuildTimeoutId&&clearTimeout(this.rebuildTimeoutId),this.rebuildTimeoutId=setTimeout(()=>{this.isDestroyed||this.ngZone.run(()=>{try{this.formStructureService.rebuildForm(this.form,this.fields(),this.formService.createFormGroup.bind(this.formService),{preserveValues:!0,onFieldsProcessed:(n,e)=>{this.validateFieldNames(e),this.dynamicFields.set([...e]),this.processInitialConditionalFields(),this.handleDependencies()},onValuesRestored:()=>{this.formReady.emit(this.form)}})}finally{this.fieldUpdateInProgress=!1}})}))}ngOnInit(){this.validateFieldNames(this.fields()),this.form=this.formService.createFormGroup(this.fields()),this.dynamicFields.set([...this.fields()]),this.processInitialConditionalFields(),this.loadPersistedState(),this.handleDependencies(),this.setupFormPersistence(),this.formReady.emit(this.form),this.form.statusChanges.pipe(dt(this.destroyRef)).subscribe(n=>{this.formValidityChange.emit(n==="VALID")}),this.form.valueChanges.pipe(ci(),Ci(50),dt(this.destroyRef)).subscribe({next:n=>{sn(n)||this.formValueChange.emit(n)},error:n=>{console.error("Error in form value changes:",n)}})}ngOnDestroy(){this.isDestroyed=!0,this.rebuildTimeoutId&&clearTimeout(this.rebuildTimeoutId),this.modalFormService.closeActiveDialog()}validateFieldNames(n){this.formValidationService.validateFieldNames(n)}setupFormPersistence(){this.formPersistenceService.setupFormPersistence(this.form,this.sections(),this.destroyRef)}handleDependencies(){this.formDependencyService.handleDependencies(this.sections(),this.form,this.destroyRef)}loadPersistedState(){this.formPersistenceService.loadPersistedState(this.form,this.sections())}handleAction(n){n.action&&n.action(this.form)}isDisabled(n){return C(n.disabled)?He(n.disabled)?n.disabled(this.form):!!n.disabled:!1}isVisible(n){return C(n.visible)?He(n.visible)?n.visible(this.form):!!n.visible:!0}toggleSection(n){let e=this.collapsedSections();e.has(n)?e.delete(n):e.add(n),this.collapsedSections.set(new Set(e))}isSectionCollapsed(n){return this.collapsedSections().has(n)}isFieldVisible(n){return n.visible!==!1}getFieldControl(n){return this.form.get(n)}hasError(n,e){return this.formValidationService.hasError(n,e)}getErrorMessage(n,e){return this.formValidationService.getErrorMessage(n,e)}onSubmit(){this.form.valid&&this.formSubmit.emit(this.form.value)}getFieldWithPath(n,e){return this.formPathService.getFieldWithPath(n,e)}getFullPath(n,e){return this.formPathService.getFullPath(n,e)}onFieldChange(n,e,t=""){this.conditionalFieldService.handleFieldChange(n,e,t,{form:this.form,dynamicFields:this.dynamicFields,updateDynamicFields:i=>this.dynamicFields.set(i(this.dynamicFields()))},(i,r,a)=>this.onFieldChange(i,r,a))}processInitialConditionalFields(){this.conditionalFieldService.processInitialConditionalFields(this.fields(),this.form,{processConditionalFieldsAtLevel:(n,e="")=>this.processConditionalFieldsAtLevel(n,e)})}processConditionalFieldsAtLevel(n,e=""){this.conditionalFieldService.processConditionalFieldsAtLevel(n,e,this.form,{addConditionalFields:(t,i)=>this.addConditionalFields(t,i),processNestedConditionalFields:(t,i)=>this.processNestedConditionalFields(t,i)})}addConditionalFields(n,e=""){this.conditionalFieldService.addConditionalFields(n,e,{form:this.form,dynamicFields:this.dynamicFields,updateDynamicFields:t=>this.dynamicFields.set(t(this.dynamicFields()))},(t,i)=>this.processNestedConditionalFields(t,i))}processNestedConditionalFields(n,e=""){this.conditionalFieldService.processNestedConditionalFields(n,e,this.form,{processConditionalFieldsAtLevel:(t,i)=>this.processConditionalFieldsAtLevel(t,i),addConditionalFields:(t,i)=>this.addConditionalFields(t,i)})}handleAddItem(n){let{field:e}=n,t=e.props?.modalConfig;if(!t){console.error(`Modal config missing for list field: ${e.key}`);return}let i=t.defaultItemProvider?t.defaultItemProvider():{};this.openListItemModal(e,t,i)}handleEditItem(n){let{field:e,item:t,index:i}=n,r=e.props?.modalConfig;if(!r){console.error(`Modal config missing for list field: ${e.key}`);return}let a=Xi.deepCloneItem(t);this.openListItemModal(e,r,a,i)}async handleDeleteItem(n){let{field:e,index:t}=n,i=this.form.get(e.key);if(!i)return;let r=i.value;if(!lt(r))return;if(!Xi.isEditIndexValid(t,r.length)){console.warn(`Delete index ${t} out of bounds for array of length ${r.length}`);return}let a=r[t],c=e.props?.modalConfig,m=!0;if(c&&He(c.onDeleteItem))try{await c.onDeleteItem(a,t,e)===!1&&(m=!1)}catch(v){console.error(`Error in custom onDeleteItem for field ${e.key}:`,v)}if(m){let v=[...r];v.splice(t,1),i.setValue(v),i.markAsDirty(),i.updateValueAndValidity(),this.cdr.markForCheck()}this.modalFormService.showDeletionNotification()}openListItemModal(n,e,t,i){let r=this.form.get(n.key);$(r)||this.modalFormService.openListItemModal({field:n,modalConfig:e,itemData:t,editIndex:i,destroyRef:this.destroyRef}).pipe(dt(this.destroyRef)).subscribe(a=>{Xi.handleResult(a,r)&&(this.modalFormService.showSubmissionNotification(a.isEdit,e.hideSaveNotification),this.cdr.markForCheck())})}warn=console.warn;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-dynamic-form"]],inputs:{fields:[1,"fields"],templates:[1,"templates"],sections:[1,"sections"],actions:[1,"actions"],hideActions:[1,"hideActions"]},outputs:{formReady:"formReady",formSubmit:"formSubmit",formValidityChange:"formValidityChange",formValueChange:"formValueChange",fieldValueChange:"fieldValueChange"},decls:3,vars:1,consts:[["formTemplate",""],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"flex","justify-end","gap-2","mt-4"],[1,"mb-4"],[1,"flex","justify-between","items-center","p-3","bg-gray-50","cursor-pointer","hover:bg-gray-100",3,"click","keydown.enter"],[1,"text-lg","font-medium"],[1,"p-4"],[3,"field","control","customTemplate"],[3,"fieldChange","field","control","customTemplate"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type","label","severity","outlined","disabled","icon","styleClass","loading"],[3,"onClick","type","label","severity","outlined","disabled","icon","styleClass","loading"],[3,"formGroupName"],[1,"mb-3"],[3,"fieldChange","addItem","editItem","deleteItem","field","control","customTemplate"]],template:function(e,t){e&1&&(D(0,AE,4,3,"form",1),g(1,jE,2,0,"ng-template",null,0,ie)),e&2&&F(t.form?0:-1)},dependencies:[ei,Fl,Dl,Ol,Ml,nt,Vi,so,Ai,Pi,ro,lo,uo,Co,ao,fo,bo,wo,_o,Qe,Ye,Ot,Wo,K,we],encapsulation:2})};export{zo as a,Yr as b,Od as c,Ql as d,co as e,pn as f,ns as g,vo as h,bo as i,po as j,uo as k,Co as l,Dr as m,ks as n,Nr as o,Bs as p,qt as q,zi as r,It as s,kt as t,na as u,Kd as v,Yd as w,mo as x,km as y,Em as z};
