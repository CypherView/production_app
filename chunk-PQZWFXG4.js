import{B as s,E as d,hd as f}from"./chunk-FEC2V4R3.js";import{Y as l,ba as o,r}from"./chunk-EG5ORV3B.js";var u=class p{http=o(d);apiUrlService=o(f);baseUrl;constructor(){this.baseUrl=`${this.apiUrlService.getCurrentApiUrl()}/appstore/installations`}getInstallations(t){let e=new s;return t&&(t.owner!==void 0&&(e=e.set("owner",t.owner)),t.offset!==void 0&&(e=e.set("offset",t.offset.toString())),t.limit!==void 0&&(e=e.set("limit",t.limit.toString())),t.sort!==void 0&&(e=e.set("sort",t.sort)),t.filter!==void 0&&(e=e.set("filter",t.filter))),this.http.get(this.baseUrl,{params:e}).pipe(r(i=>i.items.filter(n=>n!=null).map(n=>this.mapFromApi(n))))}getInstallation(t,e){let i=new s;return e!==void 0&&(i=i.set("owner",e)),this.http.get(`${this.baseUrl}/${t}`,{params:i}).pipe(r(n=>this.mapFromApi(n)))}installApp(t,e,i){let n={appId:t,ownerId:e,configuration:i};return this.http.post(this.baseUrl,n).pipe(r(a=>this.mapFromApi(a)))}uninstallApp(t,e){let i=new s().set("owner",e);return this.http.delete(`${this.baseUrl}/${t}`,{params:i}).pipe(r(n=>this.mapFromApi(n)))}updateConfiguration(t,e,i){let n={ownerId:e,configuration:i};return this.http.put(`${this.baseUrl}/${t}/config`,n).pipe(r(a=>this.mapFromApi(a)))}mapFromApi(t){return{id:t.id,ownerId:t.ownerId,appId:t.appId,appName:t.appName,screenIds:t.screenIds,isEnabled:t.isEnabled,configuration:t.configuration,createdAt:t.createdDate,updatedAt:t.updatedDate}}static \u0275fac=function(e){return new(e||p)};static \u0275prov=l({token:p,factory:p.\u0275fac,providedIn:"root"})};export{u as a};
